{"version":3,"file":"url-8d85408e.js","sources":["../../src/utils/url.ts"],"sourcesContent":["import { sanitizeUrl } from '@braintree/sanitize-url';\n\nexport type TSocialName =\n  | 'github'\n  | 'linkedin'\n  | 'behance'\n  | 'dribbble'\n  | 'twitter'\n  | 'instagram'\n  | 'medium'\n  | 'www'\n  | 'www1'\n  | 'www2'\n  | 'www3'\n  | 'custom';\n\nexport const isValidURL = (url: string) => {\n  // eslint-disable-next-line\n  const urlRegex = new RegExp(\n    '^(http:\\\\/\\\\/www\\\\.|https:\\\\/\\\\/www\\\\.|www\\\\.|http:\\\\/\\\\/|https:\\\\/\\\\/)?[a-z0-9]+([\\\\-\\\\.]{1}[a-z0-9]+)*\\\\.[a-z]{2,}(:[0-9]{1,})?(\\\\/.*)?$',\n    'i',\n  );\n\n  if (urlRegex.test(url)) {\n    return true;\n  }\n  return false;\n};\n\nexport const getSocialNameFromLink = (url: string): TSocialName => {\n  if (isValidURL(url)) {\n    try {\n      const lowerUrl = url.toLowerCase();\n      let result: TSocialName = 'www';\n      if (lowerUrl.includes('github.com')) {\n        result = 'github';\n      } else if (lowerUrl.includes('linkedin.com')) {\n        result = 'linkedin';\n      } else if (lowerUrl.includes('dribbble.com')) {\n        result = 'dribbble';\n      } else if (lowerUrl.includes('medium.com')) {\n        result = 'medium';\n      } else if (lowerUrl.includes('twitter.com')) {\n        result = 'twitter';\n      } else if (lowerUrl.includes('instagram.com')) {\n        result = 'instagram';\n      } else if (lowerUrl.includes('behance.net')) {\n        result = 'behance';\n      } else {\n        result = 'www';\n      }\n      return result;\n    } catch (e) {\n      return 'www';\n    }\n  }\n  return 'www';\n};\n\nexport const getSocialHandleFromLink = (url: string): string => {\n  const socialName = getSocialNameFromLink(url);\n  if (socialName === 'www') {\n    return url;\n  }\n  let path = '';\n  if (url.includes('.com/')) {\n    [, path] = url.split('.com/');\n  } else if (url.includes('.net')) {\n    [, path] = url.split('.net/');\n  }\n  const pathFrag = path?.split('/') || [];\n  let result = '';\n  switch (socialName) {\n    case 'linkedin':\n      result = pathFrag.length > 0 ? pathFrag[1] || pathFrag[0] : '';\n      break;\n    default:\n      [result] = pathFrag;\n  }\n  return `@${result}`;\n};\n\nexport const parseAndSanitizeOpenLink = (userInput: string) => {\n  let result = sanitizeUrl(userInput);\n\n  if (result === 'about:blank') {\n    return undefined;\n  }\n\n  result = result.toLowerCase();\n\n  if (result.includes('http') && !result.includes('https')) {\n    result = result.replace('http', 'https');\n  }\n\n  if (!result.includes('https://')) {\n    result = `https://${result}`;\n  }\n\n  return isValidURL(result) ? result : undefined;\n};\n\nexport const makeSocialLink = (\n  socialName: string,\n  handle: string,\n): string | undefined => {\n  let result = '';\n\n  if (socialName === 'www1' || socialName === 'www2' || socialName === 'www3') {\n    return parseAndSanitizeOpenLink(handle);\n  }\n\n  if (\n    socialName === 'www' ||\n    socialName === 'custom' ||\n    handle.match('www.') ||\n    handle.match('.net') ||\n    handle.match('.com')\n  ) {\n    result = handle;\n  } else if (socialName === 'behance') {\n    result = `https://behance.net/${handle}`;\n  } else if (socialName === 'linkedin') {\n    result = `https://linkedin.com/in/${handle}`;\n  } else {\n    result = `https://${socialName}.com/${handle}`;\n  }\n  return result;\n};\n"],"names":["isValidURL","url","urlRegex","RegExp","test","getSocialNameFromLink","lowerUrl","toLowerCase","result","includes","getSocialHandleFromLink","socialName","path","split","pathFrag","length","parseAndSanitizeOpenLink","userInput","sanitizeUrl","replace","undefined","makeSocialLink","handle","match"],"mappings":"0CAgBaA,MAAAA,EAAcC,GAOrBC,EALa,IAAIC,OACnB,6IACA,GAAG,EAGQC,KAAKH,CAAG,EAMVI,EAAyBJ,GAA6B,CAC7DD,GAAAA,EAAWC,CAAG,EACZ,GAAA,CACIK,MAAAA,EAAWL,EAAIM,cACrB,IAAIC,EAAsB,MACtBF,OAAAA,EAASG,SAAS,YAAY,EACvBD,EAAA,SACAF,EAASG,SAAS,cAAc,EAChCD,EAAA,WACAF,EAASG,SAAS,cAAc,EAChCD,EAAA,WACAF,EAASG,SAAS,YAAY,EAC9BD,EAAA,SACAF,EAASG,SAAS,aAAa,EAC/BD,EAAA,UACAF,EAASG,SAAS,eAAe,EACjCD,EAAA,YACAF,EAASG,SAAS,aAAa,EAC/BD,EAAA,UAEAA,EAAA,MAEJA,QAEA,MAAA,KACT,CAEK,MAAA,KACT,EAEaE,EAA2BT,GAAwB,CACxDU,MAAAA,EAAaN,EAAsBJ,CAAG,EAC5C,GAAIU,IAAe,MACVV,OAAAA,EAET,IAAIW,EAAO,GACPX,EAAIQ,SAAS,OAAO,EACtB,CAAA,CAAGG,CAAI,EAAIX,EAAIY,MAAM,OAAO,EACnBZ,EAAIQ,SAAS,MAAM,IAC5B,CAAA,CAAGG,CAAI,EAAIX,EAAIY,MAAM,OAAO,GAE9B,MAAMC,GAAWF,GAAAA,YAAAA,EAAMC,MAAM,OAAQ,CAAA,EACrC,IAAIL,EAAS,GACb,OAAQG,EAAU,CAChB,IAAK,WACMG,EAAAA,EAASC,OAAS,EAAID,EAAS,CAAC,GAAKA,EAAS,CAAC,EAAI,GAC5D,MACF,QACE,CAACN,CAAM,EAAIM,CAAS,CAExB,MAAQ,IAAGN,GACb,EAEaQ,EAA4BC,GAAsB,CACzDT,IAAAA,EAASU,EAAYD,CAAS,EAElC,GAAIT,IAAW,cAIfA,OAAAA,EAASA,EAAOD,cAEZC,EAAOC,SAAS,MAAM,GAAK,CAACD,EAAOC,SAAS,OAAO,IAC5CD,EAAAA,EAAOW,QAAQ,OAAQ,OAAO,GAGpCX,EAAOC,SAAS,UAAU,IAC7BD,EAAU,WAAUA,KAGfR,EAAWQ,CAAM,EAAIA,EAASY,MACvC,EAEaC,EAAiBA,CAC5BV,EACAW,IACuB,CACvB,IAAId,EAAS,GAEb,OAAIG,IAAe,QAAUA,IAAe,QAAUA,IAAe,OAC5DK,EAAyBM,CAAM,GAItCX,IAAe,OACfA,IAAe,UACfW,EAAOC,MAAM,MAAM,GACnBD,EAAOC,MAAM,MAAM,GACnBD,EAAOC,MAAM,MAAM,EAEVD,EAAAA,EACAX,IAAe,UACxBH,EAAU,uBAAsBc,IACvBX,IAAe,WACxBH,EAAU,2BAA0Bc,IAEpCd,EAAU,WAAUG,SAAkBW,IAEjCd,EACT"}