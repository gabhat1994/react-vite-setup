import{Y as pt,w as te,a6 as Ae,a7 as Be,T as A,a8 as K,a9 as J,u as We,e as ie,c as o,M as qe,j as e,h as Ge,i as $e,F as E,I as F,S as ee,k as bt,B as D,aa as Ue,X as gt,ab as je,ac as Fe,R as X,ad as I,ae as Ct,af as ft,ag as kt,ah as yt,ai as Ze,aj as Qe,d as Me,ak as St,al as xt,am as be,f as ue,x as j,an as Mt,a5 as Y,ao as Nt,n as Lt,ap as Tt,aq as vt,ar as wt,as as T,at as Re,au as Ye,av as _t,aw as ce,ax as Se,t as It,ay as Ve,az as Xe,O as Pt,aA as Ke,aB as At,aC as Bt,aD as Ft,aE as Rt,aF as Dt,aG as Et}from"./index-cd84bcc9.js";import{r as n,bA as zt,C as H,ar as oe,ac as Ht,a9 as Ne,B as N,aT as ge,l as De,N as Ot,aB as Wt}from"./vendor-51460554.js";import"./helper-53a5becb.js";import{u as Le,P as qt,a as Gt}from"./index-ea5d695b.js";import{L as $t}from"./index-c8a663c0.js";import{C as Ut}from"./ChambersList-14c207f2.js";import{R as le}from"./Radiobox-c1e62033.js";import{t as xe}from"./consts-be860660.js";import{R as jt,u as Zt,a as Qt,b as Yt,c as Vt,C as Xt,L as Je,H as Kt,M as Jt}from"./HandleUnlinkNoum-c385ad89.js";import{P as ea}from"./Modal-5a254f40.js";import{T as ta}from"./index-1f4ed9fc.js";import{C as aa,a as na,b as oa}from"./styles-0f5f7d9d.js";import{c as sa}from"./skeletonLoaderHelpers-6eaa92ec.js";import{E as ra,P as ia,T as la,C as da,a as ca,b as ua,M as ha,I as ma,A as pa,c as ba,F as ga,S as Ca,d as fa,e as ka,R as ya,f as Sa,L as xa,g as et,h as de,i as Ce,j as Ma,k as ne,l as Na,m as La,n as Ta,o as va,p as wa,q as _a,r as Ia,s as Pa,t as Aa,u as Ba,v as Fa}from"./styles-d2f9f396.js";import{E as tt}from"./EllipsisMenu-8495dca0.js";import{c as at}from"./capitalizeFirstLetter-92ef0abb.js";import"./sideNavItems-22800105.js";import"./index-2d186805.js";import"./useResizeObserver-0deb9469.js";import"./storyblok-c16fb040.js";import"./index-4963229a.js";import"./styles-3ceda759.js";import"./ChamberBox-e4d36ac9.js";import"./SkeletonChamberBox-5e97f066.js";import"./useTimeIndicator-3b8ca7e8.js";import"./styles-346e761c.js";import"./MemberStatusTag-69ed5aaa.js";import"./ChamberActionModal-ce3fca40.js";import"./styles-1a9b9e59.js";import"./LinkNoumOption-dc9c410c.js";import"./SelectField-54706174.js";import"./forms-18e3c53a.js";import"./index-022aaf3d.js";import"./styles-26e8a352.js";import"./Pagination-43542d57.js";import"./TickCheckbox-c4d9d4b6.js";import"./Accordion-ea03839b.js";import"./MultiselectField-a1e665cb.js";import"./useElementDimensions-84b2a778.js";import"./utils-87d126b1.js";import"./styles-75177d6f.js";import"./NoSearchResultsForNoums-50e9f00f.js";import"./styles-46bbc451.js";const Ra=()=>{const[a,t]=n.useState(0),[m,l]=n.useState(0),{logError:h}=pt(),{flags:b}=te(),{data:f,error:y}=Ae({fetchPolicy:"network-only",skip:!b.paymentSubscriptions,variables:{noumDetailInput:{status:Be.Active}},onError:()=>{h(y,"gqlGetNoumTransactionFeeDetails")}}),{data:C,error:u}=Ae({fetchPolicy:"network-only",skip:!b.paymentSubscriptions,variables:{noumDetailInput:{status:Be.Delinquent}},onError:()=>{h(u,"gqlGetNoumTransactionFeeDetails")}});function p(x){if(x){const d=new Date;return zt(new Date(x),d)}return 0}const S=n.useCallback(x=>{let d=0;const M=[];if(x.length>0){for(let k=0;k<x.length;k+=1){const g=x[k];p(g==null?void 0:g.valid_till)<11&&p(g==null?void 0:g.valid_till)>0&&M.push(g)}d=M.length}return d},[]);return n.useEffect(()=>{l(S((f==null?void 0:f.getNoumTransactionFeeDetails)||[]))},[S,f]),n.useEffect(()=>{t((C==null?void 0:C.getNoumTransactionFeeDetails.length)||0)},[C]),{gracePeriedCount:a,expirySoonCount:m}},Ee=H(A)`
  padding: 16px;
`,fe=H.div`
  display: flex;
  flex-direction: column;
  width: 100%;
  box-sizing: border-box;
`,ke=H.div`
  padding: ${({variant:a})=>a==="filter"?16:12}px;
  display: flex;
  margin-right: auto;
  label {
    padding-right: 16px;
  }
`,ye=H.div`
  width: 100%;
  border-top: 1px solid var(--bg-separator-neutral-default);
`,Da=H.div`
  background-color: ${({bgColor:a})=>a};
  color: ${({color:a})=>a};
  display: flex;
  justify-content: center;
  align-items: center;
  border-radius: 8px;
  padding: 0 8px;
  min-height: 22px;
  font-weight: var(--font-body-small-bold-weight);
  font-size: var(--font-body-medium-size);
  text-align: center;
`,Ea=({onClose:a,onSelectOption:t,selectedSortOption:m,categoryOptions:l,onSelectCategory:h,selectedCategoryID:b,selectedId:f,selectedLinkSort:y,onSelectLinkOption:C,shouldShowFilter:u})=>{const{t:p}=oe(),S=!!(window!=null&&window.navigator.userAgent.match(/iPhone/i)),[x,d]=n.useState(K[0]),[M,k]=n.useState(J()[0]),[g,w]=n.useState(null),[v,P]=n.useState(!1),R=n.useCallback(r=>{v||P(!0),d(r)},[v,d]),c=n.useCallback(r=>{v||P(!0),k(r)},[v,k]),s=n.useCallback(r=>{v||P(!0),w(r)},[v,w]),i=n.useCallback(()=>{t(x),h((g==null?void 0:g.value)||"-1"),C(M),a()},[a,h,C,t,g==null?void 0:g.value,M,x]);n.useEffect(()=>{d(K.filter(r=>r.value===(m==null?void 0:m.value))[0]),k(J().filter(r=>r.value===(y==null?void 0:y.value))[0]),w(l.filter(r=>r.value===b)[0])},[l,b,y==null?void 0:y.value,m==null?void 0:m.value]);const L=We(),q=n.useMemo(()=>L.width>ie.LAPTOP,[L.width]);return o(qe,{open:!q,isFullScreen:!0,enableCloseButton:!0,testId:"chamber-filter",onClose:a,disableBackdropClick:!0,"data-test":"ChambersFilter-Modal",children:[e(Ge,{isFullScreen:!0,justifyContent:"flex-start","data-test":"ChambersFilter-ModalHeader",children:p("noumena.chambers.filter_modal_title")}),e($e,{isFullScreen:!S,"data-test":"ChambersFilter-ModalBody",children:f==="Linked"?e(E,{children:J().map(r=>{var B;return o(fe,{"data-test":"ChambersFilter-RadioBoxWrapper",children:[o(ke,{variant:"sort",onClick:()=>c(r),"data-test":"ChambersFilter-RadioBoxItem",children:[e(le,{isChecked:r.value===M.value,icon:e(F,{name:"radio_btn_m",size:r.value===M.value?12:0,color:r.value===M.value?"--icon-radiobutton-brand-primary-default":"--icon-radiobutton-inactive-default","data-test":"ChambersFilter-Icon"}),"data-test":"ChambersFilter-Radiobox"}),e(A,{font:"body-m-bold",colorToken:"--text-tablecell-header-neutral-highlighted","data-test":"ChambersFilter-TSpan",children:(B=r.label)==null?void 0:B.toString()})]}),e(ye,{"data-test":"ChambersFilter-Divider"})]},r.key)})}):o(E,{children:[e(Ee,{font:"body-l-bold",colorToken:"--text-body-header-neutral-default","data-test":"ChambersFilter-SubTitle",children:p("noumena.chambers.sorting")}),K.map(r=>{var B;return o(fe,{"data-test":"ChambersFilter-RadioBoxWrapper",children:[o(ke,{variant:"sort",onClick:()=>R(r),"data-test":"ChambersFilter-RadioBoxItem",children:[e(le,{isChecked:r.value===x.value,icon:e(F,{name:"radio_btn_m",size:r.value===x.value?12:0,color:r.value===x.value?"--icon-radiobutton-brand-primary-default":"--icon-radiobutton-inactive-default","data-test":"ChambersFilter-Icon"}),"data-test":"ChambersFilter-Radiobox"}),e(A,{font:"body-m-bold",colorToken:"--text-tablecell-header-neutral-highlighted","data-test":"ChambersFilter-TSpan",children:(B=r.label)==null?void 0:B.toString()})]}),e(ye,{"data-test":"ChambersFilter-Divider"})]},r.key)}),e(ee,{height:16,"data-test":"ChambersFilter-Spacer"}),u&&o(E,{children:[e(Ee,{font:"body-l-bold",colorToken:"--text-body-header-neutral-default","data-test":"ChambersFilter-SubTitle",children:p("noumena.chambers.types")}),l.map(r=>o(fe,{"data-test":"ChambersFilter-RadioBoxWrapper",children:[o(ke,{variant:"filter",onClick:()=>s(r),"data-test":"ChambersFilter-RadioBoxItem",children:[e(le,{isChecked:r.value===(g==null?void 0:g.value),icon:e(F,{name:"radio_btn_m",size:r.value===(g==null?void 0:g.value)?12:0,color:r.value===(g==null?void 0:g.value)?"--icon-radiobutton-brand-primary-default":"--icon-radiobutton-inactive-default","data-test":"ChambersFilter-Icon"}),"data-test":"ChambersFilter-Radiobox"}),o(Da,{...xe[r.labelColor],"data-test":"ChambersFilter-TagLabel",children:[r.icon,r.label]})]}),e(ye,{"data-test":"ChambersFilter-Divider"})]},r.key))]})]})}),e(bt,{isFullScreen:!0,justifyContent:"center","data-test":"ChambersFilter-ModalFooter",children:v?e(D,{testId:"chamber-filter-apply-button",onClick:i,primary:!0,size:"full","data-test":"ChambersFilter-Button",children:p("noumena.chambers.filter_modal_button_apply_filter")}):e(D,{testId:"chamber-filter-cancel-button",size:"full",tertiary:!0,onClick:()=>a(),"data-test":"ChambersFilter-Button",children:p("noumena.container.chamber_save_as_draft.cancel")})})]})},za=H(A)`
  text-align: center;
  display: flex;
  flex-direction: row;
  align-self: center;
  align-items: center;
  height: ${a=>a.height}px;
`,Ha=H.div`
  display: flex;
  align-items: flex-start;
  padding: 0px;
  gap: 8px;
  flex: none;
  order: 1;
  align-self: stretch;
  flex-grow: 0;
`,ze=H.div`
  display: flex;
  border: 1px solid var(--border-card-neutral-highlighted);
  flex-direction: column;
  align-items: flex-start;
  padding: 12px;
  border-radius: 8px;
  gap: 8px;
  flex: none;
  order: ${({order:a})=>a||0};
  flex-grow: 1;
  box-sizing: border-box;
  width: 124px;
`,Oa=H.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  padding: 4px 8px;
  gap: 4px;
  width: 237px;
  height: 30px;
  background: var(--bg-tag-danger-secondary-default);
  border-radius: 8px;
  flex: none;
  order: 2;
  flex-grow: 0;
`,Wa=H.div`
  display: flex;
  flex-direction: column;
  gap: 16px;
`,qa=H.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  padding: 4px;
  gap: 4px;
  width: 256px;
  height: 30px;
  background: var(--bg-tag-brand-secondary-default);
  border-radius: 8px;
  flex: none;
  order: 2;
  align-self: stretch;
  flex-grow: 0;
`,nt=Ht.memo(()=>{const[a,t]=n.useState(),[m,l]=n.useState(!1),h=Ue(),b=Ne(),{isMobile:f}=gt(),{gracePeriedCount:y,expirySoonCount:C}=Ra(),{subscribedPlans:u,loading:p,totalNoumRenewalSlots:S,totalNoumSetupSlots:x,activeNoumRenewalSlots:d,activeNoumSetupSlots:M}=Le();n.useEffect(()=>{u.length>0&&p===!1?t(!0):u.length<=0&&p&&t(!1)},[p,u]);const k=()=>{b(X.MY_PLAN)};return o(E,{children:[o(aa,{children:[o(na,{children:[e(oa,{font:"body-l-bold",colorToken:"--text-card-header-neutral-highlighted",children:N("noumena.money.myplans")}),e(D,{size:"small",style:{width:"40px",height:"40px"},leftIcon:e(F,{name:"arrow_right_m",size:24,color:"--icon-button-neutral-default","data-test":"MyPlans-Icon"}),"data-testid":"stepTwoBackButton",tertiary:!0,onClick:k,"data-test":"MyPlans-Button"})]}),e(ee,{height:16,"data-test":"MyPlans-Spacer"}),p&&o(E,{children:[o("div",{style:{display:"flex",justifyContent:"space-between"},children:[e(ge,{width:115,height:80,"data-test":"MyPlans-Skeleton"}),e(ge,{width:115,height:80,"data-test":"MyPlans-Skeleton"})]}),e(ee,{height:15,"data-test":"MyPlans-Spacer"}),e(ge,{count:2,"data-test":"MyPlans-Skeleton"})]}),a===!1&&!p&&e(za,{font:"body-m",colorToken:"--text-placeholder-neutral-default",height:h===je.TABLET?"46.7":"22","data-test":"MyPlans-HelperTextWrapper",children:N("noumena.money.myplans.payasyougo")}),a===!1&&!p&&o(E,{children:[e(ee,{height:16,"data-test":"MyPlans-Spacer"}),e(D,{size:"full_small",secondary:!0,onClick:()=>l(!0),"data-test":"MyPlans-Button",children:N("noumena.money.myplans.addnewplan")})]}),a&&!p&&o(Wa,{"data-test":"MyPlans-PlanSelected",children:[o(Ha,{"data-test":"MyPlans-PlanInfo",children:[o(ze,{"data-test":"MyPlans-PlanInfoTile",children:[e(Fe,{percentage:M/x*100,color:M/x*100===0?"var(--bg-progressbar-neutral-default)":"var(--bg-progressbar-brand-primary-default)",barSize:3,circleSize:24,"data-test":"MyPlans-CircleProgressBar"}),e(A,{font:"footnote",colorToken:"--text-card-neutral-default","data-test":"MyPlans-TSpan",children:N("noumena.money.myplans.noumsetup")}),o(A,{font:"body-m",colorToken:"--text-card-header-neutral-highlighted","data-test":"MyPlans-TSpan",children:[M," / ",x]})]}),o(ze,{"data-test":"MyPlans-PlanInfoTile",children:[e(Fe,{percentage:d/S*100,color:d/S*100===0?"var(--bg-progressbar-neutral-default)":"var(--bg-progressbar-brand-primary-default)",barSize:3,circleSize:24,"data-test":"MyPlans-CircleProgressBar"}),e(A,{font:"footnote",colorToken:"--text-card-neutral-default","data-test":"MyPlans-TSpan",children:N("noumena.money.myplans.noumrenewal")}),o(A,{font:"body-m",colorToken:"--text-card-header-neutral-highlighted","data-test":"MyPlans-TSpan",children:[d," / ",S]})]})]}),C>0&&o(Oa,{"data-test":"MyPlans-NoumExpired",children:[e(F,{name:"time_m_red",color:"--icon-tag-danger-secondary-default",size:16.67,"data-test":"MyPlans-Icon"}),e(A,{font:"body-m-bold",colorToken:"--text-tag-danger-secondary-default","data-test":"MyPlans-TSpan",children:`Your  ${C===1?"Noum":`${C} Noums `}  will expire soon`})]}),y>0&&o(qa,{"data-test":"MyPlans-NoumGracePeriod",children:[e(ta,{top:-120,left:f?5:1,iconColor:"--icon-tag-brand-primary",iconSize:16.67,"data-test":"MyPlans-Tooltip",children:e("div",{style:{width:f?"300px":"230px"},children:e(A,{colorToken:"--text-tooltip-neutral-alt-default",font:"footnote","data-test":"MyPlans-TSpan",children:N("noumena.money.subscription.noum.grace.period.tooltip.text")})})}),e(A,{font:"body-m-bold",colorToken:"--text-tag-brand-primary-default","data-test":"MyPlans-TSpan",children:`Your ${y===1?"Noum is":`${y} Noums are`}   in grace period`})]})]})]}),m&&e(qt,{open:m,onClose:()=>l(!1),launchFrom:Gt.INITIAL_SETUP,"data-test":"MyPlans-PlanPurchaseModal"})]})}),ot=a=>{switch(a){case I.Owned:return N("noumena.no_result_owned.heading");case I.Connected:return N("noumena.no_result_connected.heading");case I.Following:return N("noumena.no_result_following.heading");case I.Archived:return N("noumena.no_result_archived.heading");case I.Linked:return N("noumena.no_result_linked_noum.heading");default:return N("noumena.no_result.text")}},st=a=>{switch(a){case I.Owned:return N("noumena.chamber.empty_owned.description");case I.Connected:return N("noumena.chamber.empty_connected.description");case I.Following:return N("noumena.chamber.empty_following.description");case I.Archived:return N("noumena.chamber.empty_archived.description");default:return N("noumena.chamber.empty.description")}},He=({tab:a})=>e(ra,{"data-test":"Empty-EmptyCardContainer",children:e(Ct,{"data-test":"Empty-Card",children:o(ia,{"data-test":"Empty-PlantContainer",children:[e(ee,{height:16,"data-test":"Empty-Spacer"}),e(A,{font:"heading-xs-bold",colorToken:"--text-card-header-neutral-highlighted","data-test":"Empty-TSpan",children:ot(a)}),e(A,{font:"footnote",colorToken:"--text-card-neutral-default","data-test":"Empty-TSpan",children:st(a)})]})})}),Ga=H.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  flex: 1;
  width: 100%;
  height: 100%;
  margin-top: ${({offsetTop:a})=>`${a}px`};
`,Oe=H(A)`
  margin-top: 16px;
`,$a=H(A)`
  margin-top: 8px;
`;function Ua({isNoum:a,offsetTop:t=300,noResultText:m,noResultSubText:l,children:h,tab:b,isFilterApplied:f}){const{isLoading:y}=ft();return a||y?e(E,{children:h}):!f&&b?e(He,{tab:b,"data-test":"Empty"}):(m||l)&&b?e(He,{tab:b,"data-test":"Empty"}):e(Ga,{"data-testid":"no-result-wrapper",offsetTop:t,"data-test":"NoResultWrapper",children:m||l?o(E,{children:[e(Oe,{font:"heading-xs-bold",colorToken:"--text-card-header-neutral-highlighted","data-testid":"no-result-message","data-test":"NoResultText",children:m}),e($a,{font:"footnote",colorToken:"--text-card-neutral-default","data-testid":"no-result-sub-message","data-test":"NoResultSubText",children:l})]}):e(Oe,{font:"heading-xs-bold",colorToken:"--text-card-header-neutral-highlighted","data-testid":"no-result-default-message","data-test":"NoResultText",children:N("noumena.no_result.text")})})}const ja=({isOpen:a,handleClose:t,dropDownOptions:m})=>e(kt,{enableCloseButton:!0,testId:"chamber-BottomSheet",open:a,onClose:t,style:{padding:16,maxWidth:375},usePortal:!0,position:"fixed","data-test":"ChamberBottomSheet-BottomSheet",children:e(yt,{style:{justifyContent:"flex-end",paddingBottom:"30px",gap:8},"data-test":"ChamberBottomSheet-BottomSheetBody",children:m.map(l=>e(D,{size:"full",leftIcon:e(F,{color:l.iconColor,name:l.icon,size:24,"data-test":"ChamberBottomSheet-Icon"}),onClick:l.onClick,"data-test":"ChamberBottomSheet-Button",children:l.label},l.key))})}),Za=({selectedId:a,categoryOptions:t,onChange:m,onSelectOption:l,onSelectCategory:h,onSelectLinkOption:b,noumType:f})=>{const[y,C]=n.useState(t),{categoryID:u,sortInfo:p,setSelectedCategoryID:S,setSortInfo:x,sortLinkInfo:d,setSortLinkInfo:M}=n.useContext(Ze),k=n.useCallback(c=>{h(c.value),S(c.value)},[h,S]),g=n.useCallback(c=>{l(c),x(c)},[x,l]),w=n.useCallback(c=>{b(c),M(c)},[b,M]),v=n.useMemo(()=>[I.Connected,I.Following].includes(a),[a]),P=n.useMemo(()=>{const c=v&&f===Qe.Project,s=[I.Archived,I.Owned].includes(a);return c||s},[v,f,a]);n.useEffect(()=>{t.length>0&&C(t.map(c=>{var s,i;return{...c,selected:c.value===u,icon:e(le,{isChecked:c.value===u,icon:e(F,{name:"flag_pl_m",size:c.value===u?12:0,color:c.value===u?"--icon-radiobutton-brand-primary-default":"--icon-radiobutton-inactive-default","data-test":"ChambersHead-Icon"}),"data-test":"ChambersHead-Radiobox"}),label:o(la,{bgColor:c.labelColor?(s=xe[c.labelColor])==null?void 0:s.bgColor:"",color:c.labelColor?(i=xe[c.labelColor])==null?void 0:i.color:"","data-test":"ChambersHead-TagLabel",children:[c.icon,c.label]})}}))},[u,t]);const R=n.useCallback(()=>{S("-1"),h("-1")},[S,h]);return e(da,{"data-test":"ChambersHead-ChambersHeadWrapper",children:o(ca,{"data-testid":"Chamber-action-buttons","data-test":"ChambersHead-ChamberActionButtons",children:[e(Me,{onChange:c=>{m(c),R()},inputList:[...St,...xt],selectedId:a,mode:"isBackground",isWithoutImage:!0,fontSize:"--font-link-medium-size",tabWidth:"auto","data-test":"ChambersHead-BasicChipsTabsForm"}),e(ua,{"data-test":"ChambersHead-ChambersDropDown",children:a==="Linked"?e(be,{hideIcons:!0,placement:"bottom-start",options:J(),onSelectOption:w,isAnimation:!1,usePortal:!0,calRefTop:!1,observerMinHeight:"0",padding:"0px",searchDisabled:!0,autoFocusInternalSearch:!1,"data-test":"ChambersHead-Dropdown",children:({targetRef:c,toggle:s})=>{var i;return e(D,{ref:c,size:"small",rightIcon:e(F,{name:"chevron_down_m",size:16,color:"--icon-input-neutral-default","data-test":"ChambersHead-Icon"}),softDisabled:!0,onClick:s,"data-test":"ChambersHead-Button",children:((i=J().filter(L=>L.value===(d==null?void 0:d.value))[0])==null?void 0:i.label)||""})}}):o(E,{children:[e(be,{hideIcons:!0,placement:"bottom-start",options:K,onSelectOption:g,isAnimation:!1,searchDisabled:!0,autoFocusInternalSearch:!1,"data-test":"ChambersHead-Dropdown",children:({targetRef:c,toggle:s})=>{var i;return e(D,{ref:c,size:"small",rightIcon:e(F,{name:"chevron_down_m",color:"--icon-input-neutral-default",size:16,"data-test":"ChambersHead-Icon"}),softDisabled:!0,onClick:s,"data-test":"ChambersHead-Button",children:((i=K.filter(L=>L.value===(p==null?void 0:p.value))[0])==null?void 0:i.label)||""})}}),P&&e(be,{options:y,onSelectOption:k,isAnimation:!1,searchDisabled:!0,autoFocusInternalSearch:!1,"data-test":"ChambersHead-Dropdown",children:({targetRef:c,toggle:s})=>{var i;return e(D,{ref:c,size:"small",rightIcon:e(F,{name:"chevron_down_m",color:"--icon-input-neutral-default",size:16,"data-test":"ChambersHead-Icon"}),softDisabled:!0,onClick:s,"data-test":"ChambersHead-Button",children:((i=t.filter(L=>L.value===u)[0])==null?void 0:i.label)||""})}})]})})]})})},Qa=({onToggleFilter:a,onToggleCreate:t,openBottomSheet:m,isFiltered:l=!1})=>{const{t:h}=oe(),{isActive:b}=ue(),{flags:{newAppNavigation:f}}=te();return o(ha,{isAppUiV2:f,"data-test":"ChambersMobileActions-MobileBottomActionsContainer",children:[o(ma,{"data-test":"ChambersMobileActions-IconButtonStyled",children:[e(D,{size:"large",neutral:!0,onClick:a,"data-testid":"chamber-filtering",rightIcon:e(F,{name:"align_center_m",size:24,color:"--icon-button-neutral-default","data-test":"ChambersMobileActions-Icon"}),"data-test":"ChambersMobileActions-Button"}),e(pa,{"data-test":"ChambersMobileActions-AlertIconStyled",children:l&&e(F,{name:"flag_pl_m",size:12,color:"--bg-badge-danger-primary-default","data-test":"ChambersMobileActions-Icon"})})]}),o(j,{"data-test":"ChambersMobileActions-Stack",children:[e(ba,{onClick:m,softDisabled:!b,size:"large",neutral:!0,"data-testid":"create-chamber-bottom-sheet",style:{marginRight:12},rightIcon:e(F,{name:"more_m",size:24,color:b?"":"--icon-button-neutral-default","data-test":"ChambersMobileActions-Icon"}),"data-test":"ChambersMobileActions-MobileButtons"}),e(ee,{width:12,"data-test":"ChambersMobileActions-Spacer"}),e(ga,{show:!1,"data-test":"ChambersMobileActions-FilterSelected"}),e(D,{onClick:t,softDisabled:!b,size:"large",primary:!0,"data-testid":"create-chamber",leftIcon:e(F,{name:"plus_m",size:24,color:b?"":"--icon-button-neutral-alt-default","data-test":"ChambersMobileActions-Icon"}),"data-test":"ChambersMobileActions-Button",children:h("noumena.chambers.new_noum")})]})]})},Ya=({onContactManagerClick:a,onContractManagerClick:t,onInvoiceManagerClick:m,onToggleCreate:l,onToggleLinkNoum:h,onToggleManageMembers:b,onCampaginManagerClick:f})=>{const{flags:{contractTool:y,paymentSubscriptions:C,invoiceTool:u,contacts:p,campaigns:S,noumCoManager:x}}=te(),{isActive:d,masterId:M}=ue(),{subscribedPlans:k,payAsYouGoPlan:g}=Le(),w=!!(k!=null&&k.length)||!!(g!=null&&g.length),v=P=>{P===N("noumena.noum_link.link_noums")&&h(),P==="manage_members"&&b()};return o(Ca,{"data-test":"ChambersRightSideBar-SideBarContainer",children:[o(fa,{"data-test":"ChambersRightSideBar-CreateChamberButton",children:[e(D,{onClick:l,softDisabled:!d,primary:!0,size:"full","data-testid":"create-chamber",icon:e(F,{name:"plus_m",size:24,color:d?"":"--icon-button-neutral-alt-default","data-test":"ChambersRightSideBar-Icon"}),"data-test":"ChambersRightSideBar-Button",children:N("noumena.noum_create_new.text")}),e("div",{className:"ellipsis-menu",children:e(tt,{menuOptions:Mt.filter(P=>P.value==="manage_members"?x:!0),size:"full",onClick:v,containerWidth:"147","data-test":"ChambersRightSideBar-EllipsisMenu"})})]}),d&&y&&e(D,{secondary:!0,size:"full","data-testid":"contract_manager",onClick:t,"data-test":"ChambersRightSideBar-Button",children:N("noumena.contract_manager.contract_manager")}),d&&u&&e(D,{secondary:!0,size:"full","data-testid":"invoice_manager",onClick:m,"data-test":"ChambersRightSideBar-Button",children:"Invoice Manager"}),d&&p&&e(D,{secondary:!0,size:"full","data-testid":"contact_manager",onClick:a,"data-test":"ChambersRightSideBar-Button",children:N("noumena.contact_manager.contact_manager")}),d&&S&&e(D,{secondary:!0,size:"full","data-testid":"campaigns_manager",onClick:f,"data-test":"ChambersRightSideBar-Button",children:N("noumena.campaigns")}),e(jt,{noumId:M,isChambersScreen:!0,"data-test":"ChambersRightSideBar-ReceivedRequests"}),C&&d&&w&&e(nt,{"data-test":"ChambersRightSideBar-MyPlans"})]})},Va=()=>{var p,S;const{flags:{noumRequestsInvitesV2:a}}=te(),[t,m]=Y(),{masterId:l}=ue(),{t:h}=oe(),{data:b,loading:f}=Zt(),{data:y,loading:C,refetch:u}=Qt({status:Nt.Invited});return o(ka,{isLoading:f,"data-test":"InvitesAndRequests-InvitesAndRequestsContainer",children:[e(D,{size:"full",rightIcon:f||C?e(ya,{"data-test":"InvitesAndRequests-RightSpinnerContainer",children:e(Lt,{"data-test":"InvitesAndRequests-Spinner"})}):e(Tt,{size:"large",text:((((p=b==null?void 0:b.receivedConnectionRequest)==null?void 0:p.count)||0)+(((S=y==null?void 0:y.requestedConnection)==null?void 0:S.count)||0)).toString(),"data-test":"InvitesAndRequests-Badge"}),"data-test":"InvitesAndRequests-Button",children:e(Sa,{onClick:m,colorToken:"--text-button-neutral-default","data-test":"InvitesAndRequests-InviteLabel",children:h("noumena.chamber.requests_and_invites")})}),a?e(Yt,{isOpen:t,handleClose:m,refetchReceivedRequests:u,"data-test":"InvitesAndRequests-RequestsAndInvitesModalV2"}):e(Vt,{isOpen:t,isChambersScreen:!0,handleClose:m,noumId:l,"data-test":"InvitesAndRequests-RequestsAndInvitesModal"})]})};function Xa(a,t){var L,q;const[l,{data:h,loading:b,error:f,fetchMore:y}]=vt({fetchPolicy:"cache-and-network"}),[C,{data:u,loading:p,error:S,fetchMore:x}]=wt({fetchPolicy:"cache-and-network"}),d=n.useMemo(()=>p||b,[p,b]),M=n.useMemo(()=>f||S,[S,f]),[k,g]=n.useState(void 0),[w,v]=n.useState(void 0),P=n.useCallback(r=>{s(!d&&r<10?"end":"hasNextPage")},[d]),R=n.useMemo(()=>{switch(t){case T.Connection:return k;case T.Following:return w;default:return}},[k,w,t]),[c,s]=n.useState("hasNextPage");n.useEffect(()=>{if(a)switch(t){case T.Connection:C({variables:{noumLinkId:a,limit:10,offset:0,sort:{column:"approvedAt",operator:Re.Asc}}});break;case T.Following:l({variables:{noumLinkId:a,limit:10,offset:0,sort:{column:"updatedAt",operator:Re.Asc}}});break;default:s("end");break}},[C,l,a,t]);const i=n.useCallback(async()=>{var B,G,$,U,O,Q,V,se;if(!a||!t||!R)return;let r;switch(t){case T.Connection:if(r=await x({variables:{limit:10,offset:(k==null?void 0:k.length)||0}}),(G=(B=r.data)==null?void 0:B.getNoumLinkConnections)!=null&&G.data){const ae=[...k||[],...r.data.getNoumLinkConnections.data];g(ae)}(((U=($=r.data.getNoumLinkConnections)==null?void 0:$.data)==null?void 0:U.length)||0)<10&&s("end");break;case T.Following:if(r=await y({variables:{limit:10,offset:(w==null?void 0:w.length)||0}}),(Q=(O=r.data)==null?void 0:O.getNoumLinkFollowers)!=null&&Q.data){const ae=[...w||[],...r.data.getNoumLinkFollowers.data];v(ae)}(((se=(V=r.data.getNoumLinkFollowers)==null?void 0:V.data)==null?void 0:se.length)||0)<10&&s("end");break;default:s("end");break}},[k,R,x,y,w,a,t]);return n.useEffect(()=>{var r,B,G,$,U,O,Q,V;((r=u==null?void 0:u.getNoumLinkConnections)!=null&&r.data||(B=h==null?void 0:h.getNoumLinkFollowers)!=null&&B.data)&&(t===T.Connection?(g((G=u==null?void 0:u.getNoumLinkConnections)==null?void 0:G.data),P(((U=($=u==null?void 0:u.getNoumLinkConnections)==null?void 0:$.data)==null?void 0:U.length)||0)):t===T.Following&&(v((O=h==null?void 0:h.getNoumLinkFollowers)==null?void 0:O.data),P(((V=(Q=h==null?void 0:h.getNoumLinkFollowers)==null?void 0:Q.data)==null?void 0:V.length)||0)))},[(L=u==null?void 0:u.getNoumLinkConnections)==null?void 0:L.data,(q=h==null?void 0:h.getNoumLinkFollowers)==null?void 0:q.data,P,t]),{currentLinkedNoums:R,infiniteState:c,fetchMore:i,loading:d,error:M}}const Ka=n.forwardRef(({name:a,title:t,profileImage:m,category:l,updateAt:h,tabId:b},f)=>o(E,{children:[e(xa,{ref:f,"data-test":"LinkDetailsContent-LinkContainer",children:o(j,{justify:"space-between",align:"center","data-test":"LinkDetailsContent-Stack",children:[o(j,{gap:12,align:"center","data-test":"LinkDetailsContent-Stack",children:[e(Ye,{url:m,"data-test":"LinkDetailsContent-Avatar"}),o(j,{vertical:!0,style:{width:"calc(100% - 52px)"},"data-test":"LinkDetailsContent-Stack",children:[e(A,{singleLine:!0,font:"body-m-bold",colorToken:"--text-tablecell-header-neutral-highlighted","data-test":"LinkDetailsContent-TSpan",children:a}),e(A,{font:"footnote",colorToken:"--text-tablecell-header-neutral-default","data-test":"LinkDetailsContent-TSpan",children:e("span",{children:t})}),h&&o(A,{font:"footnote",colorToken:"--text-timestamp-neutral-default","data-test":"LinkDetailsContent-TSpan",children:[b===T.Connection?N("noumena.chamber.link.connection_date"):N("noumena.chamber.link.following_date"),_t(h,"date","long","other")]})]})]}),l&&e(et,{bgColor:ce[l.toLowerCase()].bgColor,color:ce[l.toLowerCase()].color,"data-test":"LinkDetailsContent-LinkedTagLabel",children:at(l??"")})]})}),e(de,{"data-test":"LinkDetailsContent-LinkUnderline"})]})),Ja=n.memo(({isOpen:a,handleClose:t,connectionsCount:m,noumsCount:l,followersCount:h,noumLinkId:b,linkedNoums:f,projectType:y=Se.Public})=>{const{t:C}=oe(),[u,p]=n.useState(T.Noum),{currentLinkedNoums:S,infiniteState:x,fetchMore:d,loading:M}=Xa(b,u),k=n.useMemo(()=>{const c=[{id:T.Noum,name:T.Noum,image:"terms_m",text:C("noumena.chamber.link.modal.Noums",{noumsCount:l}),labelSize:"medium"},{id:T.Connection,name:T.Connection,image:"terms_m",text:C("noumena.chamber.link.modal.Connections",{connectionsCount:m}),labelSize:"medium"}];return y!==Se.Secret&&c.push({id:T.Following,name:T.Following,image:"terms_m",text:C("noumena.chamber.link.modal.Followers",{followersCount:h}),labelSize:"medium"}),c},[m,h,l,y,C]),g=c=>{p(c)},w=(c,s)=>c&&!M&&c.length>0?c.map(i=>{var L,q,r,B,G,$,U,O;return e(Ka,{name:s===T.Connection?`${(L=i==null?void 0:i.uid)==null?void 0:L.firstName} ${(q=i==null?void 0:i.uid)==null?void 0:q.lastName}`:i==null?void 0:i.name,title:s===T.Noum?"":((r=i==null?void 0:i.uid)==null?void 0:r.title)??"",profileImage:s===T.Noum?(i==null?void 0:i.profileImage)||Xe:((G=(B=i==null?void 0:i.uid)==null?void 0:B.profile)==null?void 0:G.profilePictureThumbnail)??((U=($=i==null?void 0:i.uid)==null?void 0:$.profile)==null?void 0:U.profilePicture)??Pt,category:s===T.Noum?(O=i==null?void 0:i.category)==null?void 0:O.name:void 0,updateAt:s===T.Noum?void 0:(i==null?void 0:i.approvedAt)??(i==null?void 0:i.lastUpdatedAt)??new Date,tabId:s,"data-test":"LinkDetailsModal-linkedNoumsTabHandler-LinkDetailsContent"},i==null?void 0:i._id)}):s===T.Noum&&!M?o(E,{children:[e(Ce,{font:"body-l",colorToken:"--text-tablecell-header-neutral-highlighted","data-test":"LinkDetailsModal-linkedNoumsTabHandler-TextOnlySpan",children:C("noumena.chamber.link.Noums")}),e(de,{"data-test":"LinkDetailsModal-linkedNoumsTabHandler-LinkUnderline"})]}):s===T.Connection&&!M?o(E,{children:[e(Ce,{font:"body-l",colorToken:"--text-tablecell-header-neutral-highlighted","data-test":"LinkDetailsModal-linkedNoumsTabHandler-TextOnlySpan",children:C("noumena.chamber.link.Connections")}),e(de,{"data-test":"LinkDetailsModal-linkedNoumsTabHandler-LinkUnderline"})]}):s===T.Following&&!M&&o(E,{children:[e(Ce,{font:"body-l",colorToken:"--text-tablecell-header-neutral-highlighted","data-test":"LinkDetailsModal-linkedNoumsTabHandler-TextOnlySpan",children:C("noumena.chamber.link.Followers")}),e(de,{"data-test":"LinkDetailsModal-linkedNoumsTabHandler-LinkUnderline"})]}),v=()=>{switch(u){case T.Connection:return w(S,u);case T.Following:return w(S,u);case T.Noum:default:return w(f,u)}},P=Ue(),R=n.useMemo(()=>P===je.MOBILE,[P]);return o(qe,{testId:"testRequestsAndInvites",open:a,onClose:t,enableCloseButton:!0,size:It.L,isFullScreen:R,disableBackdropClick:!0,"data-test":"LinkDetailsModal-Modal",children:[e(Ge,{"data-test":"LinkDetailsModal-ModalHeader",children:C("noumena.chamber.link.Link.Details")}),o(Xt,{"data-test":"LinkDetailsModal-Container",children:[e(Me,{onChange:g,inputList:k,selectedId:u,mode:"isBackground",isWithoutImage:!0,fontSize:"--font-link-medium-size",fullWidth:!0,textFont:"--font-body-medium-regular-font","data-test":"LinkDetailsModal-BasicChipsTabsForm"}),e($e,{minHeight:450,...!R&&{maxHeight:"450px"},"data-test":"LinkDetailsModal-ModalBody",children:e(Ve,{onFetchMore:d,disableFetchMoreWhileLoading:!0,status:x,isSpinnerRelative:!0,width:"100%",style:{overflowX:"hidden"},"data-test":"LinkDetailsModal-Infinite",children:v()})})]})]})}),en=({linkedNoums:a,noumsCount:t,connectionsCount:m,followersCount:l,linkedAt:h,noumLinkId:b,projectType:f})=>{const y=Ne(),C=n.useRef(null),{refetchLinkedNoums:u}=Ke(),{width:p}=We(),S=n.useMemo(()=>p<ie.TABLET,[p]),d=n.useMemo(()=>p>=ie.TABLET&&p<=ie.TABLET_L,[p])||S?3:4,[M,k]=Y(),[g,w]=Y(),{flags:{noumEditor2:v}}=te(),P=n.useCallback(s=>{var i,L;s==="unlink"?t>2?(i=C.current)==null||i.toggleUnlinkMultipleNoum():(L=C.current)==null||L.toggleUnlinkConfirmationOpen():s==="link"?w():s==="linkDetails"&&k()},[t,w,k]),R=n.useCallback(()=>{b&&y(`${X.LINK_NOUM}?linkID=${b}`)},[y,b]),c=f==null?void 0:f.toLowerCase();return o(Ma,{padding:16,vertical:!0,gap:16,"data-test":"NoumContent-LinkedNoum",children:[o(j,{fullWidth:!0,justify:"space-between","data-test":"NoumContent-Stack",children:[o(ne,{font:"body-m",colorToken:"--text-tablecell-header-neutral-highlighted",gap:8,isMobile:S,style:{display:"flex",alignItems:S?"flex-start":"center"},"data-test":"NoumContent-StyledTSpan",children:[o(ne,{font:"body-l-bold",colorToken:"--text-tablecell-header-neutral-highlighted","data-test":"NoumContent-StyledTSpan",children:[t," ",N("noumena.link_noums.linked_noums_lower")]}),!S&&e("div",{children:"·"}),o(j,{gap:8,"data-test":"NoumContent-Stack",children:[o(E,{children:[m," ",De.capitalize(N("noumena.connections"))]}),f!==Se.Secret?o(j,{gap:8,"data-test":"NoumContent-Stack",children:[e("div",{children:"·"}),o(E,{children:[l," ",De.capitalize(N("noumena.followers"))]})]}):null,v&&o(j,{gap:8,"data-test":"NoumContent-Stack",children:[e("div",{children:"·"}),e(Na,{"data-test":"NoumContent-ProjectsVisibiltyText",children:c})]})]})]}),e(tt,{menuOptions:At,isMobile:S,textOnly:!0,containerWidth:"170",onClick:P,"data-test":"NoumContent-EllipsisMenu"})]}),o(La,{fullWidth:!0,justify:"space-between",gap:8,"data-test":"NoumContent-LinkNoumHeadParent",children:[a&&a.length>0&&a.map((s,i)=>{var L,q,r;return i<d&&e(Ta,{to:`/noum/${s==null?void 0:s._id}`,"data-test":"NoumContent-StyledLink",children:o(va,{"data-test":"NoumContent-StyledLinkContainer",children:[e(Ye,{url:(s==null?void 0:s.profileImage)??Xe,"data-test":"NoumContent-Avatar"}),o(j,{gap:4,vertical:!0,"data-test":"NoumContent-Stack",children:[e(ne,{as:"div",isTurncate:!0,font:"body-m-bold",colorToken:"--link-card-neutral-highlighted","data-test":"NoumContent-StyledTSpan",children:s==null?void 0:s.name}),e(et,{bgColor:ce[(L=s==null?void 0:s.category)==null?void 0:L.name.toLowerCase()].bgColor,color:ce[(q=s==null?void 0:s.category)==null?void 0:q.name.toLowerCase()].color,"data-test":"NoumContent-LinkedTagLabel",children:at(((r=s==null?void 0:s.category)==null?void 0:r.name)??"")})]})]})},s==null?void 0:s.name)}),t>d&&e(wa,{align:"center",padding:24,onClick:k,"data-test":"NoumContent-IncrementLinkNoum",children:o(j,{"data-test":"NoumContent-Stack",children:[e(F,{name:"plus_m",size:12,color:"--link-card-neutral-highlighted","data-test":"NoumContent-Icon"}),e(ne,{as:"div",font:"body-m-bold",colorToken:"--link-card-neutral-highlighted","data-test":"NoumContent-StyledTSpan",children:t-d})]})})]}),e(Ja,{noumsCount:t,connectionsCount:m,followersCount:l,isOpen:M,handleClose:k,noumLinkId:b,linkedNoums:a,projectType:f,"data-test":"NoumContent-LinkDetails"}),o(ne,{font:"footnote",colorToken:"--text-timestamp-neutral-default",gap:4,"data-test":"NoumContent-StyledTSpan",children:[e("div",{children:N("noumena.link_noums.linked_on")}),e("div",{children:h&&Ot(new Date(h),"dd MMM yyyy, h:mm a")})]}),e(Je,{handleClose:w,isOpen:g,goToNoumLink:R,"data-test":"NoumContent-LinkNoumModal"}),e(Kt,{ref:C,noumLink:{_id:b,linkedNoums:a??[],linkedNoumsCount:t},refetch:u,"data-test":"NoumContent-HandleUnlinkNoum"})]})},tn=({data:a})=>e(_a,{"data-test":"LinkedNoums-LinkedNoumContainer",children:a.map(t=>{var m;return e(en,{noumLinkId:(t==null?void 0:t._id)??"",noumsCount:((m=t==null?void 0:t.linkedNoums)==null?void 0:m.length)??0,linkedNoums:Bt(t==null?void 0:t.linkedNoums),connectionsCount:(t==null?void 0:t.connectionsCount)??0,followersCount:(t==null?void 0:t.followersCount)??0,linkedAt:(t==null?void 0:t.linkedAt)??new Date,projectType:(t==null?void 0:t.projectType)||void 0,"data-test":"LinkedNoums-NoumContent"},t==null?void 0:t._id)})}),an=()=>{var Ie,Pe;const{t:a}=oe(),{search:t,pathname:m}=Wt(),{noums:l,linkedNoums:h,currentLoading:b,infiniteState:f,setSelectedSort:y,selectedSort:C,selectedNoumType:u,setSelectedNoumType:p,selectedCateId:S,setSelectedCateId:x,selectedTab:d,setSelectedTab:M,selectedLinkSort:k,setSelectedLinkSort:g,fetchMore:w}=Ke(),{flags:v}=te(),[P,R]=Y(!1),[c,s]=Y(!1),[i,L]=Y(!1),[q,r]=Y(!1),[B,G]=Y(!1),[$,U]=n.useState([{key:"-1",value:"-1",type:"value",name:"All types",label:a("noumena.chambers.all_types"),labelColor:"all"}]),{user:O,isActive:Q}=ue(),{subscribedPlans:V,payAsYouGoPlan:se}=Le(),ae=!!V.length||!!se.length,{setSelectedCategoryID:Te}=n.useContext(Ze),z=Ne(),he=n.useCallback(()=>{z(X.CONTRACT_MANAGER)},[z]),rt=n.useCallback(()=>{z(X.CONTACT_MANAGER)},[z]),it=n.useCallback(()=>{z(X.INVOICE_MANAGER)},[z]),me=n.useCallback(()=>{z(X.CAMPAIGNS)},[z]),lt=n.useMemo(()=>{const _=[{key:"Linked Noums",label:a("noumena.link_noums.link_noums",{linkNo:""}),icon:"link_m",onClick:()=>{s(),L()},iconColor:"--icon-tablecell-neutral-highlighted"}];return v.contractTool&&_.push({key:"Contract Manager",label:a("noumena.contract_manager.contract_manager"),icon:"link_m",onClick:()=>{L(),he()},iconColor:"--icon-tablecell-neutral-highlighted"}),v.campaigns&&_.push({key:"Campaigns",label:"Campaigns",icon:"link_m",onClick:()=>{L(),me()},iconColor:"--icon-tablecell-neutral-highlighted"}),_},[a,v.contractTool,v.campaigns,s,L,he,me]),[ve]=Rt({fetchPolicy:"cache-and-network",onCompleted:_=>{const W=_.getProjectChamberCategories;W&&U([{key:"-1",value:"-1",type:"value",name:"All types",label:a("noumena.chambers.all_types"),labelColor:"all"}].concat(W.filter(Z=>!Z.name.toLowerCase().match("#member")&&Z.name!=="Linked").map(Z=>({key:Z._id,value:Z._id,type:"value",name:Z.name,label:a(`noumena.chambers.${Z.name}`),labelColor:Z.name.toLowerCase(),icon:Z.name==="Linked"?e(F,{style:{marginRight:4},name:"link_m",size:16,color:"--icon-badge-neutral-default","data-test":"Chambers-Icon"}):null}))))}});n.useEffect(()=>{O!=null&&O._id&&ve()},[ve,O]);const dt=n.useCallback(_=>{z(`/noum/${_}/edit`,{state:{prevPath:m}})},[z,m]),ct=n.useCallback(_=>{const W=new URLSearchParams(t);W.set("tab",_),_===I.Connected||_===I.Following?W.set("type","All"):W.delete("type"),z(`/noums?${W.toString()}`),M(_),p(void 0)},[z,t,p,M]),we=n.useCallback(_=>{y(_)},[y]),_e=n.useCallback(_=>{g(_)},[g]),re=n.useCallback(_=>{x(_)},[x]),ut=n.useCallback(_=>{const W=new URLSearchParams(t);re("-1"),Te("-1"),p(_==="All"?void 0:_),d===I.Connected||d===I.Following?W.set("type",_):W.delete("type"),z(`${m}?${W.toString()}`)},[t,re,Te,d,z,m,p]),pe=n.useMemo(()=>[I.Connected,I.Following].includes(d),[d]),ht=n.useMemo(()=>{const _=pe&&u===Qe.Project,W=[I.Archived,I.Owned].includes(d);return _||W},[pe,u,d]),mt=(C==null?void 0:C.key)!==((Ie=K[0])==null?void 0:Ie.key)||S!=="-1"||(k==null?void 0:k.key)!==((Pe=J()[0])==null?void 0:Pe.key);return e(Dt,{isLoading:b&&!(l!=null&&l.length),"data-test":"Chambers-SkeletonLoaderProvider",children:o($t,{type:"Chambers",rightContent:e(Ya,{onToggleCreate:R,onToggleLinkNoum:s,onToggleManageMembers:G,onContractManagerClick:he,onInvoiceManagerClick:it,onContactManagerClick:rt,onCampaginManagerClick:me,"data-test":"Chambers-ChambersRightSideBar"}),"data-test":"Chambers-ListLayout",children:[e(Ia,{gap:24,isAppUiV2:v.newAppNavigation,"data-test":"Chambers-Container",children:o(Pa,{style:{gap:16,display:"flex",flexDirection:"column"},"data-test":"Chambers-AppStyled",children:[o(Aa,{"data-test":"Chambers-ChamberContainerHead",children:[e(Za,{selectedId:d,onChange:ct,onSelectOption:we,categoryOptions:$,onSelectCategory:re,onSelectLinkOption:_e,noumType:u,"data-test":"Chambers-ChambersHead"}),e(Va,{"data-test":"Chambers-InvitesAndRequests"}),v.paymentSubscriptions&&Q&&ae&&e(Ba,{"data-test":"Chambers-MyPlansWrapper",children:e(nt,{"data-test":"Chambers-MyPlans"})})]}),pe&&e(Fa,{"data-test":"Chambers-SubFilterWrapper",children:e(Me,{onChange:ut,inputList:Et,selectedId:u||"All",mode:"isBackground",isWithoutImage:!0,fontSize:"--font-link-medium-size",tabWidth:"auto","data-test":"Chambers-BasicChipsTabsForm"})}),e(Ua,{isNoum:d===I.Linked?h.length>0:((l==null?void 0:l.length)||0)>0,isFilterApplied:!!u,tab:d,noResultText:ot(d),noResultSubText:st(d),"data-test":"Chambers-SearchResult",children:e(Ve,{onFetchMore:w,status:f,scrollbarWidth:0,paddingBottom:"75px","data-test":"Chambers-Infinite",children:d===I.Linked?e(tn,{data:h,"data-test":"Chambers-LinkedNoums"}):e(Ut,{chambers:l!=null&&l.length?l:sa(9),"data-test":"Chambers-ChambersList"})})}),e(Qa,{onToggleFilter:r,openBottomSheet:L,onToggleCreate:R,isFiltered:mt,"data-test":"Chambers-ChambersMobileActions"})]})}),Q&&o(E,{children:[P&&e(ea,{isOpen:P,handleClose:R,handleSuccess:dt,"data-test":"Chambers-ProjectCreate"}),c&&e(Je,{isOpen:c,handleClose:s,"data-test":"Chambers-LinkNoum"}),e(ja,{dropDownOptions:lt,isOpen:i,handleClose:L,"data-test":"Chambers-ChamberBottomSheet"})]}),q&&e(Ea,{onClose:r,onSelectOption:we,selectedSortOption:C,categoryOptions:$,onSelectCategory:re,selectedCategoryID:S,selectedId:d,onSelectLinkOption:_e,selectedLinkSort:k,shouldShowFilter:ht,"data-test":"Chambers-ChambersFilter"}),B&&e(Jt,{isOpen:B,handleClose:()=>G(),"data-test":"Chambers-ManageMembersModal"})]})})},nn=()=>e(Ft,{"data-test":"ChambersWrap-NoumsProvider",children:e(an,{"data-test":"ChambersWrap-Chambers"})}),Qn=nn;export{Qn as default};
//# sourceMappingURL=Chambers-4c0519b6.js.map
