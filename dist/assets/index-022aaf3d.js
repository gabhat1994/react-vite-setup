import{cL as L,j as e,am as N,n as G,x as w,c as C,F as R,B as $,S as V,T as O,I as v,aX as j,X as P}from"./index-cd84bcc9.js";import{r as b,bE as X,bb as q,l as E,ap as K,bz as U,ar as _,aT as W,ac as J}from"./vendor-51460554.js";import{S as F,u as T,a as M,b as h,R as Q,D as Y,c as Z,d as ee,e as te}from"./styles-26e8a352.js";import{P as ne}from"./Pagination-43542d57.js";import{T as ae}from"./TickCheckbox-c4d9d4b6.js";import{A as oe}from"./Accordion-ea03839b.js";const re=({children:n,menuOptions:t,loading:a,isMobile:r,onClick:l,...s})=>{const[c,d]=b.useState(!1),p=b.useRef(null),f=b.useCallback(()=>{d(o=>!o)},[]);L(p,!0,()=>d(!1));const g=o=>{var S;l&&((S=o.onClick)==null||S.call(o),l(o.value)),f()};return e(N,{...s,isOpen:c,placement:"auto",isAnimation:!1,calRefTop:!1,padding:"0px",onSelectOption:()=>{},options:t,optionsRenderer:()=>a?e(F.SpinnerWrapper,{children:e(G,{"data-test":"ContextMenu-optionsRenderer-Spinner"})}):e(w,{ref:p,padding:r?16:0,gap:r?16:0,vertical:!0,overflow:"hidden",fullWidth:!0,align:"stretch","data-test":"ContextMenu-optionsRenderer-Stack",children:r?C(R,{children:[t.map(o=>e($,{size:"full",intent:o.intent==="danger"?"negative":void 0,icon:o.icon??void 0,disabled:o.disabled,onClick:()=>g(o),"data-test":"ContextMenu-optionsRenderer-Button",children:o.label},o.value)),e(V,{height:14,"data-test":"ContextMenu-optionsRenderer-Spacer"})]}):t.map(o=>C(F.OptionContainer,{onClick:S=>{S.stopPropagation(),g(o)},children:[o.icon,e(O,{font:"body-m-bold",colorToken:o.intent==="danger"?"--text-tablecell-header-danger-primary-highlighted":void 0,"data-test":"ContextMenu-optionsRenderer-TSpan",children:o.label})]},o.value))}),isMobile:r,renderContainerFromBottom:!0,"data-test":"ContextMenu-Dropdown",children:o=>n({...o,toggle:f,open:()=>d(!0),close:()=>d(!1)})})},le=({textOnly:n,size:t="small",primary:a,secondary:r,tertiary:l,neutral:s,disabled:c,icon:d,...p})=>e(re,{...p,"data-test":"ButtonMenu-ContextMenu",children:({targetRef:f,toggle:g})=>e($,{ref:f,size:t,primary:a,secondary:r,tertiary:l,neutral:s,textOnly:n,icon:d,disabled:c,onClick:i=>{i.stopPropagation(),g()},"data-test":"ButtonMenu-Button"})});function se({onClick:n,size:t,menuOptions:a}){return e(le,{size:t,onClick:n,neutral:!0,menuOptions:a.map(({key:r,label:l,value:s,iconName:c,intent:d})=>({type:"value",key:r,label:l,value:s,icon:e(v,{name:c,size:24,color:d==="danger"?"--icon-tablecell-danger-primary-default":"--icon-tablecell-neutral-highlighted","data-test":"Icon"}),intent:d})),icon:e(v,{name:"more_m",size:24,"data-test":"Icon"}),"data-test":"ButtonMenu"})}function ie(n){const{control:t}=X();return e(q,{...n,control:t,"data-test":"Controller"})}function de({form:n,onSubmit:t,disabled:a=!1}){const r=n.watch(),l=j(r),s=l!==void 0&&!E.isEqual(r,l);b.useEffect(()=>{!a&&s&&t(r)},[s,t,a])}function ce({children:n,defaultValues:t,onSubmit:a,submitOnChange:r=!0,clearRowSelectionOnSubmit:l=!0}){const{rowSelection:s}=T(),c=K({defaultValues:t}),d=b.useCallback(p=>{l&&s.clear(),a(p)},[l,a,s]);return de({disabled:!r,form:c,onSubmit:d}),e(U,{...c,"data-test":"FormProvider",children:n})}function ue({leftElement:n,rightElement:t}){const{isMobile:a}=P();return C(w,{gap:24,vertical:a,reverse:a,justify:"space-between",align:"center","data-test":"Stack",children:[e(M.LeftSlot,{children:n}),e(M.RightSlot,{children:t})]})}function he(n,t){return(n-1)*t}function pe({totalCount:n,itemsPerPage:t=5,currentPage:a,currentOffset:r,onChange:l}){const s=b.useCallback(d=>{l({page:d,itemsPerPage:t,totalCount:n,offset:he(d,t)})},[t,l,n]),c=a??(r?r/t+1:1);return e(ne,{renderOnOnePageCount:!0,totalCount:n,currentPage:c,pageSize:t,onPageChange:s,"data-test":"StandalonePagination"})}function z(n){const{rowSelection:t}=T();return e($,{...n,disabled:n.disabled||t.selectedItems.length===0,onClick:()=>{t.clear(),n.onClick(t.selectedItems)},"data-test":"Button"})}function D({render:n}){const{t}=_(),{rowSelection:a}=T(),r=a.selectedItems.length;return e(O,{font:"body-m",colorToken:"--text-card-neutral-default","data-test":"TSpan",children:typeof n=="function"?n(r):t("noumena.data_grid.rows_selected",{count:r})})}function fe({label:n,renderCounterLabel:t,...a}){return C(w,{gap:16,align:"center","data-test":"Stack",children:[e(D,{render:t,"data-test":"SelectedRowsCounter"}),e(z,{secondary:!0,size:"small",...a,"data-test":"BulkActionButton",children:n})]})}function I({isChecked:n,onChange:t}){return e(ae,{isChecked:n,onChange:t,size:16,"data-test":"TickCheckbox"})}function ge({rowsCount:n,columnsCount:t}){return e(R,{children:Array.from({length:n}).map((a,r)=>e(h.TableRow,{children:Array.from({length:t}).map((l,s)=>e(h.TableCell,{children:e(W,{height:`${Q/2} px`,"data-test":"Skeleton"})},s))},r))})}function Ce({columnsCount:n,rowsCount:t,message:a}){const{t:r}=_();return e(h.TableRow,{children:e(h.TableCell,{colSpan:n,children:e(h.NoResults,{$rowsCount:t,children:a??r("noumena.data_grid.table.no_results")})})})}function Se({data:n,columns:t,keyExtractor:a,onRowClick:r,rowsPerPage:l,enableRowSelection:s=!1,wordWrap:c=!0,loading:d=!1,noResultsMessage:p,noResultsMessageRowSpan:f=l}){const{data:g,rowSelection:i,sorting:o,setSorting:S}=T(),k=n??g,B=k.map(a),H=k.length>0&&i.areSelected(B),A=t.length+(s?1:0);return C(h.Table,{children:[e(h.TableHead,{children:C(h.TableRow,{children:[s&&e(h.TableHeader,{$width:"1px",children:e(I,{isChecked:H,onChange:u=>u?i.selectMultiple(B):i.removeMultiple(B),"data-test":"RowSelectionCheckbox"})}),t.map(u=>e(h.TableHeader,{$wordWrap:u.wordWrap??c,$width:u.width,onClick:()=>{u.sortName&&S({column:u.sortName,direction:(o==null?void 0:o.column)===u.sortName?Y.getOppositeSortingDirection(o==null?void 0:o.direction):"asc"})},children:C(w,{align:"center","data-test":"Stack",children:[u.title,u.sortName&&(o==null?void 0:o.column)===u.sortName?e(v,{name:o.direction==="asc"?"chevron_small_up_m":"chevron_small_down_m",size:16,"data-test":"Icon"}):null]})},u.id))]})}),e(h.TableBody,{children:d&&k.length===0?e(ge,{rowsCount:l,columnsCount:A,"data-test":"TableLoadingSkeleton"}):k.length===0?e(Ce,{rowsCount:f,columnsCount:A,message:p,"data-test":"TableNoResults"}):k.map(u=>{const x=a(u);return C(h.TableRow,{$clickable:!!r,onClick:r?()=>r(u):void 0,children:[s&&e(h.TableCell,{$width:"1px",$wordWrap:!0,children:e(I,{isChecked:i.isSelected(x),onChange:m=>m?i.selectOne(x):i.removeOne(x),"data-test":"RowSelectionCheckbox"})}),t.map(m=>{const y=m.renderValue(u);return e(h.TableCell,{$wordWrap:m.wordWrap??c,$width:m.width,children:y},m.id)})]},x)})})]})}function me({w:n=128,h:t=128,r:a=8,maxWidth:r}){return e("div",{style:{width:n,height:t,borderRadius:a,maxWidth:r,lineHeight:"unset"},"data-test":"",children:e(W,{width:n,height:t,style:{borderRadius:a,maxWidth:"100%",lineHeight:"unset !important"},"data-test":"Skeleton"})})}function be({rowsCount:n}){return e(w,{vertical:!0,fullWidth:!0,gap:16,"data-test":"Stack",children:Array.from({length:n}).map((t,a)=>e(Z.ListRow,{children:e(me,{w:"100%",h:`${ee/2}px`,"data-test":"SizedSkeleton"})},a))})}function we({data:n=[],loading:t,keyExtractor:a,renderLeft:r,renderRight:l,renderContent:s,rowsPerPage:c=10,enableRowSelection:d=!1}){const{rowSelection:p}=T(),[f,g]=J.useState();return e(w,{vertical:!0,fullWidth:!0,"data-test":"Stack",children:t?e(be,{rowsCount:c,"data-test":"CollapsibleListSkeleton"}):e(R,{children:n.map(i=>e(oe,{expanded:f===a(i),onToggle:()=>{f===a(i)?g(void 0):g(a(i))},title:"",headerPadding:"8px 0",left:C(R,{children:[d&&e(I,{isChecked:p.isSelected(a(i)),onChange:o=>o?p.selectOne(a(i)):p.removeOne(a(i)),"data-test":"RowSelectionCheckbox"}),r(i)]}),right:l(i),"data-test":"Accordion",children:s(i)},a(i)))})})}const Ie={Provider:te,Table:Se,Pagination:pe,BulkAction:fe,BulkActionButton:z,SelectedRowsCounter:D,Filters:ce,FilterInput:ie,Footer:ue,ActionsMenu:se,CollapsibleList:we};export{le as B,Ie as D,me as S};
//# sourceMappingURL=index-022aaf3d.js.map
