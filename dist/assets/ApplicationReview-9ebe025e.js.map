{"version":3,"file":"ApplicationReview-9ebe025e.js","sources":["../../src/layout/ApplicationReviewLayoutV2/styles.ts","../../src/layout/ApplicationReviewLayoutV2/index.tsx","../../src/screens/MoneyDetails/ApplicationReview/styles.ts","../../src/screens/MoneyDetails/ApplicationReview/SubmittedScreen.tsx","../../src/screens/MoneyDetails/ApplicationReview/constants.ts","../../src/screens/MoneyDetails/ApplicationReview/ApplicationReview.tsx","../../src/screens/MoneyDetails/ApplicationReview/index.tsx"],"sourcesContent":["import styled from 'styled-components';\n\nexport const Container = styled.div`\n  font-family: var(--font-family);\n  min-height: 100vh;\n  min-width: 100vw;\n  display: flex;\n  flex-direction: column;\n  background: white;\n`;\n\nexport const Main = styled.div<{ isMobile: boolean }>`\n  flex-grow: 1;\n  display: flex;\n  justify-content: center;\n  gap: 0;\n  background: white;\n  padding-left: ${(props) => (props.isMobile ? '16px' : '40px')};\n  padding-right: ${(props) => (props.isMobile ? '16px' : '40px')};\n  padding-bottom: ${(props) => (props.isMobile ? '16px' : '0px')};\n  overflow: hidden;\n`;\n\nexport const Content = styled.div<{ isMobile: boolean }>`\n  width: ${(props) => (props.isMobile ? '343px' : '438px')};\n`;\n","import React from 'react';\nimport { Header } from '@/components/Header';\nimport { DeviceTypeEnum, useDeviceType } from '@/hooks';\nimport { useAuth } from '@/features/auth/contexts';\nimport { UserUtil } from '@/utils/user';\nimport { MainHeader } from '../MainHeader';\nimport { type LayoutProps } from './types';\nimport { Container, Content, Main } from './styles';\n\nconst ApplicationReviewLayout: React.FC<LayoutProps> = ({ children }) => {\n  const { user } = useAuth();\n  const deviceType = useDeviceType();\n\n  return (\n    <Container data-testid=\"layout-container\">\n      <Header isBorderRadius={false}>\n        <MainHeader\n          avatar={UserUtil.getProfilePicture(user) || undefined}\n          userName={user?.firstName || undefined}\n        />\n      </Header>\n\n      <Main\n        data-testid=\"layout-main\"\n        isMobile={deviceType === DeviceTypeEnum.MOBILE}\n      >\n        <Content\n          data-testid=\"layout-main-content\"\n          isMobile={deviceType === DeviceTypeEnum.MOBILE}\n        >\n          {children}\n        </Content>\n      </Main>\n    </Container>\n  );\n};\n\nexport default ApplicationReviewLayout;\n","import { sizes } from '@/constants/devices';\nimport styled from 'styled-components';\n\nexport const Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  flex: 1;\n  height: 100%;\n  width: 100%;\n  background-color: white;\n  position: relative;\n`;\n\nexport const UploadContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-self: center;\n  width: 100%;\n`;\n\nexport const ContinueButton = styled.div`\n  width: 100%;\n  margin-top: 32px;\n  @media (max-width: ${sizes.MOBILE_MAX}) {\n    position: absolute;\n    margin-top: 0;\n    top: calc(100% - 65px);\n  }\n`;\nexport const ReturnToNoumenaWrapper = styled.div`\n  width: 100%;\n  margin-top: 32px;\n  @media (max-width: ${sizes.MOBILE_MAX}) {\n    position: absolute;\n    margin-top: 0;\n    top: calc(100% - 65px);\n  }\n`;\n\nexport const WrapperIcon = styled.div`\n  border-radius: 200px;\n  background-color: var(--bg-body-neutral-alt-default);\n  border: 1px solid var(--bg-body-neutral-alt-default);\n  align-self: center;\n  width: 96px;\n  height: 96px;\n  flex-grow: 0;\n  align-items: center;\n`;\n","import { TSpan } from '@/components/Typography';\nimport { Spacer } from '@/layout';\nimport { Icon } from '@/components/Icon';\nimport Layout from '@/layout/ApplicationReviewLayoutV2';\nimport { t } from 'i18next';\nimport { Button } from '@/components/Button';\nimport {\n  Container,\n  UploadContainer,\n  WrapperIcon,\n  ReturnToNoumenaWrapper,\n} from './styles';\n\ntype SubmittedScreenProps = {\n  onButtonClick: () => void;\n};\n\nexport const SubmittedScreen = ({ onButtonClick }: SubmittedScreenProps) => (\n  <Layout>\n    <Container>\n      <Spacer height={16} />\n      <TSpan\n        font=\"heading-s-bold\"\n        textAlign=\"center\"\n        colorToken=\"--text-card-header-neutral-highlighted\"\n      >\n        {t('noumena.application_review_completed_heading')}\n      </TSpan>\n      <Spacer height={64} />\n      <UploadContainer>\n        <WrapperIcon>\n          <Icon name=\"success_cq_xxxl\" size={96} />\n        </WrapperIcon>\n        <Spacer height={64} />\n        <TSpan\n          font=\"body-l\"\n          colorToken=\"--text-body-neutral-default\"\n          textAlign=\"center\"\n        >\n          {t('noumena.application_review_succes_message')}\n        </TSpan>\n        <ReturnToNoumenaWrapper>\n          <Button primary size=\"full\" onClick={onButtonClick}>\n            {t('noumena.application_review_completed_btn')}\n          </Button>\n        </ReturnToNoumenaWrapper>\n      </UploadContainer>\n    </Container>\n  </Layout>\n);\n","export const MAX_UPLOAD_SIZE = 10;\n","import { useTranslation } from 'react-i18next';\nimport { useBreakpoints } from '@/hooks';\n\nimport Layout from '@/layout/ApplicationReviewLayoutV2';\nimport { Button } from '@/components/Button';\nimport { TSpan } from '@/components/Typography';\nimport { Spacer } from '@/layout';\nimport {\n  DwollaDocumentDropDown,\n  DwollaDocumentModal,\n  useApplicationReview,\n} from '@/features/wallet';\n\nimport { Container, UploadContainer, ContinueButton } from './styles';\nimport { MAX_UPLOAD_SIZE } from './constants';\n\ntype ApplicationReviewV2props = {\n  onSuccessfulUpload: () => void;\n};\n\nexport const ApplicationReview = ({\n  onSuccessfulUpload,\n}: ApplicationReviewV2props) => {\n  const { documentOptions, modal, file, button } = useApplicationReview({\n    onSuccessfulUpload,\n  });\n  const devices = useBreakpoints();\n  const { t } = useTranslation();\n\n  return (\n    <Layout data-testid=\"application-layout\">\n      <Container>\n        <Spacer height={16} />\n        <TSpan\n          font=\"heading-s-bold\"\n          colorToken=\"--text-card-header-neutral-highlighted\"\n          textAlign=\"center\"\n        >\n          {t('noumena.application_review_heading')}\n        </TSpan>\n        <Spacer height={16} />\n        <TSpan\n          font=\"body-l\"\n          textAlign=\"center\"\n          colorToken=\"--text-body-neutral-default\"\n        >\n          {t('noumena.application_review_sub_heading')}\n        </TSpan>\n        <Spacer height={64} />\n        <UploadContainer>\n          <Spacer height={16} />\n          <DwollaDocumentDropDown\n            documentOptions={documentOptions}\n            onSelect={modal.handleOpen}\n            isMobile={devices.isMobile}\n            variant={file.frontSide ? 'success' : 'primary'}\n          />\n        </UploadContainer>\n\n        <ContinueButton>\n          <Button\n            loading={file.updatingIsInProgress}\n            disabled={file.updatingIsInProgress || !file.frontSide}\n            onClick={file.handleContinue}\n            size=\"full\"\n            primary\n          >\n            {t('noumena.application_review_btn')}\n          </Button>\n        </ContinueButton>\n\n        {modal.isOpen && (\n          <DwollaDocumentModal\n            open={modal.isOpen}\n            onClose={modal.handleClose}\n            contextData={modal.contextData}\n            disable={button.disable}\n            onConfirmAndSave={file.confirmAndSave}\n            isMobile={devices.isMobile}\n            isTablet={devices.isTablet}\n            isSingleSideUpload={file.isSingleSideUpload}\n            isXLSize={file.isSingleSideUpload}\n            onFrontSideUpload={file.updateFront}\n            onBackSideUpload={file.updateBack}\n            uploadedFrontSideFile={file.frontSide}\n            uploadedBackSideFile={file.backSide}\n            clearFrontSideFile={file.updateFront}\n            clearBackSideFile={file.updateBack}\n            maxUploadSize={MAX_UPLOAD_SIZE}\n          />\n        )}\n      </Container>\n    </Layout>\n  );\n};\n","import { useCallback, useState } from 'react';\nimport { useNavigate } from 'react-router';\n\nimport ROUTES from '@/constants/routes';\n\nimport { useUploadDocumentStatusQuery } from '@/apollo/graphql';\nimport { Spinner } from '@/components';\nimport { DocumentStatusV2 } from '@/screens/Money/Payments/Wallets/types';\nimport { useToast } from '@/hooks';\nimport { t } from 'i18next';\nimport { SubmittedScreen } from './SubmittedScreen';\nimport { ApplicationReview as UploadComponent } from './ApplicationReview';\n\nconst ApplicationReviewV2 = () => {\n  const [step, setStep] = useState(0);\n  const navigate = useNavigate();\n  const { addSuccessIconToast } = useToast();\n  const { loading: fetchingDocStatus } = useUploadDocumentStatusQuery({\n    fetchPolicy: 'cache-and-network',\n    onCompleted: ({ getWalletBalance }) => {\n      const { docStatus } = getWalletBalance || {};\n      const documentAlreadySubmitted = Object.values(DocumentStatusV2).includes(\n        docStatus as DocumentStatusV2,\n      );\n\n      if (documentAlreadySubmitted) {\n        addSuccessIconToast(\n          t('noumena.money.setupWallet.document.already.uploaded'),\n        );\n        navigate(ROUTES.MONEY);\n      }\n    },\n  });\n\n  const onSave = useCallback(() => {\n    setStep(1);\n  }, []);\n\n  const handleNavigation = useCallback(() => {\n    navigate(ROUTES.MONEY);\n  }, [navigate]);\n\n  if (fetchingDocStatus) {\n    return <Spinner />;\n  }\n\n  return step === 0 ? (\n    <UploadComponent onSuccessfulUpload={onSave} />\n  ) : (\n    <SubmittedScreen onButtonClick={handleNavigation} />\n  );\n};\nexport default ApplicationReviewV2;\n"],"names":["Container","styled","div","Main","props","isMobile","Content","ApplicationReviewLayout","children","user","useAuth","deviceType","useDeviceType","jsxs","jsx","Header","MainHeader","UserUtil","getProfilePicture","undefined","firstName","DeviceTypeEnum","MOBILE","UploadContainer","ContinueButton","sizes","MOBILE_MAX","ReturnToNoumenaWrapper","WrapperIcon","SubmittedScreen","onButtonClick","Layout","Spacer","TSpan","t","Icon","Button","MAX_UPLOAD_SIZE","ApplicationReview","onSuccessfulUpload","documentOptions","modal","file","button","useApplicationReview","devices","useBreakpoints","useTranslation","DwollaDocumentDropDown","handleOpen","frontSide","updatingIsInProgress","handleContinue","isOpen","DwollaDocumentModal","handleClose","contextData","disable","confirmAndSave","isTablet","isSingleSideUpload","updateFront","updateBack","backSide","ApplicationReviewV2","step","setStep","useState","navigate","useNavigate","addSuccessIconToast","useToast","loading","fetchingDocStatus","useUploadDocumentStatusQuery","fetchPolicy","onCompleted","getWalletBalance","docStatus","Object","values","DocumentStatusV2","includes","ROUTES","MONEY","onSave","useCallback","handleNavigation","Spinner","UploadComponent"],"mappings":"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"}