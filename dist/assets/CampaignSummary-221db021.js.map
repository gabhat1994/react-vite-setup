{"version":3,"file":"CampaignSummary-221db021.js","sources":["../../src/screens/Campaigns/CampaignSummary/OffersAndReports.tsx","../../src/screens/Campaigns/hooks/useCampaignSummary.ts","../../src/screens/Campaigns/CampaignSummary/CampaignSummary.tsx"],"sourcesContent":["import { useState } from 'react';\n\nimport { TSpan } from '@/components/Typography';\nimport { Spacer } from '@/layout/Stack/Spacer';\n\nimport { Stack } from '@/layout';\nimport { Icon } from '@/components/Icon';\nimport { Button } from '@/components/Button';\nimport { Checkbox } from '@/components/Checkbox';\nimport { EnumAdCampaignOfferStatus } from '@/apollo/generated/types';\nimport { type OffersAndReportsProps } from './types';\nimport S from './styles';\nimport { Divider } from '../components/Divider';\n\nimport { Utils } from '../utils';\n\nfunction NoData({ noDataNote }: Pick<OffersAndReportsProps, 'noDataNote'>) {\n  return (\n    <>\n      <TSpan font=\"body-m\" colorToken=\"--text-card-neutral-default\">\n        {noDataNote}\n      </TSpan>\n      <Spacer height={12} />\n    </>\n  );\n}\n\nfunction File({\n  offerNumber,\n  createdAt,\n  id,\n  type,\n  onView,\n  updateAppearance,\n}: {\n  offerNumber: number;\n  createdAt: string;\n  id: string;\n  onView: (id: string) => void;\n  updateAppearance?: boolean;\n} & Required<Pick<OffersAndReportsProps, 'type'>>) {\n  return (\n    <>\n      <S.FileContainer>\n        <S.FileSide>\n          <S.FileIcon>\n            <Icon\n              color={\n                updateAppearance\n                  ? '--text-card-header-neutral-default'\n                  : undefined\n              }\n              name=\"file_m\"\n              size={24}\n            />\n          </S.FileIcon>\n          <Stack vertical>\n            <TSpan\n              font=\"body-m\"\n              colorToken={\n                updateAppearance\n                  ? '--text-card-header-neutral-default'\n                  : '--text-card-header-neutral-highlighted'\n              }\n            >\n              {type === 'offer' ? 'Offer' : 'Weekly Report'} #{offerNumber}\n            </TSpan>\n            <TSpan\n              font=\"footnote\"\n              colorToken=\"--text-tablecell-body-neutral-default\"\n            >\n              {Utils.formatDate(createdAt)}\n            </TSpan>\n          </Stack>\n        </S.FileSide>\n        <S.FileSide>\n          <Button onClick={() => onView(id)} size=\"small\" tertiary>\n            View\n          </Button>\n        </S.FileSide>\n      </S.FileContainer>\n      <Divider />\n    </>\n  );\n}\n\nexport function OffersAndReports({\n  heading,\n  noDataNote,\n  count,\n  onView,\n  list,\n  onToggleOldOffers,\n  type,\n}: OffersAndReportsProps) {\n  const [checked, setChecked] = useState(false);\n\n  return (\n    <S.Container>\n      <Stack align=\"center\" justify=\"space-between\">\n        <Stack align=\"center\" gap={8}>\n          <S.ContainerTitle>{heading}</S.ContainerTitle>\n          <S.Count>\n            <TSpan\n              font=\"footnote-bold\"\n              colorToken=\"--text-badge-brand-primary-default\"\n            >\n              {count}\n            </TSpan>\n          </S.Count>\n        </Stack>\n        {heading === 'Offers' && count > 0 && (\n          <Stack gap={8}>\n            <Checkbox\n              size={18}\n              data-testid=\"check-box-one\"\n              isChecked={checked}\n              onChange={(_checked) => {\n                onToggleOldOffers?.(_checked);\n                setChecked(_checked);\n              }}\n              icon={\n                <Icon\n                  name=\"tick_m\"\n                  size={14}\n                  color=\"--icon-checkbox-neutral-alt-default\"\n                />\n              }\n            />\n            <TSpan font=\"footnote\" colorToken=\"--text-card-neutral-default\">\n              Show past offers\n            </TSpan>\n          </Stack>\n        )}\n      </Stack>\n      <Divider />\n      {!count && <NoData noDataNote={noDataNote} />}\n      {!!count &&\n        !!list.length &&\n        list.map((l) => {\n          const id = Number(\n            'oid' in l ? l.oid : 'reportId' in l ? l.reportId ?? 0 : 0,\n          );\n          return (\n            <File\n              id={l?._id ?? ''}\n              type={type}\n              offerNumber={id}\n              onView={onView}\n              createdAt={l?.createdAt ?? new Date()}\n              updateAppearance={\n                'status' in l\n                  ? l.status !== EnumAdCampaignOfferStatus.Sent\n                  : false\n              }\n            />\n          );\n        })}\n    </S.Container>\n  );\n}\n","import { useCallback, useState, useMemo } from 'react';\nimport { useNavigate, useParams, generatePath } from 'react-router';\n\nimport {\n  useCampaignOfferIdQuery,\n  useCampaignReportsIdQuery,\n  useCampaignSummaryQuery,\n  useDeleteCampaignMutation,\n} from '@/apollo/graphql';\n\nimport ROUTES from '@/constants/routes';\nimport { useError, useToast } from '@/hooks';\nimport { cleanList } from '@/utils/list';\nimport { useModalManager } from '@/hooks/modal/useModalManager';\nimport { Utils } from '../utils';\n\ntype Params = { id?: string };\n\ntype ModalType = 'delete-confirmation';\n\nexport function useCampaignSummary() {\n  const params = useParams<Params>();\n  const modal = useModalManager<ModalType, { id: string; title: string }>();\n  const navigate = useNavigate();\n  const log = useError();\n  const toast = useToast();\n  const [deleteCampaign, deleteCampaignStatus] = useDeleteCampaignMutation();\n  const [showOldOffers, setShowOldOffers] = useState(false);\n\n  const campaignSummary = useCampaignSummaryQuery({\n    skip: !params.id,\n    variables: {\n      campaignId: params.id ?? '',\n    },\n    onError: (error) => log.logError(error, 'useCampaignSummaryQuery', true),\n  });\n\n  const offersSummary = useCampaignOfferIdQuery({\n    skip: !params.id,\n    fetchPolicy: 'cache-and-network',\n    variables: {\n      campaignId: params.id ?? '',\n    },\n    onError: (error) => log.logError(error, 'get-campaign-offer-id', true),\n  });\n\n  const reportsSummary = useCampaignReportsIdQuery({\n    skip: !params.id,\n    fetchPolicy: 'cache-and-network',\n    variables: {\n      campaignId: params.id ?? '',\n      offset: 0,\n      limit: 100,\n    },\n    onError: (error) => log.logError(error, 'get-campaign-offer-id', true),\n  });\n\n  const softDelete = async () => {\n    if (!params.id) {\n      toast.addErrorToast('Campaign not found');\n      return;\n    }\n\n    try {\n      await deleteCampaign({ variables: { campaignId: params.id } });\n      modal.closeModal();\n      toast.addSuccessIconToast('Campaign has been deleted');\n      navigate(ROUTES.CAMPAIGNS);\n    } catch (error) {\n      log.logError(error, 'delete-campaign', true);\n    }\n  };\n\n  const duplicate = useCallback(() => {\n    const id = params.id ?? 'new';\n    navigate(generatePath(ROUTES.CAMPAIGN_CREATE, { id }));\n  }, [navigate, params.id]);\n\n  const viewOffer = useCallback(\n    (id: string) => {\n      navigate({\n        pathname: generatePath(ROUTES.CAMPAIGN_OFFER, { id }),\n        search: `?campaignId=${params.id ?? ''}`,\n      });\n    },\n    [navigate, params.id],\n  );\n\n  const viewReport = useCallback(\n    (id: string) => {\n      navigate({\n        pathname: generatePath(ROUTES.CAMPAIGN_REPORT, { id }),\n        search: `?campaignId=${params.id ?? ''}`,\n      });\n    },\n    [navigate, params.id],\n  );\n\n  const toggleOldOffers = useCallback(\n    (checked: boolean) => setShowOldOffers(checked),\n    [],\n  );\n\n  const totalOffers = useMemo(\n    () =>\n      Utils.removeDraftOffer(offersSummary?.data?.getAdCampaignOffers?.data),\n    [offersSummary?.data?.getAdCampaignOffers?.data],\n  );\n\n  const reportList = useMemo(\n    () => cleanList(reportsSummary?.data?.getAdCampaignReports?.data),\n    [reportsSummary?.data?.getAdCampaignReports?.data],\n  );\n  const summary = campaignSummary?.data?.getSelectedAdCampaignDetails;\n\n  const openDeleteConfirmationModal = useCallback(() => {\n    modal.openModal('delete-confirmation', {\n      id: params.id || '',\n      title: summary?.title || '',\n    });\n  }, [modal, params.id, summary?.title]);\n\n  const handleBack = useCallback(() => navigate(ROUTES.CAMPAIGNS), [navigate]);\n\n  const offerList = showOldOffers\n    ? totalOffers\n    : totalOffers.length\n    ? [totalOffers[0]]\n    : [];\n  const reportCount = reportsSummary?.data?.getAdCampaignReports?.count ?? 0;\n\n  return {\n    modal: {\n      ...modal,\n    },\n    campaign: {\n      summary,\n      duplicate,\n      softDelete,\n      viewOffer,\n      viewReport,\n      handleBack,\n      openDeleteConfirmationModal,\n      isDeleting: deleteCampaignStatus.loading,\n    },\n    offers: {\n      list: offerList,\n      count: totalOffers.length,\n      toggleOldOffers,\n    },\n\n    reports: {\n      list: reportList,\n      count: reportCount,\n    },\n\n    loading: {\n      campaign: campaignSummary.loading,\n      offers: offersSummary.loading,\n      reports: reportsSummary.loading,\n    },\n  };\n}\n","import SinglePageLayout from '@/layout/SinglePageLayout';\nimport { Stack } from '@/layout';\nimport { Spinner } from '@/components/Spinner';\nimport { useBreakpoints } from '@/hooks/useBreakpoints';\n\nimport S from './styles';\nimport { CampaignDetails } from './CampaignDetails';\nimport { Header, Actions } from '../components/CampaignHeader';\n\nimport {\n  OffersAndReports as Offers,\n  OffersAndReports as Reports,\n} from './OffersAndReports';\n\nimport { Utils } from '../utils';\nimport { useCampaignSummary } from '../hooks/useCampaignSummary';\nimport { DeleteCampaignConfirmation } from '../components/DeleteCampaignConformation';\n\nexport function CampaignSummary() {\n  const device = useBreakpoints();\n\n  const { campaign, offers, reports, loading, modal } = useCampaignSummary();\n  const { summary } = campaign;\n\n  const hideStepper =\n    summary?.status === 'LIVE' || summary?.status === 'COMPLETED';\n\n  return (\n    <SinglePageLayout>\n      <Header\n        heading={device.isMobile ? 'Campaign' : 'Campaign Summary'}\n        isMobile={device.isMobile}\n        isTablet={device.isTablet}\n        currentStep={2}\n        totalSteps={3}\n        stepper={!hideStepper}\n        onBack={campaign.handleBack}\n        unsetMinWidth\n        rightAction={\n          <Actions.SummaryActions\n            isMobile={device.isMobile}\n            isTablet={device.isTablet}\n            hideDelete={!Utils.canDelete(summary?.status || '')}\n            onDelete={campaign.openDeleteConfirmationModal}\n            onDuplicate={campaign.duplicate}\n            deleteDisabled={false}\n          />\n        }\n      />\n      {loading.campaign || loading.offers || loading.reports ? (\n        <Spinner />\n      ) : (\n        <div\n          style={{\n            alignSelf: 'center',\n            width: '100%',\n            display: 'flex',\n            justifyContent: 'center',\n          }}\n        >\n          <S.Main>\n            <CampaignDetails\n              title={summary?.title}\n              status={summary?.status}\n              audience={summary?.audience}\n              startDate={summary?.startDate}\n              noumId={summary?.noumId}\n              goals={summary?.goals}\n              budgetAmount={summary?.budgetAmount}\n              budgetType={summary?.budgetType}\n              adId={summary?.adId}\n              otherGoals={summary?.otherGoals}\n            />\n            <Stack\n              vertical={device.isMobile || device.isTablet}\n              fullWidth\n              gap={16}\n            >\n              <Offers\n                heading=\"Offers\"\n                type=\"offer\"\n                count={offers.count}\n                noDataNote=\"Your offers will appear here soon.\"\n                onView={campaign.viewOffer}\n                list={offers.list}\n                onToggleOldOffers={offers.toggleOldOffers}\n              />\n\n              <Reports\n                type=\"report\"\n                count={reports.count}\n                heading=\"Reports\"\n                noDataNote=\"Your reports will appear here soon.\"\n                onView={campaign.viewReport}\n                list={reports.list}\n              />\n            </Stack>\n          </S.Main>\n        </div>\n      )}\n\n      <DeleteCampaignConfirmation\n        open={modal.modalType === 'delete-confirmation'}\n        onClose={modal.closeModal}\n        campaign={modal.contextData}\n        onDelete={campaign.softDelete}\n        actionButtonLoading={campaign.isDeleting}\n      />\n    </SinglePageLayout>\n  );\n}\n"],"names":["NoData","noDataNote","jsxs","Fragment","jsx","TSpan","Spacer","File","offerNumber","createdAt","id","type","onView","updateAppearance","S","Icon","undefined","Stack","Utils","formatDate","Button","Divider","OffersAndReports","heading","count","list","onToggleOldOffers","checked","setChecked","useState","Checkbox","_checked","length","map","l","Number","oid","reportId","_id","Date","status","EnumAdCampaignOfferStatus","Sent","useCampaignSummary","params","useParams","modal","useModalManager","navigate","useNavigate","log","useError","toast","useToast","deleteCampaign","deleteCampaignStatus","useDeleteCampaignMutation","showOldOffers","setShowOldOffers","campaignSummary","useCampaignSummaryQuery","skip","variables","campaignId","onError","logError","error","offersSummary","useCampaignOfferIdQuery","fetchPolicy","reportsSummary","useCampaignReportsIdQuery","offset","limit","softDelete","addErrorToast","closeModal","addSuccessIconToast","ROUTES","CAMPAIGNS","duplicate","useCallback","generatePath","CAMPAIGN_CREATE","viewOffer","pathname","CAMPAIGN_OFFER","search","viewReport","CAMPAIGN_REPORT","toggleOldOffers","totalOffers","useMemo","removeDraftOffer","data","getAdCampaignOffers","reportList","cleanList","getAdCampaignReports","summary","getSelectedAdCampaignDetails","openDeleteConfirmationModal","openModal","title","handleBack","offerList","reportCount","campaign","isDeleting","loading","offers","reports","CampaignSummary","device","useBreakpoints","hideStepper","SinglePageLayout","Header","isMobile","isTablet","Actions","canDelete","Spinner","alignSelf","width","display","justifyContent","CampaignDetails","audience","startDate","noumId","goals","budgetAmount","budgetType","adId","otherGoals","Offers","Reports","DeleteCampaignConfirmation","modalType","contextData"],"mappings":"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"}