{"version":3,"file":"MoneyArticle-ac64dca3.js","sources":["../../src/screens/Money/FinancialSolution/Content/MoneyArticle.tsx"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { useLocation } from 'react-router';\nimport { type StoryblokRichtext } from 'storyblok-rich-text-react-renderer';\nimport * as Storyblok from '@/services/rest/storyblok';\nimport MoneyLayout from '@/layout/MoneyLayout';\nimport { Button } from '@/components/Button';\nimport { Spacer } from '@/layout';\nimport { TSpan } from '@/components/Typography';\nimport { useLaunchDarkly, useToast } from '@/hooks';\nimport { useGenerateTokenForCQ } from '@/features/money/hooks';\nimport { StoryblokRichTextContainer } from '@/components/StoryblokRichTextContainer/StoryblokRichTextContainer';\nimport { type Content, type ArticleDetails } from './types';\nimport { Container, StyledArticleDetail, ArticeMainImage } from './styles';\n\nconst MoneyArticle = () => {\n  const location = useLocation();\n  const { addToast } = useToast();\n  const cqURl = process.env.VITE_CQ_URL;\n  const slug = location?.search?.split('?slug=')[1];\n  const [content, setContent] = useState<Content>();\n  const generateTokenForCQ = useGenerateTokenForCQ();\n  const { flags } = useLaunchDarkly();\n\n  useEffect(() => {\n    async function getContent() {\n      const { data }: { data: ArticleDetails } =\n        await Storyblok.getArticleDetails(slug);\n      setContent(data?.story?.content);\n    }\n    getContent();\n  }, [slug]);\n\n  const handleNavigation = async (_slug: string) => {\n    if (cqURl === content?.Main_Button_Link) {\n      const { token, error } = await generateTokenForCQ();\n      if (token) {\n        const formedUrl: string = `${cqURl}?access_token=${token}`;\n        window.open(formedUrl, '_blank');\n      }\n      if (error) {\n        addToast('error', 'none', `${error.message}`);\n      }\n      return;\n    }\n    window.open(_slug, '_blank');\n  };\n\n  return (\n    <MoneyLayout\n      hideLeftMenu={true}\n      backgroundColor=\"--bg-body-neutral-alt-default\"\n    >\n      <Container $isAppUiV2={flags.newAppNavigation}>\n        <Spacer height={24} />\n        <ArticeMainImage\n          src={content?.Main_Image?.filename}\n          alt={content?.Main_Image?.alt}\n        />\n        <Spacer height={40} />\n        <StyledArticleDetail $isAppUiV2={flags.newAppNavigation}>\n          <TSpan\n            font=\"heading-m-bold\"\n            colorToken=\"--text-card-header-neutral-highlighted\"\n          >\n            {content?.Title}\n          </TSpan>\n          <Spacer isFlex height={16} />\n          <TSpan\n            font=\"body-l\"\n            colorToken=\"--text-card-header-neutral-highlighted\"\n          >\n            {content?.Short_Description}\n          </TSpan>\n          <Spacer isFlex height={21} />\n          {content?.Main_Button_Label && (\n            <Button\n              primary\n              size=\"small\"\n              style={{ width: '100%' }}\n              onClick={() => handleNavigation(content?.Main_Button_Link)}\n            >\n              {content?.Main_Button_Label}\n            </Button>\n          )}\n          <Spacer height={16} />\n          <StoryblokRichTextContainer\n            content={content?.Content as StoryblokRichtext}\n          />\n          <Spacer height={32} />\n          {content?.Main_Button_Label && (\n            <Button\n              primary\n              size=\"small\"\n              style={{ width: '100%' }}\n              onClick={() => handleNavigation(content?.Main_Button_Link)}\n            >\n              {content?.Main_Button_Label}\n            </Button>\n          )}\n        </StyledArticleDetail>\n      </Container>\n    </MoneyLayout>\n  );\n};\nexport default MoneyArticle;\n"],"names":["MoneyArticle","location","useLocation","addToast","useToast","cqURl","process","slug","search","split","content","setContent","useState","generateTokenForCQ","useGenerateTokenForCQ","flags","useLaunchDarkly","useEffect","getContent","data","Storyblok","story","handleNavigation","_slug","Main_Button_Link","token","error","formedUrl","open","message","jsx","MoneyLayout","jsxs","Container","newAppNavigation","Spacer","ArticeMainImage","Main_Image","filename","alt","StyledArticleDetail","TSpan","Title","Short_Description","Main_Button_Label","Button","width","StoryblokRichTextContainer","Content"],"mappings":"4lBAcA,MAAMA,EAAeA,IAAM,WACzB,MAAMC,EAAWC,IACX,CAAEC,SAAAA,GAAaC,EAAU,EACzBC,EAAQC,0CACRC,GAAON,EAAAA,GAAAA,YAAAA,EAAUO,SAAVP,YAAAA,EAAkBQ,MAAM,UAAU,GACzC,CAACC,EAASC,CAAU,EAAIC,EAAmB,SAAA,EAC3CC,EAAqBC,IACrB,CAAEC,MAAAA,GAAUC,EAAiB,EAEnCC,EAAAA,UAAU,IAAM,CACd,eAAeC,GAAa,OACpB,KAAA,CAAEC,KAAAA,CAAAA,EACN,MAAMC,EAA4Bb,CAAI,EAC7BY,GAAAA,EAAAA,GAAAA,YAAAA,EAAME,QAANF,YAAAA,EAAaT,OAAO,CACjC,CACYQ,GAAA,EACX,CAACX,CAAI,CAAC,EAEHe,MAAAA,EAAmB,MAAOC,GAAkB,CAC5ClB,GAAAA,KAAUK,GAAAA,YAAAA,EAASc,kBAAkB,CACjC,KAAA,CAAEC,MAAAA,EAAOC,MAAAA,CAAAA,EAAU,MAAMb,EAAoB,EACnD,GAAIY,EAAO,CACHE,MAAAA,EAAqB,GAAEtB,kBAAsBoB,IAC5CG,OAAAA,KAAKD,EAAW,QAAQ,EAE7BD,GACFvB,EAAS,QAAS,OAAS,GAAEuB,EAAMG,SAAS,EAE9C,OAEKD,OAAAA,KAAKL,EAAO,QAAQ,CAAA,EAG7B,OACGO,EAAAC,EAAA,CACC,aAAc,GACd,gBAAgB,gCAA+B,YAAA,2BAE/C,SAAAC,EAACC,EAAU,CAAA,WAAYlB,EAAMmB,iBAAiB,YAAA,yBAC5C,SAAA,CAAAJ,EAACK,EAAO,CAAA,OAAQ,GAAG,YAAA,sBAAA,EACnBL,EAACM,EACC,CAAA,KAAK1B,EAAAA,GAAAA,YAAAA,EAAS2B,aAAT3B,YAAAA,EAAqB4B,SAC1B,KAAK5B,EAAAA,GAAAA,YAAAA,EAAS2B,aAAT3B,YAAAA,EAAqB6B,IAAI,YAAA,8BAAA,CAAA,EAE/BT,EAAAK,EAAA,CAAO,OAAQ,GAAG,YAAA,sBAAA,IAClBK,EAAoB,CAAA,WAAYzB,EAAMmB,iBAAiB,YAAA,mCACtD,SAAA,CAACJ,EAAAW,EAAA,CACC,KAAK,iBACL,WAAW,yCAAwC,YAAA,qBAElD/B,0BAASgC,KACZ,CAAA,IACCP,EAAO,CAAA,OAAM,GAAC,OAAQ,GAAG,YAAA,sBAAA,EAC1BL,EAACW,GACC,KAAK,SACL,WAAW,yCAAwC,YAAA,qBAElD/B,SAAAA,GAAAA,YAAAA,EAASiC,iBACZ,CAAA,IACCR,EAAO,CAAA,OAAM,GAAC,OAAQ,GAAG,YAAA,sBAAA,GACzBzB,GAAAA,YAAAA,EAASkC,oBACPd,EAAAe,EAAA,CACC,QAAO,GACP,KAAK,QACL,MAAO,CAAEC,MAAO,MAAO,EACvB,QAAS,IAAMxB,EAAiBZ,GAAAA,YAAAA,EAASc,gBAAgB,EAAE,YAAA,sBAE1Dd,SAAAA,GAAAA,YAAAA,EAASkC,iBACZ,CAAA,EAEDd,EAAAK,EAAA,CAAO,OAAQ,GAAG,YAAA,sBAAA,IAClBY,EACC,CAAA,QAASrC,GAAAA,YAAAA,EAASsC,QAA6B,YAAA,0CAAA,EAEhDlB,EAAAK,EAAA,CAAO,OAAQ,GAAG,YAAA,sBAAA,GAClBzB,GAAAA,YAAAA,EAASkC,oBACPd,EAAAe,EAAA,CACC,QAAO,GACP,KAAK,QACL,MAAO,CAAEC,MAAO,MAAO,EACvB,QAAS,IAAMxB,EAAiBZ,GAAAA,YAAAA,EAASc,gBAAgB,EAAE,YAAA,sBAE1Dd,SAAAA,GAAAA,YAAAA,EAASkC,iBACZ,CAAA,CAAA,EAEJ,CAAA,CACF,CAAA,CACF,CAAA,CAEJ"}