{"version":3,"file":"navigation-419d637e.js","sources":["../../src/hooks/navigation.ts"],"sourcesContent":["import { useCallback } from 'react';\nimport {\n  type NavigateOptions,\n  type Path,\n  type To,\n  useLocation,\n  useNavigate,\n} from 'react-router';\n\ninterface LocationStateWithOrigin extends Path {\n  state?: {\n    origin?: string;\n  };\n  key: string;\n}\n\n/**\n * Navigate through multiple screens and persist the \"origin\" (where you are coming from),\n * then go back to the origin with a single function call.\n */\nexport function useNavigateWithOrigin() {\n  const navigate = useNavigate();\n  const location = useLocation() as LocationStateWithOrigin;\n\n  /**\n   * Use fallbackUrl in case there is no origin in state (e.g. direct URL access)\n   */\n  const goBackToOrigin = useCallback(\n    ({ fallbackUrl }: { fallbackUrl?: string } = {}) => {\n      if (location.state?.origin) {\n        navigate(location.state.origin);\n      } else if (fallbackUrl) {\n        navigate(fallbackUrl);\n      } else {\n        navigate(-1);\n      }\n    },\n    [location.state?.origin, navigate],\n  );\n\n  const navigateAndPassOrigin = useCallback(\n    (to: To, options?: Omit<NavigateOptions, 'state'>) => {\n      navigate(to, {\n        ...options,\n        state: { origin: location.state?.origin },\n      });\n    },\n    [location.state, navigate],\n  );\n\n  const navigateAndSetOrigin = useCallback(\n    (to: To, options?: Omit<NavigateOptions, 'state'>) => {\n      navigate(to, {\n        ...options,\n        state: { origin: location.pathname + location.search },\n      });\n    },\n    [location.pathname, location.search, navigate],\n  );\n\n  return { goBackToOrigin, navigateAndPassOrigin, navigateAndSetOrigin };\n}\n"],"names":["useNavigateWithOrigin","navigate","useNavigate","location","useLocation","goBackToOrigin","useCallback","fallbackUrl","state","origin","navigateAndPassOrigin","to","options","navigateAndSetOrigin","pathname","search"],"mappings":"yDAoBO,SAASA,GAAwB,OACtC,MAAMC,EAAWC,IACXC,EAAWC,IAKXC,EAAiBC,EAAAA,YACrB,CAAC,CAAEC,YAAAA,CAAsC,EAAI,KAAO,QAC9CJ,EAAAA,EAASK,QAATL,MAAAA,EAAgBM,OACTN,EAAAA,EAASK,MAAMC,MAAM,EAE9BR,EADSM,GAGA,EAFW,GAKxB,EAACJ,EAAAA,EAASK,QAATL,YAAAA,EAAgBM,OAAQR,CAAQ,CAAC,EAG9BS,EAAwBJ,EAAAA,YAC5B,CAACK,EAAQC,IAA6C,OACpDX,EAASU,EAAI,CACX,GAAGC,EACHJ,MAAO,CAAEC,QAAQN,EAAAA,EAASK,QAATL,YAAAA,EAAgBM,MAAO,CAAA,CACzC,CAEH,EAAA,CAACN,EAASK,MAAOP,CAAQ,CAAC,EAGtBY,EAAuBP,EAAAA,YAC3B,CAACK,EAAQC,IAA6C,CACpDX,EAASU,EAAI,CACX,GAAGC,EACHJ,MAAO,CAAEC,OAAQN,EAASW,SAAWX,EAASY,MAAO,CAAA,CACtD,CAAA,EAEH,CAACZ,EAASW,SAAUX,EAASY,OAAQd,CAAQ,CAAC,EAGzC,MAAA,CAAEI,eAAAA,EAAgBK,sBAAAA,EAAuBG,qBAAAA,CAAAA,CAClD"}