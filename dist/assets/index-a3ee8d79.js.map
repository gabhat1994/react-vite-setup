{"version":3,"file":"index-a3ee8d79.js","sources":["../../src/assets/images/login-bg.png","../../src/assets/images/login-bg-2x.png","../../src/assets/images/signup-bg.png","../../src/assets/images/register-bg.png","../../src/assets/images/initial_signup_bg.png","../../src/layout/AuthScreenLayout/styles.ts","../../src/layout/AuthScreenLayout/index.tsx"],"sourcesContent":["export default \"__VITE_ASSET__8e82a683__\"","export default \"__VITE_ASSET__a42c16a0__\"","export default \"__VITE_ASSET__f234385e__\"","export default \"__VITE_ASSET__c5490213__\"","export default \"__VITE_ASSET__256b2d5c__\"","import styled from 'styled-components';\nimport { sizes } from '@/constants/devices';\nimport { Stack } from '../Stack';\n\nexport const Root = styled(Stack)<{\n  dynamicHeight?: boolean;\n  dynamicWidth?: boolean;\n}>`\n  background-color: var(--bg-body-neutral-alt-default);\n  height: 100vh;\n  @media (max-width: ${sizes.MOBILE_L}) {\n    height: 85vh;\n    ${(props) => props.dynamicHeight && `height: unset`}\n  }\n  ${(props) => props.dynamicHeight && `height: unset`}\n  ${({ dynamicWidth }) => !dynamicWidth && 'width: 100vw;'}\n`;\n\nexport const MainContainer = styled(Stack)`\n  flex: 1;\n  padding: 40px;\n  max-height: 100vh;\n  max-width: 100vw;\n  height: 100%;\n  @media (max-width: ${sizes.MOBILE_L}) {\n    padding: 16px;\n    height: 100vh;\n  }\n`;\n\n// export const LogoImg = styled.img`\n//   height: 32px;\n//   width: fit-content;\n//   cursor: pointer;\n\n//   @media (max-width: ${sizes.MOBILE_L}) {\n//     height: 26px;\n//   }\n// `;\n\nexport const SideImage = styled.div<{ background: string }>`\n  flex: 1;\n  height: 100vh;\n  width: 100%;\n  background: ${(props) => `url(${props.background}) center center no-repeat`};\n  background-size: cover;\n\n  @media (max-width: ${sizes.TABLET_L}) {\n    display: none;\n  }\n`;\n\nexport const LayoutStyles = {\n  width: '100%',\n  display: 'flex',\n  alignItems: 'center',\n  justifyContent: 'center',\n  height: '100%',\n};\n","import { type FC, useEffect, useRef, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\n\nimport { useWindowDimensions } from '@/hooks/dimensions';\nimport loginBG from '@/assets/images/login-bg.png';\nimport loginBG2X from '@/assets/images/login-bg-2x.png';\nimport signupBG from '@/assets/images/signup-bg.png';\nimport confirmBG from '@/assets/images/register-bg.png';\nimport intialSignUpBG from '@/assets/images/initial_signup_bg.png';\nimport { breakpoints } from '@/constants/devices';\nimport { type RootObject } from '@/screens/Register/Steps/StepOne/types';\nimport * as Storyblok from '@/services/rest/storyblok';\nimport { IdentityServices } from '@/services/rest/identity';\nimport MobileHelpButton from '@/screens/Register/MobileHelpButton';\nimport Logo from '@/components/Logo';\nimport { Button } from '@/components/Button';\nimport { Icon } from '@/components/Icon';\nimport { useLaunchDarkly } from '@/hooks';\nimport { type AuthScreenLayoutProps } from './types';\nimport { SideImage, Root, MainContainer, LayoutStyles } from './styles';\nimport { Stack } from '../Stack';\nimport { ButtonWrapper } from '../NextAppSignUpLayout/styles';\n\nconst background = {\n  login: loginBG,\n  login2x: loginBG2X,\n  signup: signupBG,\n  confirm: confirmBG,\n  onboarding: intialSignUpBG,\n};\n\nconst AuthScreenLayout: FC<AuthScreenLayoutProps> = ({\n  type,\n  children,\n  dynamicHeight,\n  dynamicWidth,\n  overflow,\n  showBackButton = false,\n  onBackClick,\n}) => {\n  const { height, width } = useWindowDimensions();\n  const isMobile = width < breakpoints.TABLET;\n  const styles =\n    height < 600 && type !== 'onboarding'\n      ? { ...LayoutStyles, minHeight: '500px' }\n      : LayoutStyles;\n  const componentMounted = useRef(true);\n  const [backgroundImage, setBackgroundImage] = useState<string>();\n\n  const [searchParams] = useSearchParams();\n  const referralCodeParam = searchParams.get('referral-code') || '';\n  const referralCode = referralCodeParam.replace(/[^a-zA-Z0-9]/g, '');\n\n  const {\n    flags: { newSignUp },\n  } = useLaunchDarkly();\n\n  useEffect(() => {\n    async function getContent() {\n      const res = await IdentityServices.serviceValidateReferralCode(\n        referralCode,\n      );\n      const isValidReferralCode = !!(!res.errorMessage && res.isValid);\n      if (isValidReferralCode && componentMounted?.current) {\n        try {\n          const { data }: { data: RootObject } =\n            await Storyblok.getSignUpPageData(referralCode);\n          setBackgroundImage(data?.story?.content?.Image);\n        } catch (error) {\n          /* empty */\n        }\n      }\n    }\n    if (referralCode) {\n      getContent();\n    }\n\n    return () => {\n      componentMounted.current = false;\n    };\n  }, [referralCode]);\n\n  return (\n    <Root dynamicHeight={dynamicHeight} dynamicWidth={dynamicWidth}>\n      <MainContainer vertical overflow={overflow}>\n        <Stack\n          justify={isMobile ? 'space-between' : undefined}\n          fullWidth={isMobile}\n        >\n          {!newSignUp && <Logo />}\n          <MobileHelpButton />\n        </Stack>\n        {showBackButton && (\n          <ButtonWrapper>\n            <Button\n              size=\"small\"\n              tertiary\n              leftIcon={<Icon name=\"arrow_left_m\" size={22} />}\n              onClick={onBackClick}\n            >\n              Back\n            </Button>\n          </ButtonWrapper>\n        )}\n        <Stack justify=\"center\" align=\"center\" style={styles}>\n          {children}\n        </Stack>\n      </MainContainer>\n      {!newSignUp && (\n        <SideImage background={backgroundImage || background[type]} />\n      )}\n    </Root>\n  );\n};\n\nexport default AuthScreenLayout;\n"],"names":["loginBG","loginBG2X","signupBG","confirmBG","intialSignUpBG","Root","styled","Stack","sizes","MOBILE_L","props","dynamicHeight","dynamicWidth","MainContainer","SideImage","div","background","TABLET_L","LayoutStyles","width","display","alignItems","justifyContent","height","login","login2x","signup","confirm","onboarding","AuthScreenLayout","type","children","overflow","showBackButton","onBackClick","useWindowDimensions","isMobile","breakpoints","TABLET","styles","minHeight","componentMounted","useRef","backgroundImage","setBackgroundImage","useState","searchParams","useSearchParams","referralCode","get","replace","flags","newSignUp","useLaunchDarkly","useEffect","getContent","res","IdentityServices","serviceValidateReferralCode","isValidReferralCode","errorMessage","isValid","current","data","Storyblok","story","content","Image","jsxs","undefined","jsx","Logo","MobileHelpButton","ButtonWrapper","Button","Icon"],"mappings":"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"}