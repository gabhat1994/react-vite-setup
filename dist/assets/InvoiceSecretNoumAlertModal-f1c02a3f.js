import{j as h,bb as b,bi as S,b6 as f,bc as q}from"./index-cd84bcc9.js";import{r,am as p,an as t,ao as a,bF as o,bG as w,bH as l,bI as m,ap as x,aq as P}from"./vendor-51460554.js";import{L as s,D as d}from"./types-3fb18ef5.js";import{S as O}from"./SecretNoumAlertModal-f376a2a7.js";const T=r.createContext({shouldShowInvoicePreview:!1,setShowInvoicePreview:()=>{},selectedBuyer:null,selectedServiceProvider:null,setSelectedBuyer:()=>{},setSelectedServiceProvider:()=>{}}),C=({children:e})=>{const[i,u]=r.useState(!1),[n,y]=r.useState(),[c,I]=r.useState(),N=r.useMemo(()=>({shouldShowInvoicePreview:i,selectedBuyer:n,selectedServiceProvider:c,setShowInvoicePreview:u,setSelectedBuyer:y,setSelectedServiceProvider:I}),[i,n,c]);return h(T.Provider,{value:N,children:e})},v=999999999999,A=p({id:t().required(),unitPrice:a().min(1).label("Unit Price").required(),quantity:a().min(1).label("Quantity").required().max(999),description:t().label("Service Name").required().max(3e3),taxName:t().optional().nullable(),taxRate:a().optional().max(100).nullable().when("taxName",{is:e=>!!e,then:e=>e.required(),otherwise:e=>e.notRequired()}),currency:o().oneOf(Object.values(b)).required()}),D=p({id:t().optional(),noumId:t().required("You have to assign a Noum to your invoice").label("Noum Assignment"),invoiceNumber:t().label("Invoice No.").when("noumId",{is:e=>!!e,then:e=>e.required().matches(S)}),buyerId:t().label("Recipient").required(),serviceProviderId:t().label("Service Provider").required(),lineItems:w(A).label("Items").required().min(1),defaultTaxRate:a().optional(),defaultTaxName:t().optional(),issueDate:l().label("Issue Date").required(),lateFeeType:o().oneOf(Object.values(s)).required(),status:o().oneOf(Object.values(f)).required(),dueDate:o().oneOf(Object.values(d)).required(),currency:o().oneOf(Object.values(b)).required(),notes:t().label("Notes").optional().max(200),summary:t().label("Attention").optional().max(200),logo:t().label("Logo").optional(),buyerDetailsComplete:m().is([!0]),serviceProviderDetailsComplete:m().is([!0]),paymentTerms:o().oneOf(Object.values(q)).label("Payment Terms").required(),customDueDate:l().label("Due date").when("dueDate",{is:d.CUSTOM_DATE,then:e=>e.required()}),lateFeeValue:a().label("Late Fee").when("lateFeeType",{is:s.FIXED_AMOUNT,then:e=>e.min(1).max(v).required(),otherwise:e=>e.notRequired()}).when("lateFeeType",{is:s.PERCENTAGE,then:e=>e.min(1).max(100).required(),otherwise:e=>e.notRequired().max(v)})});function R({defaultValues:e}={}){return x({mode:"onChange",defaultValues:e,resolver:P(D)})}const j=({isUnauthenticated:e,...i})=>h(O,{warningText:e?"Your client is not a member or an authenticated non-member of Noumena. Our team can help you to share this invoice with your client, get in touch with us on our support page.":"Your client is not connected to this Noum. Head to your Noum to connect them first and then share your invoice.",description:e?"You created this invoice from a secret Noum. To share it with your client (guest user) they need to be both a member or an authenticated non-member of Noumena and also connected to the Noum. You can find your draft invoice in the Invoice Manager.":"You created this invoice from a secret Noum. To share it with your client they need to be both connected to the Noum and also a member or an authenticated non-member of Noumena. You can find your draft invoice in the Invoice Manager.",title:"Your Invoice cannot be issued",...i,"data-test":"InvoiceSecretNoumAlertModal-SecretNoumAlertModal"});export{T as I,C as a,j as b,D as i,R as u};
//# sourceMappingURL=InvoiceSecretNoumAlertModal-f1c02a3f.js.map
