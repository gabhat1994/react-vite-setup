{"version":3,"file":"forms-18e3c53a.js","sources":["../../src/utils/forms.ts"],"sourcesContent":["import {\n  type ControllerFieldState,\n  type ControllerRenderProps,\n  type FieldPath,\n  type FieldValues,\n} from 'react-hook-form';\n\ninterface ErrorProps {\n  error?: boolean;\n  helperText?: string;\n}\n\nfunction getErrorPropsWhen(\n  errorChecker: (fieldState: ControllerFieldState) => boolean,\n) {\n  function propsMaker(\n    fieldState: ControllerFieldState,\n    defaultHelperText?: string,\n  ): ErrorProps {\n    const hasError = errorChecker(fieldState);\n    return {\n      error: hasError,\n      helperText: hasError ? fieldState.error?.message : defaultHelperText,\n    };\n  }\n\n  return propsMaker;\n}\n\nexport const getErrorProps = getErrorPropsWhen((state) => !!state.error);\nexport const getTouchedErrorProps = getErrorPropsWhen(\n  (state) => !!state.error && state.isTouched,\n);\nexport const getDirtyErrorProps = getErrorPropsWhen(\n  (state) => !!state.error && state.isDirty,\n);\n\nexport const numberTransformer = {\n  fieldProps: <Values extends FieldValues, TName extends FieldPath<Values>>(\n    props: ControllerRenderProps<Values, TName>,\n  ) => ({\n    onChange: (event: React.ChangeEvent<HTMLInputElement>) => {\n      const eventValue = !Number.isNaN(Number(event.target.value))\n        ? Number(event.target.value)\n        : undefined;\n\n      if (Number.isNaN(eventValue)) {\n        return props.onChange(undefined);\n      }\n      return props.onChange(eventValue);\n    },\n    value: `${props.value ?? ''}`,\n  }),\n};\n"],"names":["getErrorPropsWhen","errorChecker","propsMaker","fieldState","defaultHelperText","_a","hasError","error","helperText","message","getErrorProps","state","getTouchedErrorProps","isTouched","numberTransformer","fieldProps","props","onChange","event","eventValue","Number","isNaN","target","value","undefined"],"mappings":"AAYA,SAASA,EACPC,EACA,CACSC,SAAAA,EACPC,EACAC,EACY,CANhB,IAAAC,EAOUC,MAAAA,EAAWL,EAAaE,CAAU,EACjC,MAAA,CACLI,MAAOD,EACPE,WAAYF,GAAWH,EAAAA,EAAWI,QAAXJ,YAAAA,EAAkBM,QAAUL,CAAAA,CAEvD,CAEOF,OAAAA,CACT,CAEO,MAAMQ,EAAgBV,EAAmBW,GAAU,CAAC,CAACA,EAAMJ,KAAK,EAC1DK,EAAuBZ,EACvBW,GAAA,CAAC,CAACA,EAAMJ,OAASI,EAAME,SAAS,EAMhCC,EAAoB,CAC/BC,WACEC,IACI,CACJC,SAAWC,GAA+C,CACxD,MAAMC,EAAcC,OAAOC,MAAMD,OAAOF,EAAMI,OAAOC,KAAK,CAAC,EAEvDC,OADAJ,OAAOF,EAAMI,OAAOC,KAAK,EAGzBH,OAAAA,OAAOC,MAAMF,CAAU,EAClBH,EAAMC,SAASO,MAAS,EAE1BR,EAAMC,SAASE,CAAU,CAClC,EACAI,MAAQ,GAAEP,EAAMO,OAAS,IAAA,EAE7B"}