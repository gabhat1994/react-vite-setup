import{r as s}from"./vendor-51460554.js";import{bm as C}from"./index-cd84bcc9.js";const y=(l,u=0)=>{const[h,r]=s.useState("hasNextPage"),[t,c]=s.useState([]),[f,N]=s.useState(0),{data:e,loading:F,error:g,fetchMore:m,refetch:n}=C({variables:{limit:l?u:12,offset:0}});s.useEffect(()=>{var o,a;c(((o=e==null?void 0:e.getFeaturedNoums)==null?void 0:o.data)||[]),N(((a=e==null?void 0:e.getFeaturedNoums)==null?void 0:a.count)||0)},[e]);const b=s.useCallback(async()=>{var i,d;const o=await m({variables:{limit:u,offset:(t==null?void 0:t.length)||0}}),a=((d=(i=o==null?void 0:o.data)==null?void 0:i.getFeaturedNoums)==null?void 0:d.data)||[],x=[...t,...a];c(x),(a.length||0)<u&&r("end")},[m,t,u]);return s.useEffect(()=>{r(t&&(t==null?void 0:t.length)>=f?"end":"hasNextPage")},[t,f]),s.useEffect(()=>{n()},[n]),{noums:t,loading:F,error:g,infiniteState:h,fetchMoreNoums:b,refetchFeaturedNoums:n}};export{y as u};
//# sourceMappingURL=useDiscoveryFeaturedNoums-17c3594a.js.map
