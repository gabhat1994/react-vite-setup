import{I as P,j as o,x as C,T,am as v,y as E}from"./index-cd84bcc9.js";import{C as y,ad as _,r}from"./vendor-51460554.js";import{c as j}from"./countries-4aa86a38.js";import{F as g}from"./Flag-d41fef47.js";y.div`
  display: flex;
  justify-content: space-between;
  width: 100%;
  & > :not(:last-child) {
    margin-right: 8px;
  }
`;const z=y(P)`
  transition: transform 0.3s;
  ${({isOpen:t})=>t&&"transform: rotate(180deg)"};
`,D=j.map(t=>({key:_(),label:o(C,{"data-test":"genericCountryOptions-Stack",children:o(T,{font:"input-s",colorToken:"--text-tablecell-header-neutral-default","data-testid":"country-options","data-test":"genericCountryOptions-TSpan",children:o("div",{style:{padding:"0 4px"},children:t.name})})}),type:"value",value:{...t},icon:o(g,{flag:`flag_${t.iso2}`,size:14,"data-test":"genericCountryOptions-Flag"})})),W=({options:t=D,onCountryCodeChange:u,value:s,disabled:S,containerHeight:k,placement:w="bottom-start",...O})=>{const[f,x]=r.useState([]),[l,I]=r.useState(15),[m,h]=r.useState(!1),[i,p]=r.useState({name:"",dialCode:"",iso2:""}),[c,d]=r.useState(""),L=e=>{d(e)};r.useEffect(()=>{const e=t.filter(a=>{var n;return a&&a.type==="value"&&a.value?(n=String(a.value.name))==null?void 0:n.toLowerCase().includes(c.toLocaleLowerCase()):!0});x(e)},[t,c]),r.useEffect(()=>{var e,a;s&&s.length===2&&p({name:((e=t.find(n=>n.value.iso2.toLocaleLowerCase()===(s==null?void 0:s.toLocaleLowerCase())))==null?void 0:e.value.name)||"",dialCode:((a=t.find(n=>n.value.iso2.toLocaleLowerCase()===(s==null?void 0:s.toLocaleLowerCase())))==null?void 0:a.value.dialCode)||"",iso2:s||""})},[t,s]),r.useEffect(()=>{var a;const e=t.find(n=>n.value.iso2===i.iso2);u(e==null?void 0:e.value.name,(a=e==null?void 0:e.value)==null?void 0:a.iso2)},[u,t,i]);const b=r.useCallback(()=>I(l+15),[l]),F=f.slice(0,Math.min(f.length,l));return o(C,{fullWidth:!0,"data-testid":"countryPicker","data-test":"CountryPicker-Stack",children:o(v,{containerWidth:"443px",containerHeight:k,inputValue:c||"",options:c.length>0?F:t,usePortal:!0,placement:w,disabled:S,onSelectOption:e=>{p(e.value),d("")},showInternalSearch:!0,onInputChange:L,onFetchMore:b,onClose:()=>{d(""),h(!1)},onOpen:()=>h(!0),"data-test":"CountryPicker-Dropdown",children:({inputProps:e,inputRef:a,toggle:n})=>o(E,{"data-testid":"country-picker-textfield",readOnly:!0,ref:a,...O,...e,value:i.name||"",isAlwaysFocus:m,label:"Select Country...",leftIcon:i!=null&&i.iso2?o(g,{flag:`flag_${i.iso2}`,size:28,"data-test":"CountryPicker-Flag"}):null,rightIcon:o(z,{name:"chevron_down_m",isOpen:m,size:16,onClick:n,"data-testid":"styledCountryDownArrow",color:"--icon-input-neutral-default","data-test":"CountryPicker-CountryRightIcon"}),"data-test":"CountryPicker-TextField"})})})};export{W as C};
//# sourceMappingURL=CountryPicker-2d42d72f.js.map
