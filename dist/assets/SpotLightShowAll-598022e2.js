import{br as E,aj as g,p as C,j as L}from"./index-cd84bcc9.js";import{D as M}from"./ChamberBox-e4d36ac9.js";import{r as m}from"./vendor-51460554.js";import{S as N}from"./ShowAll-226afca1.js";import"./capitalizeFirstLetter-92ef0abb.js";import"./SkeletonChamberBox-5e97f066.js";import"./consts-be860660.js";import"./useTimeIndicator-3b8ca7e8.js";import"./index-c8a663c0.js";import"./sideNavItems-22800105.js";import"./index-2d186805.js";import"./useResizeObserver-0deb9469.js";import"./storyblok-c16fb040.js";import"./index-4963229a.js";import"./Modal-5a254f40.js";import"./styles-3ceda759.js";import"./ChambersList-14c207f2.js";import"./styles-346e761c.js";import"./constants-ab41c274.js";import"./styles-d2f9f396.js";import"./styles-ec98f338.js";const P=(n,h,r=0)=>{const[l,u]=m.useState("hasNextPage"),{data:e,loading:p,error:d,fetchMore:a,refetch:f}=E({variables:{filter:n,limit:h?r:12,offset:0}}),o=m.useMemo(()=>{var i;return(i=e==null?void 0:e.getSpotLightChambers)==null?void 0:i.data},[e]),b=m.useMemo(()=>{var i,s;return(s=(i=e==null?void 0:e.getSpotLightChambers)==null?void 0:i.data)==null?void 0:s.filter(t=>{var S;return(t==null?void 0:t.type)!==g.Home&&(t==null?void 0:t.status)===C.Published||(t==null?void 0:t.type)===g.Home&&((S=t==null?void 0:t.uid)==null?void 0:S.userStatus)!=="PENDING"})},[e]),y=m.useCallback(async()=>{var s,t;(((t=(s=(await a({variables:{limit:r,offset:(o==null?void 0:o.length)||0}})).data.getSpotLightChambers)==null?void 0:s.data)==null?void 0:t.length)||0)<r&&u("end")},[a,o,r]);return m.useEffect(()=>{u(o&&(o==null?void 0:o.length)<r?"end":"hasNextPage")},[o,r]),m.useEffect(()=>{f()},[f]),{noums:b,loading:p,error:d,infiniteState:l,fetchMoreNoums:y,refetchRecommendedNoums:f}},w=20,V=()=>{const{noums:n,loading:h,infiniteState:r,fetchMoreNoums:l}=P({},!0,w);return L(N,{noums:n,loading:h,infiniteState:r,fetchMoreNoums:l,category:M.Spotlight,"data-test":"SpotLightShowAll-ShowAll"})};export{V as default};
//# sourceMappingURL=SpotLightShowAll-598022e2.js.map
