{"version":3,"file":"DocumentSignaturePreview-a0af4fc2.js","sources":["../../src/features/contracts/components/DeclineDocumentConfirmationModal/DeclineDocumentConfirmationModal.tsx","../../src/features/contracts/components/ResendDocumentConfirmationModal/ResendDocumentConfirmationModal.tsx","../../src/features/contracts/components/DocumentPdfFullPreview/DocumentPdfFullPreview.tsx","../../src/features/contracts/components/DocumentSignaturePreview/styles.ts","../../src/features/contracts/components/DocumentSignaturePreview/DocumentSignaturePreview.tsx"],"sourcesContent":["import { Trans, useTranslation } from 'react-i18next';\nimport { Button } from '@/components/Button';\nimport {\n  Modal,\n  ModalBody,\n  ModalFooter,\n  ModalHeader,\n  ModalSize,\n} from '@/components/ExtendedModal';\nimport { TSpan } from '@/components/Typography';\nimport { Stack } from '@/layout';\nimport S from './styles';\n\ninterface DeclineDocumentConfirmationModalProps {\n  isOpen: boolean;\n  documentName: string;\n  onDelete(): void;\n  onCancel(): void;\n}\n\nexport function DeclineDocumentConfirmationModal({\n  isOpen,\n  documentName,\n  onDelete,\n  onCancel,\n}: DeclineDocumentConfirmationModalProps) {\n  const { t } = useTranslation();\n\n  return (\n    <Modal\n      testId=\"reference-delete-modal\"\n      open={isOpen}\n      onClose={onCancel}\n      size={ModalSize.S}\n      disableBackdropClick\n    >\n      <ModalHeader>{t('noumena.contracts.decline_document.title')}</ModalHeader>\n      <ModalBody>\n        <Stack vertical align=\"center\" gap={24}>\n          <TSpan\n            font=\"body-l\"\n            colorToken=\"--text-modal-neutral-default\"\n            textAlign=\"center\"\n          >\n            <Trans\n              i18nKey=\"noumena.contracts.decline_document.description\"\n              components={[<S.Title />]}\n              values={{ documentName }}\n            />\n          </TSpan>\n          <TSpan\n            font=\"body-l\"\n            colorToken=\"--text-modal-neutral-default\"\n            textAlign=\"center\"\n          >\n            {t('noumena.contracts.decline_document.description_note')}\n          </TSpan>\n        </Stack>\n      </ModalBody>\n      <ModalFooter flexDirection=\"column\" gap={16}>\n        <Button\n          size=\"full\"\n          intent=\"negative\"\n          primary\n          testId=\"delete-reference-btn\"\n          onClick={onDelete}\n        >\n          {t('noumena.contracts.decline_document.confirm')}\n        </Button>\n        <Button\n          size=\"full\"\n          tertiary\n          testId=\"delete-reference-no-btn\"\n          onClick={onCancel}\n        >\n          {t(`noumena.cancel`)}\n        </Button>\n      </ModalFooter>\n    </Modal>\n  );\n}\n","import { useTranslation } from 'react-i18next';\nimport { Button } from '@/components/Button';\nimport {\n  Modal,\n  ModalBody,\n  ModalFooter,\n  ModalHeader,\n  ModalSize,\n} from '@/components/ExtendedModal';\nimport { TSpan } from '@/components/Typography';\n\ninterface ResendDocumentConfirmationModalProps {\n  isOpen: boolean;\n  onConfirm(): void;\n  onCancel(): void;\n}\n\nexport function ResendDocumentConfirmationModal({\n  isOpen,\n\n  onConfirm,\n  onCancel,\n}: ResendDocumentConfirmationModalProps) {\n  const { t } = useTranslation();\n\n  return (\n    <Modal\n      testId=\"contracts-document-resend-modal\"\n      open={isOpen}\n      onClose={onCancel}\n      size={ModalSize.M}\n      disableBackdropClick\n      enableCloseButton\n    >\n      <ModalHeader>{t('noumena.contracts.resend_document.title')}</ModalHeader>\n      <ModalBody>\n        <TSpan font=\"body-l\" colorToken=\"--text-modal-neutral-default\">\n          {t('noumena.contracts.resend_document.description')}\n        </TSpan>\n      </ModalBody>\n      <ModalFooter flexDirection=\"row\" gap={16}>\n        <Button\n          size=\"full\"\n          tertiary\n          testId=\"resend-reference-no-btn\"\n          onClick={onCancel}\n        >\n          {t(`noumena.cancel`)}\n        </Button>\n        <Button\n          size=\"full\"\n          intent=\"positive\"\n          primary\n          testId=\"resend-reference-btn\"\n          onClick={onConfirm}\n        >\n          {t('noumena.contracts.resend_document.confirm')}\n        </Button>\n      </ModalFooter>\n    </Modal>\n  );\n}\n","import { Spinner } from '@/components/Spinner';\n\ninterface DocumentPdfFullPreviewProps {\n  data: string | undefined;\n  isLoading?: boolean;\n}\n\nexport function DocumentPdfFullPreview({\n  data,\n  isLoading,\n}: DocumentPdfFullPreviewProps) {\n  // TODO: Replace with a document viewer. Extract from DocViewer component from LightBox?\n  return isLoading ? (\n    <Spinner />\n  ) : (\n    <iframe\n      src={data}\n      width=\"100%\"\n      height=\"100%\"\n      title=\"Document PDF with signatures\"\n    />\n  );\n}\n","import styled from 'styled-components';\nimport { Stack, StackItem } from '@/layout';\n\nexport const Container = styled(Stack).attrs(() => ({\n  align: 'stretch',\n  justify: 'stretch',\n  grow: 1,\n  fullWidth: true,\n}))`\n  height: 100%;\n`;\n\nexport const PdfPreview = styled(StackItem).attrs(() => ({\n  grow: 1,\n}))``;\n\nexport const AgreementsPanel = styled(Stack).attrs(() => ({\n  gap: 32,\n  align: 'stretch',\n  justify: 'space-between',\n  vertical: true,\n  fullWidth: true,\n}))`\n  background-color: var(--bg-modal-neutral-alt-default);\n  padding: 24px;\n  width: 368px;\n`;\n\nexport default {\n  Container,\n  PdfPreview,\n  AgreementsPanel,\n};\n","import { useTranslation } from 'react-i18next';\nimport { Button } from '@/components/Button';\nimport { TSpan } from '@/components/Typography';\nimport { Stack } from '@/layout';\n\nimport {\n  type DocumentPreviewSignatureFormValues,\n  useDocumentPreviewSignatureFormContext,\n} from '../../hooks/documentPreviewSignatureForm';\nimport { AgreementCheckbox } from '../AgreementCheckbox/AgreementCheckbox';\nimport { DocumentPdfFullPreview } from '../DocumentPdfFullPreview/DocumentPdfFullPreview';\nimport { Section } from '../Section/Section';\nimport S from './styles';\n\ninterface DocumentSignaturePreviewProps {\n  pdfData: string | undefined;\n  isLoading: boolean;\n  onGoBack(): void;\n}\n\nexport function DocumentSignaturePreview({\n  pdfData,\n  isLoading,\n  onGoBack,\n}: DocumentSignaturePreviewProps) {\n  const { t } = useTranslation();\n\n  const {\n    formState: { isSubmitted, isValid, isDirty },\n  } = useDocumentPreviewSignatureFormContext();\n\n  const hasAgreementsError = isSubmitted && !isValid;\n  const canSubmit = isDirty && isValid;\n\n  return (\n    <>\n      <S.PdfPreview>\n        <DocumentPdfFullPreview data={pdfData} isLoading={isLoading} />\n      </S.PdfPreview>\n\n      <S.AgreementsPanel>\n        <Section variant=\"main\" title=\"Agreements\" hasSeparator>\n          <Stack gap={16} align=\"stretch\" vertical fullWidth>\n            <AgreementCheckbox<DocumentPreviewSignatureFormValues>\n              name=\"documentContentsChecked\"\n              label={t(\n                'noumena.contracts_document_signature_preview.document_contents_checked.label',\n              )}\n            />\n            <AgreementCheckbox<DocumentPreviewSignatureFormValues>\n              name=\"validSignature\"\n              label={t(\n                'noumena.contracts_document_signature_preview.valid_signature.label',\n              )}\n            />\n\n            {hasAgreementsError && (\n              <TSpan\n                font=\"body-m\"\n                colorToken=\"--bg-button-danger-primary-default\"\n              >\n                {t('noumena.contracts_document_preview.agreements.required')}\n              </TSpan>\n            )}\n          </Stack>\n        </Section>\n\n        <Stack gap={16} align=\"stretch\" vertical fullWidth>\n          <Button\n            primary\n            intent=\"positive\"\n            type=\"submit\"\n            softDisabled={!canSubmit}\n          >\n            {t(\n              'noumena.contracts_document_signature_preview.cta.confirm_and_sign',\n            )}\n          </Button>\n          <Button tertiary onClick={onGoBack}>\n            {t('noumena.contracts_document_signature_preview.cta.go_back')}\n          </Button>\n        </Stack>\n      </S.AgreementsPanel>\n    </>\n  );\n}\n"],"names":["DeclineDocumentConfirmationModal","isOpen","documentName","onDelete","onCancel","t","useTranslation","jsxs","Modal","ModalSize","S","jsx","ModalHeader","ModalBody","Stack","TSpan","Trans","ModalFooter","Button","ResendDocumentConfirmationModal","onConfirm","M","DocumentPdfFullPreview","data","isLoading","Spinner","Container","styled","attrs","align","justify","grow","fullWidth","PdfPreview","StackItem","AgreementsPanel","gap","vertical","DocumentSignaturePreview","pdfData","onGoBack","formState","isSubmitted","isValid","isDirty","useDocumentPreviewSignatureFormContext","hasAgreementsError","canSubmit","Fragment","Section","AgreementCheckbox"],"mappings":"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"}