{"version":3,"file":"statementOfWork-e03c986f.js","sources":["../../src/features/contracts/components/DocumentStatusTag/DocumentStatusTag.tsx","../../src/features/contracts/utils/statementOfWork.ts"],"sourcesContent":["import { type ComponentProps } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Tag } from '@/components/Tag';\nimport { SowStatus } from '@/apollo/generated/types';\nimport { ContractStatus } from '../../types';\n\ntype TagProps = ComponentProps<typeof Tag>;\n\ntype DocumentStatusTagProps = {\n  status: ContractStatus | SowStatus;\n} & Pick<TagProps, 'size' | 'contentFont'>;\n\nexport function DocumentStatusTag({\n  status,\n  ...tagProps\n}: DocumentStatusTagProps) {\n  const { t } = useTranslation();\n  switch (status) {\n    case ContractStatus.Draft:\n    case SowStatus.Draft:\n      return (\n        <Tag tertiary {...tagProps} border>\n          {t('noumena.contracts.status.draft')}\n        </Tag>\n      );\n    case ContractStatus.Issued:\n    case SowStatus.Issued:\n      return (\n        <Tag warning {...tagProps} border>\n          {t('noumena.contracts.status.sent')}\n        </Tag>\n      );\n    case ContractStatus.Signed:\n    case SowStatus.Signed:\n      return (\n        <Tag success {...tagProps} border>\n          {t('noumena.contracts.status.signed')}\n        </Tag>\n      );\n    default: {\n      return null;\n    }\n  }\n}\n","import { type Maybe } from '@/apollo/generated/types';\nimport { type StatementOfWork, StatementOfWorkStatus } from '../types';\n\ntype MaybeStatementOfWork = Maybe<StatementOfWork> | undefined;\n\nfunction isDraft(statementOfWork: MaybeStatementOfWork) {\n  return (\n    !statementOfWork || statementOfWork?.status === StatementOfWorkStatus.Draft\n  );\n}\n\nfunction isIssued(statementOfWork: MaybeStatementOfWork) {\n  return statementOfWork?.status === StatementOfWorkStatus.Issued;\n}\n\nfunction isSigned(statementOfWork: MaybeStatementOfWork) {\n  return statementOfWork?.status === StatementOfWorkStatus.Signed;\n}\n\nfunction isAmended(statementOfWork: MaybeStatementOfWork) {\n  return statementOfWork?.status === StatementOfWorkStatus.Amended;\n}\n\nfunction isComplete(statementOfWork: MaybeStatementOfWork) {\n  return statementOfWork?.isCompleted;\n}\n\nfunction formatDocumentNumber(documentNumber: number) {\n  return `S-${documentNumber}`;\n}\n\nfunction formatPdfFileName(\n  statementOfWork:\n    | Maybe<\n        Pick<StatementOfWork, 'title'> &\n          Partial<Pick<StatementOfWork, 'SOWNumber'>>\n      >\n    | undefined,\n) {\n  if (!statementOfWork) {\n    return 'Statement of Work.pdf';\n  }\n\n  const numberSuffix = statementOfWork.SOWNumber\n    ? ` (${formatDocumentNumber(statementOfWork.SOWNumber)})`\n    : '';\n\n  return `${statementOfWork.title}${numberSuffix}.pdf`;\n}\n\nexport const StatementOfWorkUtils = {\n  isDraft,\n  isIssued,\n  isSigned,\n  isAmended,\n  isComplete,\n  formatDocumentNumber,\n  formatPdfFileName,\n};\n"],"names":["DocumentStatusTag","status","tagProps","t","useTranslation","ContractStatus","Draft","SowStatus","jsx","Tag","Issued","Signed","isDraft","statementOfWork","StatementOfWorkStatus","isIssued","isSigned","isAmended","Amended","isComplete","isCompleted","formatDocumentNumber","documentNumber","formatPdfFileName","numberSuffix","SOWNumber","title","StatementOfWorkUtils"],"mappings":"uGAYO,SAASA,EAAkB,CAChCC,OAAAA,EACA,GAAGC,CACmB,EAAG,CACnB,KAAA,CAAEC,EAAAA,GAAMC,EAAgB,EAC9B,OAAQH,EAAM,CACZ,KAAKI,EAAeC,MACpB,KAAKC,EAAUD,MACb,OACGE,EAAAC,EAAA,CAAI,SAAQ,GAAKP,GAAAA,EAAU,OAAM,GAAA,YAAA,MAC/BC,SAAEA,EAAA,gCAAgC,CACrC,CAAA,EAEJ,KAAKE,EAAeK,OACpB,KAAKH,EAAUG,OACb,OACGF,EAAAC,EAAA,CAAI,QAAO,GAAKP,GAAAA,EAAU,OAAM,GAAA,YAAA,MAC9BC,SAAEA,EAAA,+BAA+B,CACpC,CAAA,EAEJ,KAAKE,EAAeM,OACpB,KAAKJ,EAAUI,OACb,OACGH,EAAAC,EAAA,CAAI,QAAO,GAAKP,GAAAA,EAAU,OAAM,GAAA,YAAA,MAC9BC,SAAEA,EAAA,iCAAiC,CACtC,CAAA,EAEJ,QACS,OAAA,IACR,CAEL,CCtCA,SAASS,EAAQC,EAAuC,CACtD,MACE,CAACA,IAAmBA,GAAAA,YAAAA,EAAiBZ,UAAWa,EAAsBR,KAE1E,CAEA,SAASS,EAASF,EAAuC,CAChDA,OAAAA,GAAAA,YAAAA,EAAiBZ,UAAWa,EAAsBJ,MAC3D,CAEA,SAASM,EAASH,EAAuC,CAChDA,OAAAA,GAAAA,YAAAA,EAAiBZ,UAAWa,EAAsBH,MAC3D,CAEA,SAASM,EAAUJ,EAAuC,CACjDA,OAAAA,GAAAA,YAAAA,EAAiBZ,UAAWa,EAAsBI,OAC3D,CAEA,SAASC,EAAWN,EAAuC,CACzD,OAAOA,GAAAA,YAAAA,EAAiBO,WAC1B,CAEA,SAASC,EAAqBC,EAAwB,CACpD,MAAQ,KAAIA,GACd,CAEA,SAASC,EACPV,EAMA,CACA,GAAI,CAACA,EACI,MAAA,wBAGT,MAAMW,EAAeX,EAAgBY,UAChC,KAAIJ,EAAqBR,EAAgBY,SAAS,KACnD,GAEI,MAAA,GAAEZ,EAAgBa,QAAQF,OACpC,CAEO,MAAMG,EAAuB,CAClCf,QAAAA,EACAG,SAAAA,EACAC,SAAAA,EACAC,UAAAA,EACAE,WAAAA,EACAE,qBAAAA,EACAE,kBAAAA,CACF"}