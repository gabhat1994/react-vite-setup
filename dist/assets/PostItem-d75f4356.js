import{j as B,cI as om,e1 as cp,B as rr,I as st,at as gi,hO as ht,w as Qs,f as pr,i8 as fp,i9 as sm,aC as ea,aH as um,aj as Kl,ia as lm,ib as cm,b as er,aZ as fm,hQ as zl,o as eu,au as jr,aL as yt,s as bt,f7 as tu,dR as dm,x as dr,h as Ti,u as Fi,k as Oi,c as be,T as et,am as ki,y as ru,e as Bi,c_ as pm,fN as dp,fM as hm,ic as gm,id as vm,ie as mm,ig as ym,be as Em,dX as Cs,dY as ws,ih as wr,ii as pp,ij as _m,b7 as Ft,ik as bm,X as Sm,fR as Cm,O as hp,i as Ii,v as Tr,il as wm,hS as Fo,im as Am,io as Dm,ip as xm,ci as nu,M as Mi,t as Ri,a2 as Tm,iq as Fm,F as pa,n as au,c8 as Ot,ir as Tn,fu as ha,is as Om,a5 as gp,it as vp,iu as mp,iv as yp,S as oa,hR as km,iw as Bm,ix as Im,iy as Mm,iz as Rm,iA as Pm,iB as Lm,iC as Nm,iD as Oo,c9 as $m,b2 as Km,af as zm,iE as Um,iF as Hm,dQ as As,iG as jm,iH as Wm,iI as Ul,iJ as lr,iK as qm,iL as Vm,Y as Gm,iM as Xm,ef as Ym,ee as Zm,gu as Jm,R as zn}from"./index-cd84bcc9.js";import{al as Ep,r as T,l as Fn,B as te,C as X,cl as Qm,cm as ey,cn as _p,co as ty,cp as ry,cq as fa,cr,cs as ye,aS as q,ct as iu,cu as ou,cv as xe,ac as z,a_ as tr,bx as ny,cw as su,cx as Sn,cy as uu,cz as ay,a6 as Hl,ar as Fr,at as iy,au as oy,aU as ut,cA as Wr,av as sy,ax as uy,bf as ly,bN as Ra,ad as Cn,f as ko,a9 as bp,aB as Sp,cB as Bo,b8 as Un}from"./vendor-51460554.js";import{C as cy}from"./ChamberActionModal-ce3fca40.js";import{b as wn}from"./browser-f98ef106.js";import{R as fy}from"./Radiobox-c1e62033.js";const dy=e=>B(om,{clipboard:e.clipboard,acceptedFileTypes:e.acceptedFileTypes||cp,onContentChange:e.onContentChange,onUploadFile:e.onUploadFile,maxSize:e.maxSize,generateThumbnail:!0,"data-test":"MultiMediaPicker-Upload",children:({triggerElRef:t,...r})=>(e.onUploading(r.isUploadStarted&&!r.isUploadComplete),B("div",{ref:t,"data-testid":"multi_media_picker","data-test":"MultiMediaPicker",children:B(rr,{"data-testid":"multi_media_picker_btn",loading:r.isUploadStarted&&!r.isUploadComplete,disabled:e.disabled,tertiary:!0,onClick:r.onClickHandler,icon:r.isUploadStarted&&!r.isUploadComplete?void 0:B(st,{size:24,name:"picture_m",color:"--icon-button-neutral-default","data-test":"MultiMediaPicker-Icon"}),"data-test":"MultiMediaPicker-Button"})}))}),py={loading:!1,isDeleting:!1,isCollapse:!0,isCollapseDisabled:!1,posts:[],allPostsLoading:!0,setIsCollapse:()=>{},showCreate:!1,setShowCreate:()=>{},filter:{},setFilter:()=>{},setLoading:()=>{},deletePost:async()=>!1,showFilter:!1,setShowFilter:()=>{},authors:[],refetchPosts:()=>{},fetchMore:()=>{},setAllPostsLoading:()=>{},isSpaceOwner:!1,space:void 0,networkStatus:Ep.ready,totalCount:0,noumEditor2:!1,isCustomPreview:!1,isMasterNoum:!1,authorFilterKeyword:"",setAuthorFilterKeyword:()=>{},authorFilterOptions:[]},ln=10,jl={sort:{column:"createdAt",operator:gi.Desc}},hy={filter:{visibility:[ht.Connection,ht.Follower]}},gy={type:"value",value:"all",key:"all_authors",label:"All"},Cp=T.createContext(py),M3=({children:e,space:t,isCustomPreview:r})=>{var de,Me,Se,at,Ne;const{flags:{noumEditor2:a}}=Qs(),[n,i]=T.useState(!1),[s,u]=T.useState(!0),{user:l}=pr(),[f,p]=T.useState(!(a&&!r)),v=(l==null?void 0:l._id)===((de=t==null?void 0:t.uid)==null?void 0:de._id),[h,E]=T.useState(!0),[y,_]=T.useState(!1),[b,C]=T.useState([]),[A,w]=T.useState(0),[F,x]=T.useState(Ep.ready),[I,R]=T.useState({...jl,...hy}),[P,M]=T.useState(!1),O=(t==null?void 0:t._id)??"",N=((Me=t==null?void 0:t.uid)==null?void 0:Me._id)===(l==null?void 0:l._id),[U,{loading:H}]=fp(),{data:K,loading:V,refetch:G}=sm({variables:{chamberId:O},fetchPolicy:"cache-and-network",skip:!O}),W=T.useMemo(()=>{var We;return ea((We=K==null?void 0:K.getAllUidForChamberPosts)==null?void 0:We.data)},[(Se=K==null?void 0:K.getAllUidForChamberPosts)==null?void 0:Se.data]),{isConnected:J,isFollowing:Y,loadingSpace:ne}=um(),Q=T.useMemo(()=>{if((t==null?void 0:t.type)===Kl.Home)return t.uid},[t]),we=T.useMemo(()=>window.location.pathname.includes(`posts/${O}`)||!!O&&!ne&&(v||!v&&(J||Y)),[J,Y,v,ne,O]),Le=T.useMemo(()=>O===""||!!Q||!we,[we,Q,O]),{data:Ee,loading:ae,fetchMore:pe,refetch:Te,networkStatus:ze}=lm({variables:{chamberId:O,filter:I.filter,sort:I.sort||jl.sort,limit:ln},fetchPolicy:"cache-and-network",errorPolicy:"all",skip:Le}),{data:ce={},loading:ge,refetch:Pe,fetchMore:Ue,networkStatus:ke}=cm({variables:{uid:(Q==null?void 0:Q._id)||"",limit:ln},skip:!(Q!=null&&Q._id),fetchPolicy:"cache-and-network"}),{userPosts:ve}=ce,Ae=T.useCallback(async We=>{let Be;try{await U({variables:{_id:We}}),C(b.filter(it=>it._id!==We)),Be=!0}catch{Be=!1}return Be},[U,C,b]),qe=T.useMemo(()=>b.length||0,[b]),Fe=T.useCallback(()=>{Q?(Pe({uid:Q==null?void 0:Q._id}),x(ke)):(Te({chamberId:O,filter:I.filter,limit:qe>ln?qe:ln,offset:0,sort:I.sort||{column:"createdAt",operator:gi.Desc}}),x(ze),G())},[Q,Pe,ke,Te,O,I.filter,I.sort,qe,ze,G]),ie=er(async()=>{var We,Be,it,gt;if(Q){const Nt=await Ue({variables:{limit:ln,offset:qe}}),Ve=ea([...b||[],...((Be=(We=Nt==null?void 0:Nt.data)==null?void 0:We.userPosts)==null?void 0:Be.data)||[]])||[];C(Ve),w(((gt=(it=Nt==null?void 0:Nt.data)==null?void 0:it.userPosts)==null?void 0:gt.count)||0),x(ke)}else pe({variables:{limit:ln,offset:qe,filter:I.filter,sort:I.sort}}),x(ze)});T.useEffect(()=>{var We,Be,it,gt;(We=Ee==null?void 0:Ee.getPostsByChamberId)!=null&&We.data&&!Fn.isEqual((Be=Ee==null?void 0:Ee.getPostsByChamberId)==null?void 0:Be.data,b)&&(C(ea(((it=Ee==null?void 0:Ee.getPostsByChamberId)==null?void 0:it.data)||[])),w(((gt=Ee==null?void 0:Ee.getPostsByChamberId)==null?void 0:gt.count)||0))},[(at=Ee==null?void 0:Ee.getPostsByChamberId)==null?void 0:at.count,(Ne=Ee==null?void 0:Ee.getPostsByChamberId)==null?void 0:Ne.data,b]),T.useEffect(()=>{var We;Q&&((We=ve==null?void 0:ve.data)!=null&&We.length)&&(C(ea(ve==null?void 0:ve.data)||[]),w((ve==null?void 0:ve.count)||0))},[Q,N,ve==null?void 0:ve.count,ve==null?void 0:ve.data]),T.useEffect(()=>{E(b.length<1)},[b]),T.useEffect(()=>{Pe(),Le||Te()},[Te,Pe,Le]);const[me,De]=T.useState(""),le=fm(me,500),je=T.useMemo(()=>W.filter(Be=>zl(`${Be.firstName||""}${Be.middleName||""}${Be.lastName||""}`).includes(zl(le))).slice(0,20),[W,le]),se=T.useMemo(()=>{const We=je.map(Be=>{var it;return{type:"value",value:Be,key:Be._id,label:eu(Be.firstName,Be.middleName,Be.lastName),icon:B(jr,{url:((it=Be.profile)==null?void 0:it.profilePictureThumbnail)||"",size:"M","data-test":"PostElementProvider-authorFilterOptions-options-Avatar"})}});return a?We:[gy,...We]},[a,je]),fe=T.useMemo(()=>({loading:n||ae||V||ge,isDeleting:H,setLoading:i,isCollapse:f,isCollapseDisabled:h,setIsCollapse:p,noumEditor2:a,posts:b,fetchMore:ie,showCreate:y,setShowCreate:_,filter:I,setFilter:R,showFilter:P,setShowFilter:M,deletePost:Ae,authors:W,refetchPosts:Fe,setAllPostsLoading:u,isSpaceOwner:N,space:t,isMasterNoum:(t==null?void 0:t.type)===Kl.Home,networkStatus:F,totalCount:A,isCustomPreview:r,allPostsLoading:s||ae||V||ge,authorfilterKeyword:me,setAuthorFilterKeyword:De,authorFilterOptions:se}),[n,ae,V,ge,H,f,h,a,b,ie,y,I,P,Ae,W,Fe,N,t,F,A,r,s,me,De,se]);return B(Cp.Provider,{value:fe,children:e})},lu=()=>T.useContext(Cp),vy={POST:{READ:{OWNER:!0,FAVOURITE:!0,GUEST:!0,FOLLOWER:!0,UNREGISTERED:!0,UNREGISTEREDOWNER:!0},CREATE:{OWNER:!0,FAVOURITE:!0,GUEST:!0,FOLLOWER:!1,UNREGISTERED:!0,UNREGISTEREDOWNER:!0},EDIT:{OWNER:!0,FAVOURITE:!1,GUEST:!1,FOLLOWER:!1,ADMINOWNER:!0,UNREGISTERED:!1,UNREGISTEREDOWNER:!1},ADMIN_EDIT:{ADMIN:!0,OWNER:!0,FAVOURITE:!1,GUEST:!1,FOLLOWER:!1,ADMINOWNER:!0,UNREGISTERED:!1,UNREGISTEREDOWNER:!1},DELETE:{ADMIN:!0,OWNER:!0,FAVOURITE:!1,GUEST:!1,FOLLOWER:!1,ADMINOWNER:!0,UNREGISTERED:!1,UNREGISTEREDOWNER:!0},REPORT:{[yt.Pending]:!0,OWNER:!1,FAVOURITE:!0,GUEST:!0,FOLLOWER:!0,ADMIN:!0,UNREGISTERED:!1,UNREGISTEREDOWNER:!1},LIKE:{[yt.Pending]:!0,ADMIN:!0,ADMINOWNER:!0,OWNER:!0,FAVOURITE:!0,GUEST:!0,FOLLOWER:!0,UNREGISTERED:!0,UNREGISTEREDOWNER:!0},COMMENT:{[yt.Pending]:!0,ADMIN:!0,ADMINOWNER:!0,OWNER:!0,FAVOURITE:!0,GUEST:!0,FOLLOWER:!0,UNREGISTERED:!0,UNREGISTEREDOWNER:!0},PIN:{[yt.Pending]:!1,ADMIN:!0,OWNER:!1,FAVOURITE:!1,GUEST:!1,FOLLOWER:!1,ADMINOWNER:!0,UNREGISTERED:!1,UNREGISTEREDOWNER:!1},UNPIN:{[yt.Pending]:!1,ADMIN:!0,OWNER:!1,FAVOURITE:!1,GUEST:!1,FOLLOWER:!1,ADMINOWNER:!0,UNREGISTERED:!1,UNREGISTEREDOWNER:!1}},COMMENT:{DELETE:{[yt.Pending]:!1,ADMIN:!0,OWNER:!0,FAVOURITE:!1,GUEST:!1,FOLLOWER:!1,ADMINOWNER:!0,UNREGISTERED:!1,UNREGISTEREDOWNER:!0}}},my=()=>e=>{let t;switch(e.feature){case"POST":e.isUnregistered?t="UNREGISTERED":e.isConnected?t="FAVOURITE":e.isFollowing?t="FOLLOWER":e.visibility===ht.All&&(t="GUEST");break}return t},cu=()=>(e,t,r)=>Fn.get(vy,`${e}.${t}.${r}`)??!1,Ds={[ht.Connection]:{key:"connections",value:ht.Connection,type:"value",label:te("noumena.chambers.element.posts.visibility_connections")},[ht.Follower]:{key:"followers",value:ht.Follower,type:"value",label:te("noumena.chambers.element.posts.visibility_followers")},[ht.All]:{key:"all",value:ht.All,type:"value",label:te("noumena.chambers.element.posts.visibility_all")}},yy=e=>(e==null?void 0:e.map(t=>{var r;return{uid:((r=t==null?void 0:t.uid)==null?void 0:r._id)||""}}).filter(t=>t))||[],Ey="example-post-id",wp=e=>!!e&&!(e===""||e.includes(Ey)),_y=e=>{const t=document.createElement("div");return t.innerHTML=e,t.textContent||t.innerText||""};X(dr)`
  width: 620px;
  @media (max-width: ${bt.MOBILE_MAX}) {
    width: 100%;
  }
  gap: 16px;
`;X.div`
  display: grid;
  width: calc(100% - 48px);
  align-items: center;
  grid-template-columns: 1fr 48px;
  padding-left: 48px;
  @media (max-width: ${bt.MOBILE_MAX}) {
    grid-template-columns: 1fr;
    padding: 0;
    width: 100%;
  }
`;const Ap=X(rr)`
  width: 146px;
  @media (max-width: ${bt.MOBILE_MAX}) {
    min-height: 40px;
    width: 90px;
  }
`,by=X(dr)`
  min-height: 168px;
  max-height: ${({isRTE:e})=>e?"100vh":"500px"};
  ${tu};
  @media (max-width: ${bt.MOBILE_MAX}) {
    height: 100%;
    max-height: unset;
  }
`,Sy=X.div`
  display: flex;
  gap: 16px;
`,Dp=X.div`
  display: flex;
  align-items: center;
  gap: 10px;
  & > div {
    width: 211px !important;
    min-height: unset;
    input {
      height: 40px;
      @media (max-width: ${bt.MOBILE_MAX}) {
        height: 56px;
      }
      ${dm}
    }
  }
`,Cy=X(dr)`
  gap: 12px;
  width: 100%;
  min-height: 130px;
  overflow-x: auto;
  ${tu};

  @media (max-width: ${bt.MOBILE_MAX}) {
    &::-webkit-scrollbar {
      height: 0;
    }
  }
`,wy=X.div`
  width: 100%;
  height: 100%;
  margin-bottom: 2px;
`;X.div`
  display: flex;
`;const Ay=e=>{const{loading:t,isValid:r,imageUploading:a,handlePosting:n,isEdit:i}=e;return B(Ti,{rightMobileContainer:B(Ap,{testId:"post_create_btn",loading:t,secondary:!i,primary:i,disabled:!r||t||a,leftIcon:t||i?void 0:B(st,{name:"send_m",size:19,color:r?void 0:"--icon-button-neutral-disabled","data-test":"PostModalHeader-Icon"}),onClick:n,"data-test":"PostModalHeader-PostButton",children:i?te("noumena.button.save"):te("noumena.chambers.element.posts.post")}),"data-test":"PostModalHeader-ModalHeader",children:i?te("noumena.chambers.element.posts.edit_post"):te("noumena.chambers.element.posts.create_post")})},Dy=e=>{const{handleSelectedImage:t,setImageUploading:r,onUploadFile:a,images:n,showVisibility:i,options:s,postVisibility:u,setPostVisibility:l,loading:f,isEdit:p,isValid:v,multiFilesAllowed:h,imageUploading:E,handlePosting:y,clipboard:_}=e,{width:b}=Fi(),C=b<Bi.TABLET;return B(Oi,{marginTop:0,"data-test":"PostModalFooter-ModalFooter",children:be(dr,{"data-testid":"create_post_action_buttons",justify:"space-between",fullWidth:!0,"data-test":"PostModalFooter-Stack",children:[B(dy,{clipboard:_,acceptedFileTypes:cp,onContentChange:t,onUploading:r,onUploadFile:a,maxSize:500,disabled:h?!1:!!(n!=null&&n.length),"data-test":"PostModalFooter-MultiMediaPicker"}),C&&i&&be(Dp,{"data-testid":"post_visibility_selector","data-test":"PostModalFooter-VisibilitySelect",children:[B(et,{font:"footnote",colorToken:"--text-input-neutral-default","data-test":"PostModalFooter-TSpan",children:te("noumena.chambers.element.posts.visible_for")}),B(ki,{hideIcons:!0,usePopStyle:!0,options:s,inputValue:(u==null?void 0:u.value)||void 0,onSelectOption:A=>l(A),containerWidth:"211px",containerHeight:"100px",minHeight:"100px",calRefTop:!1,"data-test":"PostModalFooter-Dropdown",children:({inputProps:A,inputRef:w,toggle:F})=>B(ru,{readOnly:!0,...A,ref:w,value:String(u.label),spellCheck:"false",rightIcon:B(st,{name:"chevron_down_m",color:"--icon-input-neutral-default",size:16,onClick:F,"data-test":"PostModalFooter-Icon"}),"data-test":"PostModalFooter-TextField"})})]}),!C&&B(Ap,{testId:"post_create_btn",loading:f,primary:!0,leftIcon:f||p?void 0:B(st,{name:"send_m",size:19,color:v?void 0:"--icon-button-neutral-disabled","data-test":"PostModalFooter-Icon"}),disabled:!v||f||E,onClick:y,"data-test":"PostModalFooter-PostButton",children:p?te("noumena.button.save"):te("noumena.chambers.element.posts.post")})]})})};function xy(e){if(Array.isArray(e))return Qm(e)}function Ty(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vi(e){return xy(e)||ey(e)||_p(e)||Ty()}function Fy(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a=[],n=!0,i=!1,s,u;try{for(r=r.call(e);!(n=(s=r.next()).done)&&(a.push(s.value),!(t&&a.length===t));n=!0);}catch(l){i=!0,u=l}finally{try{!n&&r.return!=null&&r.return()}finally{if(i)throw u}}return a}}function Oy(e,t){return ty(e)||Fy(e,t)||_p(e,t)||ry()}var On=function(t){return t===Object(t)?Object.keys(t):[]},xp=function(t){return t===Object(t)?Object.values(t):[]};function Tp(e,t){var r=Object.assign({},e);return li(e)&&li(t)&&On(t).forEach(function(a){li(t[a])?a in e?r[a]=Tp(e[a],t[a]):Object.assign(r,fa({},a,t[a])):Object.assign(r,fa({},a,t[a]))}),r}var xs=function(t){for(var r=arguments.length,a=new Array(r>1?r-1:0),n=1;n<r;n++)a[n-1]=arguments[n];return a.reduce(function(i,s){return Tp(i,s)},t)},ky=function(t,r){var a=Object.assign({},t);if(r)for(var n=0;n<r.length;n++)delete a[r[n]];return a},li=function(t){return t===Object(t)&&!(t instanceof Date)&&!Array.isArray(t)},By=function(t){return(t||[]).filter(Boolean)},fu=function(t){return t[0]==="&"},Iy=function(t){return!fu(t)},Wl=function(t){return t.replace(/-(\w)/g,function(r,a){return a.toUpperCase()})},My=function(t){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=On(t),n={},i=0,s=a.length;i<s;i+=1){var u=a[i],l=Object.prototype.toString.call(t[u])!=="[object Object]"||u[0]===":"||u[0]==="@"||r.indexOf(u)>=0;l&&(n[u]=t[u])}return n},Fp=function(t,r){for(var a=r.map(Wl),n=On(t),i={},s=0,u=n.length;s<u;s+=1){var l=n[s];(r.indexOf(l)>=0||a.indexOf(Wl(l))>=0)&&(i[l]=t[l])}return i},Ry=function e(t,r){for(var a=xs.apply(void 0,[{},ky(t,r)].concat(cr(xp(Fp(t,r))))),n=On(a).filter(fu),i=0,s=n.length;i<s;i+=1){var u=n[i],l=e(a[u],r);r.indexOf(u)>=0?(delete a[u],a=xs({},a,l)):a[u]=l}return a};function ql(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Vl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ql(Object(r),!0).forEach(function(a){fa(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ql(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}var Py=["animationName"],Ly=function(t){var r=t.style,a=t.className;return Vl(Vl({},r?{style:My(r,Py)}:{}),a?{className:a}:{})};const Op=Ly;var kp=T.createContext(Op);kp.Provider;var Ny=function(t){if(t){if(typeof t=="string")return[t];if(!Array.isArray(t)){var r=t;return On(t).reduce(function(a,n){return a.concat(r[n]?[n]:[])},[])}}else return[];return t};const Bp=Ny;var $y={},Ky=function(t){return function(r,a){var n=a||$y;t.memoize=t.memoize||new WeakMap;var i;t.memoize.has(n)?i=t.memoize.get(n):(i={},t.memoize.set(n,i));var s=Bp(r).join(" ");return s in i?i[s]:i[s]=t(r||[],a)}};const zy=Ky;function Gl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function cn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gl(Object(r),!0).forEach(function(a){fa(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gl(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}var Uy=function(t){var r=t&&On(t)[0];return r&&r.split("__")[0].split("--")[0]},Hy=function(t,r,a){if(t){var n=t.split(" ")[0],i=[].concat(cr(r.length===0?a.map(function(s){return"".concat(n,"--").concat(s.substring(1))}):[]),cr(r.map(function(s){return"".concat(n,"__").concat(s)})));return r.length===0?[t].concat(cr(i)):i}};function Ip(e){var t=e.style,r=e.className,a=e.classNames,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Op,i=r||Uy(a)||(t==null?void 0:t.className),s=typeof t=="function"?t:zy(function(v,h){var E=Bp(v);wn(Array.isArray(E),"First parameter must be a string, an array of strings, a plain object with boolean values, or a falsy value."),wn(!h||li(h),"Optional second parameter must be a plain object.");var y=E.filter(fu),_=E.filter(Iy),b=_.length>0?function(w){return xp(Fp(w,_))}:function(w){return[w]},C=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return b(Ry(F,y))},A=Hy(i,_,y);return Ip(cn(cn(cn({},(t||h)&&{style:xs.apply(void 0,[{}].concat(cr(C(h)),cr(C(t))))}),A&&{className:A.join(" ")}),a&&{classNames:a}),n)}),u=cn({},typeof t=="function"?t:{style:t}),l=cr(new Set([].concat(cr(u.className?u.className.split(" "):[]),cr(i?i.split(" "):[])))),f=a?By(l.map(function(v){return a[v]})):l,p=n(cn(cn({},u),f.length>0?{className:f.join(" ")}:{}));return Object.assign(s,p),s}function Xl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Hn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xl(Object(r),!0).forEach(function(a){fa(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xl(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}var jy=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return r.reduce(function(n,i){return Hn(Hn(Hn({},n),typeof i=="function"?i:{}),{},{style:Hn(Hn({},n.style),typeof i=="function"?i.style:i)})},{})};const Wy=jy;var qy=function(t,r,a){var n=r.style,i=r.className,s=r.classNames,u=T.useContext(kp),l=T.useMemo(function(){return Ip({style:n,className:i,classNames:s},u)},[n,i,s,u]);return l(a,t)};const du=qy;var ci=function(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},Zt={id:"__id__",display:"__display__"},Yl=function(t,r){wn(r==="id"||r==="display",'Second arg must be either "id" or "display", got: "'.concat(r,'"'));var a=t.indexOf(Zt.display),n=t.indexOf(Zt.id);return a<0&&(a=null),n<0&&(n=null),wn(a!==null||n!==null,"The markup '".concat(t,"' does not contain either of the placeholders '__id__' or '__display__'")),a!==null&&n!==null?r==="id"&&n<=a||r==="display"&&a<=n?0:1:0},Vy=function(t){var r=/^\/(.+)\/(\w+)?$/;return new RegExp(t.map(function(a){var n=r.exec(a.toString()),i=Oy(n,3),s=i[1],u=i[2];return wn(!u,"RegExp flags are not supported. Change /".concat(s,"/").concat(u," into /").concat(s,"/")),"(".concat(s,")")}).join("|"),"g")},Mp=function(t){var r=0;return t.indexOf("__id__")>=0&&r++,t.indexOf("__display__")>=0&&r++,r},Gy=function(){},ga=function(t,r,a){for(var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Gy,i=Vy(r.map(function(x){return x.regex})),s=2,u=r.map(function(x){var I=x.markup,R=s;return s+=Mp(I)+1,R}),l,f=0,p=0;(l=i.exec(t))!==null;){var v=u.find(function(x){return!!l[x]}),h=u.indexOf(v),E=r[h],y=E.markup,_=E.displayTransform,b=v+Yl(y,"id"),C=v+Yl(y,"display"),A=l[b],w=_(A,l[C]),F=t.substring(f,l.index);n(F,f,p),p+=F.length,a(l[0],l.index,p,A,w,h,f),p+=w.length,f=i.lastIndex}f<t.length&&n(t.substring(f),f,p)},$r=function(t,r){var a="";return ga(t,r,function(n,i,s,u,l){a+=l},function(n){a+=n}),a},mt=function(t,r,a){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"START";if(typeof a!="number")return a;var i,s=function(f,p,v){i===void 0&&v+f.length>=a&&(i=p+a-v)},u=function(f,p,v,h,E,y,_){i===void 0&&v+E.length>a&&(n==="NULL"?i=null:i=p+(n==="END"?f.length:0))};return ga(t,r,u,s),i===void 0?t.length:i},sa=function(t,r,a,n){return t.substring(0,r)+n+t.substring(a)},Xy=function(t,r,a,n){var i=a.selectionStartBefore,s=a.selectionEndBefore,u=a.selectionEndAfter,l=$r(t,n),f=l.length-r.length;i==="undefined"&&(i=u+f),s==="undefined"&&(s=i),i===s&&s===u&&l.length===r.length&&(i=i-1);var p=r.slice(i,u),v=Math.min(i,u),h=s;i===u&&(h=Math.max(s,i+f));var E=mt(t,n,v,"START"),y=mt(t,n,h,"END"),_=mt(t,n,v,"NULL"),b=mt(t,n,h,"NULL"),C=_===null||b===null,A=sa(t,E,y,p);if(!C){var w=$r(A,n);if(w!==r){for(v=0;r[v]===w[v];)v++;p=r.slice(v,u),h=l.lastIndexOf(r.substring(u)),E=mt(t,n,v,"START"),y=mt(t,n,h,"END"),A=sa(t,E,y,p)}}return A},Zl=function(t,r,a){var n=a,i=!1,s=function(l,f,p,v,h,E,y){p<=a&&p+h.length>a&&(n=p,i=!0)};if(ga(t,r,s),i)return n},ta=function(t,r){var a=[];return ga(t,r,function(n,i,s,u,l,f,p){a.push({id:u,display:l,childIndex:f,index:i,plainTextIndex:s})}),a},Rp=function(t,r){return"".concat(t,"-").concat(r)},Pa=function(t){return Object.values(t).reduce(function(r,a){var n=a.results;return r+n.length},0)},Yy=function(t,r){var a=ta(t,r),n=a[a.length-1];return n?n.plainTextIndex+n.display.length:0},Zy=function(t){var r=ci(t),a=t[t.indexOf(Zt.display)+Zt.display.length],n=t[t.indexOf(Zt.id)+Zt.id.length];return new RegExp(r.replace(Zt.display,"([^".concat(ci(a||""),"]+?)")).replace(Zt.id,"([^".concat(ci(n||""),"]+?)")))},Er=function(t){return T.Children.toArray(t).map(function(r){var a=r.props,n=a.markup,i=a.regex,s=a.displayTransform;return{markup:n,regex:i?Jy(i,n):Zy(n),displayTransform:s||function(u,l){return l||u}}})},Jy=function(t,r){var a=new RegExp(t.toString()+"|").exec("").length-1,n=Mp(r);return wn(a===n,"Number of capturing groups in RegExp ".concat(t.toString()," (").concat(a,") does not match the number of placeholders in the markup '").concat(r,"' (").concat(n,")")),t},Qy=function(t,r,a){return t.replace(Zt.id,r).replace(Zt.display,a)},e0=[{base:"A",letters:/(&#65;|&#9398;|&#65313;|&#192;|&#193;|&#194;|&#7846;|&#7844;|&#7850;|&#7848;|&#195;|&#256;|&#258;|&#7856;|&#7854;|&#7860;|&#7858;|&#550;|&#480;|&#196;|&#478;|&#7842;|&#197;|&#506;|&#461;|&#512;|&#514;|&#7840;|&#7852;|&#7862;|&#7680;|&#260;|&#570;|&#11375;|[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F])/g},{base:"AA",letters:/(&#42802;|[\uA732])/g},{base:"AE",letters:/(&#198;|&#508;|&#482;|[\u00C6\u01FC\u01E2])/g},{base:"AO",letters:/(&#42804;|[\uA734])/g},{base:"AU",letters:/(&#42806;|[\uA736])/g},{base:"AV",letters:/(&#42808;|&#42810;|[\uA738\uA73A])/g},{base:"AY",letters:/(&#42812;|[\uA73C])/g},{base:"B",letters:/(&#66;|&#9399;|&#65314;|&#7682;|&#7684;|&#7686;|&#579;|&#386;|&#385;|[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181])/g},{base:"C",letters:/(&#67;|&#9400;|&#65315;|&#262;|&#264;|&#266;|&#268;|&#199;|&#7688;|&#391;|&#571;|&#42814;|[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E])/g},{base:"D",letters:/(&#68;|&#9401;|&#65316;|&#7690;|&#270;|&#7692;|&#7696;|&#7698;|&#7694;|&#272;|&#395;|&#394;|&#393;|&#42873;|&#208;|[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779\u00D0])/g},{base:"DZ",letters:/(&#497;|&#452;|[\u01F1\u01C4])/g},{base:"Dz",letters:/(&#498;|&#453;|[\u01F2\u01C5])/g},{base:"E",letters:/(&#69;|&#9402;|&#65317;|&#200;|&#201;|&#202;|&#7872;|&#7870;|&#7876;|&#7874;|&#7868;|&#274;|&#7700;|&#7702;|&#276;|&#278;|&#203;|&#7866;|&#282;|&#516;|&#518;|&#7864;|&#7878;|&#552;|&#7708;|&#280;|&#7704;|&#7706;|&#400;|&#398;|[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E])/g},{base:"F",letters:/(&#70;|&#9403;|&#65318;|&#7710;|&#401;|&#42875;|[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B])/g},{base:"G",letters:/(&#71;|&#9404;|&#65319;|&#500;|&#284;|&#7712;|&#286;|&#288;|&#486;|&#290;|&#484;|&#403;|&#42912;|&#42877;|&#42878;|[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E])/g},{base:"H",letters:/(&#72;|&#9405;|&#65320;|&#292;|&#7714;|&#7718;|&#542;|&#7716;|&#7720;|&#7722;|&#294;|&#11367;|&#11381;|&#42893;|[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D])/g},{base:"I",letters:/(&#73;|&#9406;|&#65321;|&#204;|&#205;|&#206;|&#296;|&#298;|&#300;|&#304;|&#207;|&#7726;|&#7880;|&#463;|&#520;|&#522;|&#7882;|&#302;|&#7724;|&#407;|[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197])/g},{base:"J",letters:/(&#74;|&#9407;|&#65322;|&#308;|&#584;|[\u004A\u24BF\uFF2A\u0134\u0248])/g},{base:"K",letters:/(&#75;|&#9408;|&#65323;|&#7728;|&#488;|&#7730;|&#310;|&#7732;|&#408;|&#11369;|&#42816;|&#42818;|&#42820;|&#42914;|[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2])/g},{base:"L",letters:/(&#76;|&#9409;|&#65324;|&#319;|&#313;|&#317;|&#7734;|&#7736;|&#315;|&#7740;|&#7738;|&#321;|&#573;|&#11362;|&#11360;|&#42824;|&#42822;|&#42880;|[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780])/g},{base:"LJ",letters:/(&#455;|[\u01C7])/g},{base:"Lj",letters:/(&#456;|[\u01C8])/g},{base:"M",letters:/(&#77;|&#9410;|&#65325;|&#7742;|&#7744;|&#7746;|&#11374;|&#412;|[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C])/g},{base:"N",letters:/(&#78;|&#9411;|&#65326;|&#504;|&#323;|&#209;|&#7748;|&#327;|&#7750;|&#325;|&#7754;|&#7752;|&#544;|&#413;|&#42896;|&#42916;|&#330;|[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4\u014A])/g},{base:"NJ",letters:/(&#458;|[\u01CA])/g},{base:"Nj",letters:/(&#459;|[\u01CB])/g},{base:"O",letters:/(&#79;|&#9412;|&#65327;|&#210;|&#211;|&#212;|&#7890;|&#7888;|&#7894;|&#7892;|&#213;|&#7756;|&#556;|&#7758;|&#332;|&#7760;|&#7762;|&#334;|&#558;|&#560;|&#214;|&#554;|&#7886;|&#336;|&#465;|&#524;|&#526;|&#416;|&#7900;|&#7898;|&#7904;|&#7902;|&#7906;|&#7884;|&#7896;|&#490;|&#492;|&#216;|&#510;|&#390;|&#415;|&#42826;|&#42828;|[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C])/g},{base:"OE",letters:/(&#338;|[\u0152])/g},{base:"OI",letters:/(&#418;|[\u01A2])/g},{base:"OO",letters:/(&#42830;|[\uA74E])/g},{base:"OU",letters:/(&#546;|[\u0222])/g},{base:"P",letters:/(&#80;|&#9413;|&#65328;|&#7764;|&#7766;|&#420;|&#11363;|&#42832;|&#42834;|&#42836;|[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754])/g},{base:"Q",letters:/(&#81;|&#9414;|&#65329;|&#42838;|&#42840;|&#586;|[\u0051\u24C6\uFF31\uA756\uA758\u024A])/g},{base:"R",letters:/(&#82;|&#9415;|&#65330;|&#340;|&#7768;|&#344;|&#528;|&#530;|&#7770;|&#7772;|&#342;|&#7774;|&#588;|&#11364;|&#42842;|&#42918;|&#42882;|[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782])/g},{base:"S",letters:/(&#83;|&#9416;|&#65331;|&#7838;|&#346;|&#7780;|&#348;|&#7776;|&#352;|&#7782;|&#7778;|&#7784;|&#536;|&#350;|&#11390;|&#42920;|&#42884;|[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784])/g},{base:"T",letters:/(&#84;|&#9417;|&#65332;|&#7786;|&#356;|&#7788;|&#538;|&#354;|&#7792;|&#7790;|&#358;|&#428;|&#430;|&#574;|&#42886;|[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786])/g},{base:"TH",letters:/(&#222;|[\u00DE])/g},{base:"TZ",letters:/(&#42792;|[\uA728])/g},{base:"U",letters:/(&#85;|&#9418;|&#65333;|&#217;|&#218;|&#219;|&#360;|&#7800;|&#362;|&#7802;|&#364;|&#220;|&#475;|&#471;|&#469;|&#473;|&#7910;|&#366;|&#368;|&#467;|&#532;|&#534;|&#431;|&#7914;|&#7912;|&#7918;|&#7916;|&#7920;|&#7908;|&#7794;|&#370;|&#7798;|&#7796;|&#580;|[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244])/g},{base:"V",letters:/(&#86;|&#9419;|&#65334;|&#7804;|&#7806;|&#434;|&#42846;|&#581;|[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245])/g},{base:"VY",letters:/(&#42848;|[\uA760])/g},{base:"W",letters:/(&#87;|&#9420;|&#65335;|&#7808;|&#7810;|&#372;|&#7814;|&#7812;|&#7816;|&#11378;|[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72])/g},{base:"X",letters:/(&#88;|&#9421;|&#65336;|&#7818;|&#7820;|[\u0058\u24CD\uFF38\u1E8A\u1E8C])/g},{base:"Y",letters:/(&#89;|&#9422;|&#65337;|&#7922;|&#221;|&#374;|&#7928;|&#562;|&#7822;|&#376;|&#7926;|&#7924;|&#435;|&#590;|&#7934;|[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE])/g},{base:"Z",letters:/(&#90;|&#9423;|&#65338;|&#377;|&#7824;|&#379;|&#381;|&#7826;|&#7828;|&#437;|&#548;|&#11391;|&#11371;|&#42850;|[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762])/g},{base:"a",letters:/(&#97;|&#9424;|&#65345;|&#7834;|&#224;|&#225;|&#226;|&#7847;|&#7845;|&#7851;|&#7849;|&#227;|&#257;|&#259;|&#7857;|&#7855;|&#7861;|&#7859;|&#551;|&#481;|&#228;|&#479;|&#7843;|&#229;|&#507;|&#462;|&#513;|&#515;|&#7841;|&#7853;|&#7863;|&#7681;|&#261;|&#11365;|&#592;|[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250])/g},{base:"aa",letters:/(&#42803;|[\uA733])/g},{base:"ae",letters:/(&#230;|&#509;|&#483;|[\u00E6\u01FD\u01E3])/g},{base:"ao",letters:/(&#42805;|[\uA735])/g},{base:"au",letters:/(&#42807;|[\uA737])/g},{base:"av",letters:/(&#42809;|&#42811;|[\uA739\uA73B])/g},{base:"ay",letters:/(&#42813;|[\uA73D])/g},{base:"b",letters:/(&#98;|&#9425;|&#65346;|&#7683;|&#7685;|&#7687;|&#384;|&#387;|&#595;|[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253])/g},{base:"c",letters:/(&#99;|&#9426;|&#65347;|&#263;|&#265;|&#267;|&#269;|&#231;|&#7689;|&#392;|&#572;|&#42815;|&#8580;|[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184])/g},{base:"d",letters:/(&#100;|&#9427;|&#65348;|&#7691;|&#271;|&#7693;|&#7697;|&#7699;|&#7695;|&#273;|&#396;|&#598;|&#599;|&#42874;|&#240;|[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A\u00F0])/g},{base:"dz",letters:/(&#499;|&#454;|[\u01F3\u01C6])/g},{base:"e",letters:/(&#101;|&#9428;|&#65349;|&#232;|&#233;|&#234;|&#7873;|&#7871;|&#7877;|&#7875;|&#7869;|&#275;|&#7701;|&#7703;|&#277;|&#279;|&#235;|&#7867;|&#283;|&#517;|&#519;|&#7865;|&#7879;|&#553;|&#7709;|&#281;|&#7705;|&#7707;|&#583;|&#603;|&#477;|[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD])/g},{base:"f",letters:/(&#102;|&#9429;|&#65350;|&#7711;|&#402;|&#42876;|[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C])/g},{base:"g",letters:/(&#103;|&#9430;|&#65351;|&#501;|&#285;|&#7713;|&#287;|&#289;|&#487;|&#291;|&#485;|&#608;|&#42913;|&#7545;|&#42879;|[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F])/g},{base:"h",letters:/(&#104;|&#9431;|&#65352;|&#293;|&#7715;|&#7719;|&#543;|&#7717;|&#7721;|&#7723;|&#7830;|&#295;|&#11368;|&#11382;|&#613;|[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265])/g},{base:"hv",letters:/(&#405;|[\u0195])/g},{base:"i",letters:/(&#105;|&#9432;|&#65353;|&#236;|&#237;|&#238;|&#297;|&#299;|&#301;|&#239;|&#7727;|&#7881;|&#464;|&#521;|&#523;|&#7883;|&#303;|&#7725;|&#616;|&#305;|[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131])/g},{base:"ij",letters:/(&#307;|[\u0133])/g},{base:"j",letters:/(&#106;|&#9433;|&#65354;|&#309;|&#496;|&#585;|[\u006A\u24D9\uFF4A\u0135\u01F0\u0249])/g},{base:"k",letters:/(&#107;|&#9434;|&#65355;|&#7729;|&#489;|&#7731;|&#311;|&#7733;|&#409;|&#11370;|&#42817;|&#42819;|&#42821;|&#42915;|[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3])/g},{base:"l",letters:/(&#108;|&#9435;|&#65356;|&#320;|&#314;|&#318;|&#7735;|&#7737;|&#316;|&#7741;|&#7739;|&#322;|&#410;|&#619;|&#11361;|&#42825;|&#42881;|&#42823;|[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u0142\u019A\u026B\u2C61\uA749\uA781\uA747])/g},{base:"lj",letters:/(&#457;|[\u01C9])/g},{base:"m",letters:/(&#109;|&#9436;|&#65357;|&#7743;|&#7745;|&#7747;|&#625;|&#623;|[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F])/g},{base:"n",letters:/(&#110;|&#9437;|&#65358;|&#505;|&#324;|&#241;|&#7749;|&#328;|&#7751;|&#326;|&#7755;|&#7753;|&#414;|&#626;|&#329;|&#42897;|&#42917;|&#331;|[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5\u014B])/g},{base:"nj",letters:/(&#460;|[\u01CC])/g},{base:"o",letters:/(&#111;|&#9438;|&#65359;|&#242;|&#243;|&#244;|&#7891;|&#7889;|&#7895;|&#7893;|&#245;|&#7757;|&#557;|&#7759;|&#333;|&#7761;|&#7763;|&#335;|&#559;|&#561;|&#246;|&#555;|&#7887;|&#337;|&#466;|&#525;|&#527;|&#417;|&#7901;|&#7899;|&#7905;|&#7903;|&#7907;|&#7885;|&#7897;|&#491;|&#493;|&#248;|&#511;|&#596;|&#42827;|&#42829;|&#629;|[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275])/g},{base:"oe",letters:/(&#339;|[\u0153])/g},{base:"oi",letters:/(&#419;|[\u01A3])/g},{base:"ou",letters:/(&#547;|[\u0223])/g},{base:"oo",letters:/(&#42831;|[\uA74F])/g},{base:"p",letters:/(&#112;|&#9439;|&#65360;|&#7765;|&#7767;|&#421;|&#7549;|&#42833;|&#42835;|&#42837;|[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755])/g},{base:"q",letters:/(&#113;|&#9440;|&#65361;|&#587;|&#42839;|&#42841;|[\u0071\u24E0\uFF51\u024B\uA757\uA759])/g},{base:"r",letters:/(&#114;|&#9441;|&#65362;|&#341;|&#7769;|&#345;|&#529;|&#531;|&#7771;|&#7773;|&#343;|&#7775;|&#589;|&#637;|&#42843;|&#42919;|&#42883;|[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783])/g},{base:"s",letters:/(&#115;|&#9442;|&#65363;|&#347;|&#7781;|&#349;|&#7777;|&#353;|&#7783;|&#7779;|&#7785;|&#537;|&#351;|&#575;|&#42921;|&#42885;|&#7835;|&#383;|[\u0073\u24E2\uFF53\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B\u017F])/g},{base:"ss",letters:/(&#223;|[\u00DF])/g},{base:"t",letters:/(&#116;|&#9443;|&#65364;|&#7787;|&#7831;|&#357;|&#7789;|&#539;|&#355;|&#7793;|&#7791;|&#359;|&#429;|&#648;|&#11366;|&#42887;|[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787])/g},{base:"th",letters:/(&#254;|[\u00FE])/g},{base:"tz",letters:/(&#42793;|[\uA729])/g},{base:"u",letters:/(&#117;|&#9444;|&#65365;|&#249;|&#250;|&#251;|&#361;|&#7801;|&#363;|&#7803;|&#365;|&#252;|&#476;|&#472;|&#470;|&#474;|&#7911;|&#367;|&#369;|&#468;|&#533;|&#535;|&#432;|&#7915;|&#7913;|&#7919;|&#7917;|&#7921;|&#7909;|&#7795;|&#371;|&#7799;|&#7797;|&#649;|[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289])/g},{base:"v",letters:/(&#118;|&#9445;|&#65366;|&#7805;|&#7807;|&#651;|&#42847;|&#652;|[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C])/g},{base:"vy",letters:/(&#42849;|[\uA761])/g},{base:"w",letters:/(&#119;|&#9446;|&#65367;|&#7809;|&#7811;|&#373;|&#7815;|&#7813;|&#7832;|&#7817;|&#11379;|[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73])/g},{base:"x",letters:/(&#120;|&#9447;|&#65368;|&#7819;|&#7821;|[\u0078\u24E7\uFF58\u1E8B\u1E8D])/g},{base:"y",letters:/(&#121;|&#9448;|&#65369;|&#7923;|&#253;|&#375;|&#7929;|&#563;|&#7823;|&#255;|&#7927;|&#7833;|&#7925;|&#436;|&#591;|&#7935;|[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF])/g},{base:"z",letters:/(&#122;|&#9449;|&#65370;|&#378;|&#7825;|&#380;|&#382;|&#7827;|&#7829;|&#438;|&#549;|&#576;|&#11372;|&#42851;|[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763])/g}],t0=function(t){var r=t;return e0.forEach(function(a){r=r.replace(a.letters,a.base)}),r},Jl=function(t){return t0(t).toLowerCase()},Pp=function(t,r,a){return a?Jl(t).indexOf(Jl(r)):t.toLowerCase().indexOf(r.toLowerCase())},r0=function(){return!!document.documentMode},Ts=function(t){return typeof t=="number"},n0=function(t){return t===Object(t)?Object.keys(t):[]},a0=function(t){for(var r,a=arguments.length,n=new Array(a>1?a-1:0),i=1;i<a;i++)n[i-1]=arguments[i];var s=(r=[]).concat.apply(r,n);return Object.keys(t).reduce(function(u,l){return t.hasOwnProperty(l)&&!s.includes(l)&&t[l]!==void 0&&(u[l]=t[l]),u},{})},i0=["style","className","classNames"];function Pi(e,t){var r=function(n){var i=function(l){var f=l.style,p=l.className,v=l.classNames,h=ay(l,i0),E=t?t(h):void 0,y=du(e,{style:f,className:p,classNames:v},E);return z.createElement(n,tr({},h,{style:y}))},s=n.displayName||n.name||"Component";return i.displayName="defaultStyle(".concat(s,")"),i};return r}function o0(e){var t=s0();return function(){var a=Sn(e),n;if(t){var i=Sn(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return uu(this,n)}}function s0(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var u0=function(t,r){return t.hasOwnProperty(r)?t[r]++:t[r]=0,r+"_"+t[r]},pu=function(e){iu(r,e);var t=o0(r);function r(){var a;return ou(this,r),a=t.apply(this,arguments),ye(xe(a),"setCaretElement",function(n){a.caretElement=n}),a.state={left:void 0,top:void 0},a}return su(r,[{key:"componentDidMount",value:function(){this.notifyCaretPosition()}},{key:"componentDidUpdate",value:function(){this.notifyCaretPosition()}},{key:"notifyCaretPosition",value:function(){if(this.caretElement){var n=this.caretElement,i=n.offsetLeft,s=n.offsetTop;if(!(this.state.left===i&&this.state.top===s)){var u={left:i,top:s};this.setState(u),this.props.onCaretPositionChange(u)}}}},{key:"render",value:function(){var n=this,i=this.props,s=i.selectionStart,u=i.selectionEnd,l=i.value,f=i.style,p=i.children,v=i.containerRef,h=Er(p),E;s===u&&(E=mt(l,h,s,"START"));var y=[],_={},b=y,C=0,A=function(x,I,R){if(Ts(E)&&E>=I&&E<=I+x.length){var P=E-I;b.push(n.renderSubstring(x.substring(0,P),C)),b=[n.renderSubstring(x.substring(P),C)]}else b.push(n.renderSubstring(x,C));C++},w=function(x,I,R,P,M,O,N){var U=u0(_,P);b.push(n.getMentionComponentForMatch(P,M,O,U))};return ga(l,h,w,A),b.push(" "),b!==y&&y.push(this.renderHighlighterCaret(b)),z.createElement("div",tr({},f,{ref:v}),y)}},{key:"renderSubstring",value:function(n,i){return z.createElement("span",tr({},this.props.style("substring"),{key:i}),n)}},{key:"getMentionComponentForMatch",value:function(n,i,s,u){var l={id:n,display:i,key:u},f=T.Children.toArray(this.props.children)[s];return z.cloneElement(f,l)}},{key:"renderHighlighterCaret",value:function(n){return z.createElement("span",tr({},this.props.style("caret"),{ref:this.setCaretElement,key:"caret"}),n)}}]),r}(T.Component);ye(pu,"propTypes",{selectionStart:q.number,selectionEnd:q.number,value:q.string.isRequired,onCaretPositionChange:q.func.isRequired,containerRef:q.oneOfType([q.func,q.shape({current:typeof Element>"u"?q.any:q.instanceOf(Element)})]),children:q.oneOfType([q.element,q.arrayOf(q.element)]).isRequired});ye(pu,"defaultProps",{value:""});var l0=Pi({position:"relative",boxSizing:"border-box",width:"100%",color:"transparent",overflow:"hidden",whiteSpace:"pre-wrap",wordWrap:"break-word",border:"1px solid transparent",textAlign:"start","&singleLine":{whiteSpace:"pre",wordWrap:null},substring:{visibility:"hidden"}},function(e){return{"&singleLine":e.singleLine}}),c0=l0(pu);function Lp(e){var t=e.id,r=e.focused,a=e.ignoreAccents,n=e.index,i=e.onClick,s=e.onMouseEnter,u=e.query,l=e.renderSuggestion,f=e.suggestion,p=e.style;e.className,e.classNames;var v={onClick:i,onMouseEnter:s},h=function(){var b=E(),C=y(b);return l?l(f,u,C,n,r):C},E=function(){if(typeof f=="string")return f;var b=f.id,C=f.display;return b===void 0||!C?b:C},y=function(b){var C=Pp(b,u,a);return C===-1?z.createElement("span",p("display"),b):z.createElement("span",p("display"),b.substring(0,C),z.createElement("b",p("highlight"),b.substring(C,C+u.length)),b.substring(C+u.length))};return z.createElement("li",tr({id:t,role:"option","aria-selected":r},v,p),h())}Lp.propTypes={id:q.string.isRequired,query:q.string.isRequired,index:q.number.isRequired,ignoreAccents:q.bool,suggestion:q.oneOfType([q.string,q.shape({id:q.oneOfType([q.string,q.number]).isRequired,display:q.string})]).isRequired,renderSuggestion:q.func,focused:q.bool};var f0=Pi({cursor:"pointer"},function(e){return{"&focused":e.focused}}),d0=f0(Lp);function p0(e){var t=e.style,r=e.className,a=e.classNames,n=du(h0,{style:t,className:r,classNames:a}),i=n("spinner");return z.createElement("div",n,z.createElement("div",i,z.createElement("div",i(["element","element1"])),z.createElement("div",i(["element","element2"])),z.createElement("div",i(["element","element3"])),z.createElement("div",i(["element","element4"])),z.createElement("div",i(["element","element5"]))))}var h0={};function g0(e){var t=v0();return function(){var a=Sn(e),n;if(t){var i=Sn(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return uu(this,n)}}function v0(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var hu=function(e){iu(r,e);var t=g0(r);function r(){var a;ou(this,r);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return a=t.call.apply(t,[this].concat(i)),ye(xe(a),"handleMouseEnter",function(u,l){a.props.onMouseEnter&&a.props.onMouseEnter(u)}),ye(xe(a),"select",function(u,l){a.props.onSelect(u,l)}),ye(xe(a),"setUlElement",function(u){a.ulElement=u}),a}return su(r,[{key:"componentDidUpdate",value:function(){if(!(!this.ulElement||this.ulElement.offsetHeight>=this.ulElement.scrollHeight||!this.props.scrollFocusedIntoView)){var n=this.ulElement.scrollTop,i=this.ulElement.children[this.props.focusIndex].getBoundingClientRect(),s=i.top,u=i.bottom,l=this.ulElement.getBoundingClientRect(),f=l.top;s=s-f+n,u=u-f+n,s<n?this.ulElement.scrollTop=s:u>this.ulElement.offsetHeight&&(this.ulElement.scrollTop=u-this.ulElement.offsetHeight)}}},{key:"render",value:function(){var n=this.props,i=n.id,s=n.a11ySuggestionsListLabel,u=n.isOpened,l=n.style,f=n.onMouseDown,p=n.containerRef,v=n.position,h=n.left,E=n.right,y=n.top;return u?z.createElement("div",tr({},Wy({position:v||"absolute",left:h,right:E,top:y},l),{onMouseDown:f,ref:p}),z.createElement("ul",tr({ref:this.setUlElement,id:i,role:"listbox","aria-label":s},l("list")),this.renderSuggestions()),this.renderLoadingIndicator()):null}},{key:"renderSuggestions",value:function(){var n=this,i=this.props.customSuggestionsContainer,s=Object.values(this.props.suggestions).reduce(function(u,l){var f=l.results,p=l.queryInfo;return[].concat(vi(u),vi(f.map(function(v,h){return n.renderSuggestion(v,p,u.length+h)})))},[]);return i?i(s):s}},{key:"renderSuggestion",value:function(n,i,s){var u=this,l=s===this.props.focusIndex,f=i.childIndex,p=i.query,v=T.Children.toArray(this.props.children)[f].props.renderSuggestion,h=this.props.ignoreAccents;return z.createElement(d0,{style:this.props.style("item"),key:"".concat(f,"-").concat(m0(n)),id:Rp(this.props.id,s),query:p,index:s,ignoreAccents:h,renderSuggestion:v,suggestion:n,focused:l,onClick:function(){return u.select(n,i)},onMouseEnter:function(){return u.handleMouseEnter(s)}})}},{key:"renderLoadingIndicator",value:function(){if(this.props.isLoading)return z.createElement(p0,{style:this.props.style("loadingIndicator")})}}]),r}(T.Component);ye(hu,"propTypes",{id:q.string.isRequired,suggestions:q.object.isRequired,a11ySuggestionsListLabel:q.string,focusIndex:q.number,position:q.string,left:q.number,right:q.number,top:q.number,scrollFocusedIntoView:q.bool,isLoading:q.bool,isOpened:q.bool.isRequired,onSelect:q.func,ignoreAccents:q.bool,containerRef:q.oneOfType([q.func,q.shape({current:typeof Element>"u"?q.any:q.instanceOf(Element)})]),children:q.oneOfType([q.element,q.arrayOf(q.element)]).isRequired});ye(hu,"defaultProps",{suggestions:{},onSelect:function(){return null}});var m0=function(t){return typeof t=="string"?t:t.id},y0=Pi({zIndex:1,backgroundColor:"white",marginTop:14,minWidth:100,list:{margin:0,padding:0,listStyleType:"none"}}),E0=y0(hu);function Ql(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Kt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ql(Object(r),!0).forEach(function(a){ye(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ql(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function _0(e){var t=b0();return function(){var a=Sn(e),n;if(t){var i=Sn(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return uu(this,n)}}function b0(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var S0=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t instanceof RegExp)return t;var a=r.allowSpaceInQuery,n=ci(t);return new RegExp("(?:^|\\s)(".concat(n,"([^").concat(a?"":"\\s").concat(n,"]*))$"))},C0=function(t,r){return t instanceof Array?function(a,n){for(var i=[],s=0,u=t.length;s<u;++s){var l=t[s].display||t[s].id;Pp(l,a,r)>=0&&i.push(t[s])}return i}:t},fn={TAB:9,RETURN:13,ESC:27,UP:38,DOWN:40},La=!1,Np={singleLine:q.bool,allowSpaceInQuery:q.bool,allowSuggestionsAboveCursor:q.bool,forceSuggestionsAboveCursor:q.bool,ignoreAccents:q.bool,a11ySuggestionsListLabel:q.string,value:q.string,onKeyDown:q.func,customSuggestionsContainer:q.func,onSelect:q.func,onBlur:q.func,onChange:q.func,suggestionsPortalHost:typeof Element>"u"?q.any:q.PropTypes.instanceOf(Element),inputRef:q.oneOfType([q.func,q.shape({current:typeof Element>"u"?q.any:q.instanceOf(Element)})]),children:q.oneOfType([q.element,q.arrayOf(q.element)]).isRequired},gu=function(e){iu(r,e);var t=_0(r);function r(a){var n;return ou(this,r),n=t.call(this,a),ye(xe(n),"setContainerElement",function(i){n.containerElement=i}),ye(xe(n),"getInputProps",function(){var i=n.props,s=i.readOnly,u=i.disabled,l=i.style,f=a0(n.props,["style","classNames","className"],n0(Np));return Kt(Kt(Kt(Kt({},f),l("input")),{},{value:n.getPlainText(),onScroll:n.updateHighlighterScroll},!s&&!u&&{onChange:n.handleChange,onSelect:n.handleSelect,onKeyDown:n.handleKeyDown,onBlur:n.handleBlur,onCompositionStart:n.handleCompositionStart,onCompositionEnd:n.handleCompositionEnd}),n.isOpened()&&{role:"combobox","aria-controls":n.uuidSuggestionsOverlay,"aria-expanded":!0,"aria-autocomplete":"list","aria-haspopup":"listbox","aria-activedescendant":Rp(n.uuidSuggestionsOverlay,n.state.focusIndex)})}),ye(xe(n),"renderControl",function(){var i=n.props,s=i.singleLine,u=i.style,l=n.getInputProps();return z.createElement("div",u("control"),n.renderHighlighter(),s?n.renderInput(l):n.renderTextarea(l))}),ye(xe(n),"renderInput",function(i){return z.createElement("input",tr({type:"text",ref:n.setInputRef},i))}),ye(xe(n),"renderTextarea",function(i){return z.createElement("textarea",tr({ref:n.setInputRef},i))}),ye(xe(n),"setInputRef",function(i){n.inputElement=i;var s=n.props.inputRef;typeof s=="function"?s(i):s&&(s.current=i)}),ye(xe(n),"setSuggestionsElement",function(i){n.suggestionsElement=i}),ye(xe(n),"renderSuggestionsOverlay",function(){if(!Ts(n.state.selectionStart))return null;var i=n.state.suggestionsPosition,s=i.position,u=i.left,l=i.top,f=i.right,p=z.createElement(E0,{id:n.uuidSuggestionsOverlay,style:n.props.style("suggestions"),position:s,left:u,top:l,right:f,focusIndex:n.state.focusIndex,scrollFocusedIntoView:n.state.scrollFocusedIntoView,containerRef:n.setSuggestionsElement,suggestions:n.state.suggestions,customSuggestionsContainer:n.props.customSuggestionsContainer,onSelect:n.addMention,onMouseDown:n.handleSuggestionsMouseDown,onMouseEnter:n.handleSuggestionsMouseEnter,isLoading:n.isLoading(),isOpened:n.isOpened(),ignoreAccents:n.props.ignoreAccents,a11ySuggestionsListLabel:n.props.a11ySuggestionsListLabel},n.props.children);return n.props.suggestionsPortalHost?ny.createPortal(p,n.props.suggestionsPortalHost):p}),ye(xe(n),"renderHighlighter",function(){var i=n.state,s=i.selectionStart,u=i.selectionEnd,l=n.props,f=l.singleLine,p=l.children,v=l.value,h=l.style;return z.createElement(c0,{containerRef:n.setHighlighterElement,style:h("highlighter"),value:v,singleLine:f,selectionStart:s,selectionEnd:u,onCaretPositionChange:n.handleCaretPositionChange},p)}),ye(xe(n),"setHighlighterElement",function(i){n.highlighterElement=i}),ye(xe(n),"handleCaretPositionChange",function(i){n.setState({caretPosition:i})}),ye(xe(n),"getPlainText",function(){return $r(n.props.value||"",Er(n.props.children))}),ye(xe(n),"executeOnChange",function(i){for(var s=arguments.length,u=new Array(s>1?s-1:0),l=1;l<s;l++)u[l-1]=arguments[l];if(n.props.onChange){var f;return(f=n.props).onChange.apply(f,[i].concat(u))}if(n.props.valueLink){var p;return(p=n.props.valueLink).requestChange.apply(p,[i.target.value].concat(u))}}),ye(xe(n),"handleChange",function(i){if(La=!1,r0()){var s=document.activeElement&&document.activeElement.contentDocument||document;if(s.activeElement!==i.target)return}var u=n.props.value||"",l=Er(n.props.children),f=i.target.value,p=Xy(u,f,{selectionStartBefore:n.state.selectionStart,selectionEndBefore:n.state.selectionEnd,selectionEndAfter:i.target.selectionEnd},l);f=$r(p,l);var v=i.target.selectionStart,h=i.target.selectionEnd,E=!1,y=Zl(u,l,v);y!==void 0&&n.state.selectionEnd>y&&(v=y+(i.nativeEvent.data?i.nativeEvent.data.length:0),h=v,E=!0),n.setState({selectionStart:v,selectionEnd:h,setSelectionAfterMentionChange:E});var _=ta(p,l),b={target:{value:p}};n.executeOnChange(b,p,f,_)}),ye(xe(n),"handleSelect",function(i){if(n.setState({selectionStart:i.target.selectionStart,selectionEnd:i.target.selectionEnd}),!La){var s=n.inputElement;i.target.selectionStart===i.target.selectionEnd?n.updateMentionsQueries(s.value,i.target.selectionStart):n.clearSuggestions(),n.updateHighlighterScroll(),n.props.onSelect(i)}}),ye(xe(n),"handleKeyDown",function(i){var s=Pa(n.state.suggestions);if(s===0||!n.suggestionsElement){n.props.onKeyDown(i);return}switch(Object.values(fn).indexOf(i.keyCode)>=0&&(i.preventDefault(),i.stopPropagation()),i.keyCode){case fn.ESC:{n.clearSuggestions();return}case fn.DOWN:{n.shiftFocus(1);return}case fn.UP:{n.shiftFocus(-1);return}case fn.RETURN:{n.selectFocused();return}case fn.TAB:{n.selectFocused();return}default:return}}),ye(xe(n),"shiftFocus",function(i){var s=Pa(n.state.suggestions);n.setState({focusIndex:(s+n.state.focusIndex+i)%s,scrollFocusedIntoView:!0})}),ye(xe(n),"selectFocused",function(){var i=n.state,s=i.suggestions,u=i.focusIndex,l=Object.values(s).reduce(function(v,h){var E=h.results,y=h.queryInfo;return[].concat(vi(v),vi(E.map(function(_){return{result:_,queryInfo:y}})))},[])[u],f=l.result,p=l.queryInfo;n.addMention(f,p),n.setState({focusIndex:0})}),ye(xe(n),"handleBlur",function(i){var s=n._suggestionsMouseDown;n._suggestionsMouseDown=!1,s||n.setState({selectionStart:null,selectionEnd:null}),window.setTimeout(function(){n.updateHighlighterScroll()},1),n.props.onBlur(i,s)}),ye(xe(n),"handleSuggestionsMouseDown",function(i){n._suggestionsMouseDown=!0}),ye(xe(n),"handleSuggestionsMouseEnter",function(i){n.setState({focusIndex:i,scrollFocusedIntoView:!1})}),ye(xe(n),"updateSuggestionsPosition",function(){var i=n.state.caretPosition,s=n.props,u=s.suggestionsPortalHost,l=s.allowSuggestionsAboveCursor,f=s.forceSuggestionsAboveCursor;if(!(!i||!n.suggestionsElement)){var p=n.suggestionsElement,v=n.highlighterElement,h=v.getBoundingClientRect(),E=Io(v,"font-size"),y={left:h.left+i.left,top:h.top+i.top+E},_=Math.max(document.documentElement.clientHeight,window.innerHeight||0);if(p){var b={};if(u){b.position="fixed";var C=y.left,A=y.top;C-=Io(p,"margin-left"),A-=Io(p,"margin-top"),C-=v.scrollLeft,A-=v.scrollTop;var w=Math.max(document.documentElement.clientWidth,window.innerWidth||0);C+p.offsetWidth>w?b.left=Math.max(0,w-p.offsetWidth):b.left=C,l&&A+p.offsetHeight>_&&p.offsetHeight<A-E||f?b.top=Math.max(0,A-p.offsetHeight-E):b.top=A}else{var F=i.left-v.scrollLeft,x=i.top-v.scrollTop;F+p.offsetWidth>n.containerElement.offsetWidth?b.right=0:b.left=F,l&&y.top-v.scrollTop+p.offsetHeight>_&&p.offsetHeight<h.top-E-v.scrollTop||f?b.top=x-p.offsetHeight-E:b.top=x}b.left===n.state.suggestionsPosition.left&&b.top===n.state.suggestionsPosition.top&&b.position===n.state.suggestionsPosition.position||n.setState({suggestionsPosition:b})}}}),ye(xe(n),"updateHighlighterScroll",function(){var i=n.inputElement,s=n.highlighterElement;!i||!s||(s.scrollLeft=i.scrollLeft,s.scrollTop=i.scrollTop,s.height=i.height)}),ye(xe(n),"handleCompositionStart",function(){La=!0}),ye(xe(n),"handleCompositionEnd",function(){La=!1}),ye(xe(n),"setSelection",function(i,s){if(!(i===null||s===null)){var u=n.inputElement;if(u.setSelectionRange)u.setSelectionRange(i,s);else if(u.createTextRange){var l=u.createTextRange();l.collapse(!0),l.moveEnd("character",s),l.moveStart("character",i),l.select()}}}),ye(xe(n),"updateMentionsQueries",function(i,s){n._queryId++,n.suggestions={},n.setState({suggestions:{}});var u=n.props.value||"",l=n.props.children,f=Er(l),p=mt(u,f,s,"NULL");if(p!==null){var v=Yy(u.substring(0,p),f),h=i.substring(v,s);z.Children.forEach(l,function(E,y){if(E){var _=S0(E.props.trigger,n.props),b=h.match(_);if(b){var C=v+h.indexOf(b[1],b.index);n.queryData(b[2],y,C,C+b[1].length,i)}}})}}),ye(xe(n),"clearSuggestions",function(){n._queryId++,n.suggestions={},n.setState({suggestions:{},focusIndex:0})}),ye(xe(n),"queryData",function(i,s,u,l,f){var p=n.props,v=p.children,h=p.ignoreAccents,E=T.Children.toArray(v)[s],y=C0(E.props.data,h),_=y(i,n.updateSuggestions.bind(null,n._queryId,s,i,u,l,f));_ instanceof Array&&n.updateSuggestions(n._queryId,s,i,u,l,f,_)}),ye(xe(n),"updateSuggestions",function(i,s,u,l,f,p,v){if(i===n._queryId){n.suggestions=Kt(Kt({},n.suggestions),{},ye({},s,{queryInfo:{childIndex:s,query:u,querySequenceStart:l,querySequenceEnd:f,plainTextValue:p},results:v}));var h=n.state.focusIndex,E=Pa(n.suggestions);n.setState({suggestions:n.suggestions,focusIndex:h>=E?Math.max(E-1,0):h})}}),ye(xe(n),"addMention",function(i,s){var u=i.id,l=i.display,f=s.childIndex,p=s.querySequenceStart,v=s.querySequenceEnd,h=s.plainTextValue,E=n.props.value||"",y=Er(n.props.children),_=T.Children.toArray(n.props.children)[f],b=_.props,C=b.markup,A=b.displayTransform,w=b.appendSpaceOnAdd,F=b.onAdd,x=mt(E,y,p,"START"),I=x+v-p,R=Qy(C,u,l);w&&(R+=" ");var P=sa(E,x,I,R);n.inputElement.focus();var M=A(u,l);w&&(M+=" ");var O=p+M.length;n.setState({selectionStart:O,selectionEnd:O,setSelectionAfterMentionChange:!0});var N={target:{value:P}},U=ta(P,y),H=sa(h,p,v,M);n.executeOnChange(N,P,H,U),F&&F(u,l,x,I),n.clearSuggestions()}),ye(xe(n),"isLoading",function(){var i=!1;return z.Children.forEach(n.props.children,function(s){i=i||s&&s.props.isLoading}),i}),ye(xe(n),"isOpened",function(){return Ts(n.state.selectionStart)&&(Pa(n.state.suggestions)!==0||n.isLoading())}),ye(xe(n),"_queryId",0),n.suggestions={},n.uuidSuggestionsOverlay=Math.random().toString(16).substring(2),n.handleCopy=n.handleCopy.bind(xe(n)),n.handleCut=n.handleCut.bind(xe(n)),n.handlePaste=n.handlePaste.bind(xe(n)),n.state={focusIndex:0,selectionStart:null,selectionEnd:null,suggestions:{},caretPosition:null,suggestionsPosition:{}},n}return su(r,[{key:"componentDidMount",value:function(){document.addEventListener("copy",this.handleCopy),document.addEventListener("cut",this.handleCut),document.addEventListener("paste",this.handlePaste),this.updateSuggestionsPosition()}},{key:"componentDidUpdate",value:function(n,i){i.suggestionsPosition===this.state.suggestionsPosition&&this.updateSuggestionsPosition(),this.state.setSelectionAfterMentionChange&&(this.setState({setSelectionAfterMentionChange:!1}),this.setSelection(this.state.selectionStart,this.state.selectionEnd))}},{key:"componentWillUnmount",value:function(){document.removeEventListener("copy",this.handleCopy),document.removeEventListener("cut",this.handleCut),document.removeEventListener("paste",this.handlePaste)}},{key:"render",value:function(){return z.createElement("div",tr({ref:this.setContainerElement},this.props.style),this.renderControl(),this.renderSuggestionsOverlay())}},{key:"handlePaste",value:function(n){if(n.target===this.inputElement&&this.supportsClipboardActions(n)){n.preventDefault();var i=this.state,s=i.selectionStart,u=i.selectionEnd,l=this.props,f=l.value,p=l.children,v=Er(p),h=mt(f,v,s,"START"),E=mt(f,v,u,"END"),y=n.clipboardData.getData("text/react-mentions"),_=n.clipboardData.getData("text/plain"),b=sa(f,h,E,y||_).replace(/\r/g,""),C=$r(b,v),A={target:Kt(Kt({},n.target),{},{value:b})};this.executeOnChange(A,b,C,ta(b,v));var w=Zl(f,v,s),F=(w||s)+$r(y||_,v).length;this.setSelection(F,F)}}},{key:"saveSelectionToClipboard",value:function(n){var i=this.inputElement.selectionStart,s=this.inputElement.selectionEnd,u=this.props,l=u.children,f=u.value,p=Er(l),v=mt(f,p,i,"START"),h=mt(f,p,s,"END");n.clipboardData.setData("text/plain",n.target.value.slice(i,s)),n.clipboardData.setData("text/react-mentions",f.slice(v,h))}},{key:"supportsClipboardActions",value:function(n){return!!n.clipboardData}},{key:"handleCopy",value:function(n){n.target===this.inputElement&&this.supportsClipboardActions(n)&&(n.preventDefault(),this.saveSelectionToClipboard(n))}},{key:"handleCut",value:function(n){if(n.target===this.inputElement&&this.supportsClipboardActions(n)){n.preventDefault(),this.saveSelectionToClipboard(n);var i=this.state,s=i.selectionStart,u=i.selectionEnd,l=this.props,f=l.children,p=l.value,v=Er(f),h=mt(p,v,s,"START"),E=mt(p,v,u,"END"),y=[p.slice(0,h),p.slice(E)].join(""),_=$r(y,v),b={target:Kt(Kt({},n.target),{},{value:_})};this.executeOnChange(b,y,_,ta(p,v))}}}]),r}(z.Component);ye(gu,"propTypes",Np);ye(gu,"defaultProps",{ignoreAccents:!1,singleLine:!1,allowSuggestionsAboveCursor:!1,onKeyDown:function(){return null},onSelect:function(){return null},onBlur:function(){return null}});var Io=function(t,r){var a=parseFloat(window.getComputedStyle(t,null).getPropertyValue(r));return isFinite(a)?a:0},w0=typeof navigator<"u"&&/iPhone|iPad|iPod/i.test(navigator.userAgent),A0=Pi({position:"relative",overflowY:"visible",input:{display:"block",width:"100%",position:"absolute",margin:0,top:0,left:0,boxSizing:"border-box",backgroundColor:"transparent",fontFamily:"inherit",fontSize:"inherit",letterSpacing:"inherit"},"&multiLine":{input:Kt({height:"100%",bottom:0,overflow:"hidden",resize:"none"},w0?{marginTop:1,marginLeft:-3}:null)}},function(e){var t=e.singleLine;return{"&singleLine":t,"&multiLine":!t}}),D0=A0(gu),x0={fontWeight:"inherit"},vu=function(t){var r=t.display,a=t.style,n=t.className,i=t.classNames,s=du(x0,{style:a,className:n,classNames:i});return z.createElement("strong",s,r)};vu.propTypes={onAdd:q.func,onRemove:q.func,renderSuggestion:q.func,trigger:q.oneOfType([q.string,q.instanceOf(RegExp)]),markup:q.string,displayTransform:q.func,allowSpaceInQuery:q.bool,isLoading:q.bool};vu.defaultProps={trigger:"@",markup:"@[__display__](__id__)",displayTransform:function(t,r){return r||t},onAdd:function(){return null},onRemove:function(){return null},renderSuggestion:null,isLoading:!1,appendSpaceOnAdd:!1};const T0={position:"relative",zIndex:10,top:12,left:1,backgroundColor:"var(--bg-search-highlight-brand-secondary-default)",color:"var(--text-search-highlight-brand-primary-default)",fontFamily:"var(--font-body-large-regular-font)"},F0={zIndex:10,top:0,left:0,backgroundColor:"var(--bg-search-highlight-brand-secondary-default)",color:"var(--text-search-highlight-brand-primary-default)",fontFamily:"var(--font-body-large-regular-font)",fontSize:16},O0={control:{backgroundColor:"var(--bg-tablecell-neutral-alt-default)",fontWeight:"normal"},"&multiLine":{control:{minHeight:63},highlighter:{padding:9,border:"1px solid transparent"},input:{padding:9,border:"unset",borderRadius:8,backgroundColor:"var(--bg-input-brand-primary-hover)",color:"var(--text-input-neutral-filled)",paddingTop:22,paddingLeft:12,fontFamily:"var(--font-body-large-regular-font)",fontSize:16,outlineColor:"var(--text-input-brand-primary-default)"}},"&singleLine":{display:"inline-block",width:180,highlighter:{padding:1,border:"2px inset transparent"},input:{padding:1,border:"2px inset",borderRadius:16,display:"flex",alignItems:"center",fontFamily:"var(--font-family)"}},suggestions:{list:{backgroundColor:"var(--bg-tablecell-neutral-alt-default)",fontSize:14,borderRadius:12},item:{padding:"5px 15px",borderBottom:"1px solid var(--bg-separator-neutral-default)","&focused":{backgroundColor:"var(--bg-separator-neutral-default)",color:"var(--text-tablecell-header-neutral-highlighted)"}}}},k0=e=>({control:{backgroundColor:"var(--bg-tablecell-neutral-alt-default)",fontSize:16,fontWeight:"normal"},"&multiLine":{control:{fontFamily:"var(--font-family)",minHeight:63},highlighter:{padding:9,border:"1px solid transparent"},input:{padding:6,border:"unset",borderRadius:8,backgroundColor:"var(--bg-input-brand-primary-hover)",fontFamily:"var(--font-body-large-regular-font)",color:"var(--text-input-neutral-filled)",fontSize:16,width:"99%",marginLeft:"0.5%",height:"100%",maxHeight:e,outlineColor:"var(--text-input-brand-primary-default)",overflowY:"auto"}},"&singleLine":{display:"inline-block",width:180,highlighter:{padding:1,border:"2px inset transparent"},input:{padding:1,border:"2px inset",borderRadius:16,display:"flex",alignItems:"center",fontFamily:"var(--font-family)"}},suggestions:{list:{backgroundColor:"var(--bg-tablecell-neutral-alt-default)",fontSize:14,borderRadius:12},item:{padding:"5px 15px",borderBottom:"1px solid var(--bg-separator-neutral-default)","&focused":{backgroundColor:"var(--bg-separator-neutral-default)",color:"var(--text-tablecell-header-neutral-highlighted)"}}}}),B0={control:{backgroundColor:"var(--bg-tablecell-neutral-alt-default)",fontSize:16,fontWeight:"normal"},"&multiLine":{control:{fontFamily:"var(--font-family)",minHeight:100},highlighter:{padding:9},input:{padding:9,border:"1px solid var(--text-input-danger-primary-default)",borderRadius:8,backgroundColor:"var(--bg-tablecell-neutral-pressed)",paddingTop:12,paddingLeft:12,fontFamily:"var(--font-body-large-regular-font)",fontSize:16,width:"100%",height:"100%"}},"&singleLine":{display:"inline-block",width:180,highlighter:{padding:1,border:"1px solid var(--text-input-danger-primary-default)"},input:{padding:1,borderRadius:16,display:"flex",alignItems:"center",fontFamily:"var(--font-family)",border:"1px solid var(--text-input-danger-primary-default)"}},suggestions:{list:{backgroundColor:"var(--bg-tablecell-neutral-alt-default)",fontSize:14,borderRadius:12},item:{padding:"5px 15px",borderBottom:"1px solid var(--bg-separator-neutral-default)","&focused":{backgroundColor:"var(--bg-separator-neutral-default)",color:"var(--text-tablecell-header-neutral-highlighted)"}}}},I0=X.div`
  position: absolute;
  background-color: var(--bg-card-neutral-alt-default);
  top: -20px;
  max-height: 200px;
  width: max-content;
  border-radius: 8px !important;
  border: 1px solid var(--bg-comment-neutral-default);
  overflow-y: auto;
  ${tu}
`,M0=X.div`
  display: grid;
  grid-template-columns: 24px auto;
  grid-gap: 16px;
  padding: 8px 12px;
`,R0=X.img`
  min-width: 24px;
  width: 24px;
  height: 24px;
  border-radius: 6px;
`,P0=X.div`
  ${pm.bodyMediumBold}
  font-weight: 600;
  font-size: 14px;
  color: var(--text-input-neutral-filled);
`,L0=X.div`
  --bottom: calc(100vh - 515px);

  --max-height: min(${({textAreaHeight:e})=>e}px, var(--bottom));

  --min-height: min(
    ${({textAreaHeight:e})=>`${e}px`??"63px"},
    var(--bottom)
  );
  z-index: 2;
  ${({isFullHeight:e})=>e&&Hl`
      height: 100%;
      & div:first-child {
        height: 90%;
      }
    `}
  --vertical-offset: 1em;

  @media (max-height: 775px) {
    --vertical-offset: 0em;
  }

  @media (max-height: 740px) {
    --vertical-offset: -1em;
  }

  @media (max-height: 700px) {
    --vertical-offset: -2em;
  }

  & > div > div:nth-of-type(2) {
    transform: translate3D(0, var(--vertical-offset), 0);
    z-index: 2;
  }

  & .Select-menu-outer {
    top: auto;
    bottom: 100%;
  }

  ${({maxHeight:e})=>e&&Hl`
      & > div > div > div {
        max-height: 250px;
      }
    `}
  & textarea:focus,textarea:focus-visible {
    border: 2px solid var(--border-input-brand-primary-default) !important;
    outline: none;
  }

  & div > div:not([class]):first-child {
    min-height: var(--min-height);
    max-height: var(--max-height);
  }

  & div > div:not([class]):first-child > span {
    max-height: var(--max-height);
  }
`,$p=({setVal:e,val:t,addTag:r,isTextArea:a=!1,placeholder:n,maxLength:i,error:s,helperText:u,maxHeight:l,isFullHeight:f,textAreaHeight:p=70,autoFocus:v=!1,onClipboard:h})=>{const E=T.useMemo(()=>({query:"",entityType:dp.HomeNoum}),[]),{t:y}=Fr(),_=T.useRef(null),b=T.useRef(null),{refetch:C}=hm({variables:E}),A=T.useMemo(()=>Fn.debounce((O,N)=>{if(!O)return;C({query:O}).then(H=>H.data.globalSearch.data).then(H=>H==null?void 0:H.map(K=>{var J,Y;const V=K==null?void 0:K.user.name,[G,W]=V.split(" ");return{display:`${`${G} ${W}`}`,id:(J=K==null?void 0:K.user)==null?void 0:J.id,profilePicture:(Y=K==null?void 0:K.user)==null?void 0:Y.thumbnailUrl}})).then(N)},500,{leading:!1}),[C]),w=er(O=>B(I0,{"data-test":"MentionComponent-handleContainer-StyledList",children:O})),F=er(O=>`@${O}`),x=er(O=>be(M0,{"data-test":"MentionComponent-handleRenderSuggestion-StyledRow",children:[B(R0,{src:(O==null?void 0:O.profilePicture)||gm,"data-test":"MentionComponent-handleRenderSuggestion-StyledAvatar"}),B(P0,{"data-test":"MentionComponent-handleRenderSuggestion-StyledText",children:O==null?void 0:O.display})]})),I=s?B0:k0(l),R=`${t||""}`.length,P=T.useCallback(()=>{var N;const O=(N=document.getSelection())==null?void 0:N.toString();O&&(h==null||h("copy",O))},[h]),M=T.useCallback(O=>{"clipboardData"in O&&O.clipboardData.getData("text")&&(h==null||h("paste",O.clipboardData.getData("text")))},[h]);return T.useEffect(()=>{const O=_.current;return O&&vm(O)&&(O.addEventListener("copy",P),O.addEventListener("paste",M)),()=>{O==null||O.removeEventListener("copy",P),O==null||O.removeEventListener("paste",M)}},[_,P,M]),be(L0,{ref:_,maxHeight:l,isFullHeight:f,textAreaHeight:p,"data-test":"MentionComponent-Wrapper",children:[B(D0,{"data-testid":"mentionsInput",allowSuggestionsAboveCursor:!0,value:t,autoFocus:v,onChange:O=>e(O.target.value),style:a?I:O0,placeholder:n||y("noumena.comments.placeholder"),customSuggestionsContainer:w,inputRef:b,"data-test":"MentionComponent-MentionsInput",children:B(vu,{displayTransform:F,trigger:"@",data:A,style:a?F0:T0,markup:"@[__display__]",renderSuggestion:x,onAdd:r,"data-test":"MentionComponent-Mention"})}),!!a&&be(mm,{"data-testid":"pTestId",error:s,disabled:!1,"data-test":"MentionComponent-HelperText",children:[u??""," ",i&&B(ym,{error:R>i,"data-test":"MentionComponent-LengthHelperText",children:`${R}/${i}`})]})]})},N0=X.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  cursor: pointer;
`,$0=X(st)`
  cursor: pointer;
`;function K0({options:e,userType:t,isOwner:r,isInactive:a,onHandleSelect:n,isPostAuthor:i}){const s=cu(),{isUnregistered:u}=pr(),l=T.useMemo(()=>u?t==="OWNER"?"UNREGISTEREDOWNER":"UNREGISTERED":t,[u,t]),f=T.useMemo(()=>e.filter(v=>{if(!l)return!1;switch(v.key){case"delete-post":return s("POST","DELETE",r?"OWNER":l);case"report-post":return!a&&!i&&!["UNREGISTERED","UNREGISTEREDOWNER"].includes(l);case"pin-post":return s("POST","PIN",l);case"unpin-post":return s("POST","UNPIN",l);case"edit-post":return i||s("POST","ADMIN_EDIT",l)}return!1}),[s,a,r,i,e,l]),p=T.useMemo(()=>`${f.length*50}px`,[f.length]);return f.length<1?null:B(ki,{closeOnSelect:!0,placement:"bottom-end",options:f,containerWidth:"121px",minHeight:p,onSelectOption:n,usePortal:!1,calRefTop:!1,isAnimation:!1,usePopStyle:!0,observerMinHeight:"0",padding:"0px",unsetOverflow:!0,"data-test":"Dropdown",children:({targetProps:v,targetRef:h,toggle:E})=>B(N0,{ref:h,...v,onClick:E,"data-test":"DropdownPicker",children:B($0,{name:"more_m",size:24,color:"--icon-card-neutral-default","data-test":"MoreIcon"})})})}const z0=X.div`
  position: relative;
  width: fit-content;
  .video-js {
    width: 120px;
    height: 120px;
    border-radius: 8px;
    .vjs-big-play-button {
      display: none;
    }
  }
`,U0=X(rr)`
  min-height: unset;
  min-width: unset;
  width: 40px;
  height: 40px;
  padding: 8px;
  position: absolute;
  top: 8px;
  right: 8px;
`,H0=X.div`
  background-color: ${iy(oy("--bg-video-timestamp-brand-primary-default"),.5)};
  ${Em.footnote}
  color: var(--text-video-timestamp-neutral-alt-default);
  padding: 6.5px 8px;
  position: absolute;
  bottom: 0;
  right: 0;
  border-top-left-radius: 8px;
  border-bottom-right-radius: 8px;
`,j0=X.div`
  display: inline;
  ${({enabled:e})=>e&&`
  display: inline-block;
  width: 124px;
  height: 124px;
  border-radius: 8px;
  overflow: hidden;
  `}
`,W0=({url:e,index:t,filetype:r,onDelete:a})=>{const[n,i]=T.useState(void 0),s=Cs(ws(e??""));return be(z0,{"data-testid":"asset_item","data-test":"AssetItem-AssetItemContainer",children:[r!==wr.Video&&B(jr,{url:e||"",width:124,height:124,borderRadius:8,"data-test":"AssetItem-Avatar"}),r===wr.Video&&B(j0,{enabled:s==="video/quicktime","data-test":"AssetItem-RoundedCorners",children:B(pp,{url:e,fileType:Cs(ws(e??"")),controls:!1,onGotDuration:u=>i(u),isSquare:!0,"data-test":"AssetItem-VideoPlayer"})}),B(U0,{tertiary:!0,icon:B(st,{size:24,name:"close_m",color:"--icon-button-neutral-default","data-test":"AssetItem-Icon"}),onClick:()=>a(t),testId:"asset_delete_btn","data-test":"AssetItem-DeleteButton"}),r===wr.Video&&n!==void 0&&B(H0,{"data-test":"AssetItem-DurationItem",children:_m(n)})]})},q0=()=>{const{user:e,isUnregistered:t}=pr();return be(Sy,{"data-testid":"user_info","data-test":"PostModalUserInfo-UserInfo",children:[B(jr,{url:Ft.getProfilePicture(e)??"","data-test":"PostModalUserInfo-Avatar"}),be(dr,{vertical:!0,"data-test":"PostModalUserInfo-Stack",children:[B(et,{font:"body-l-bold",colorToken:"--text-tablecell-header-neutral-highlighted","data-test":"PostModalUserInfo-TSpan",children:`${(e==null?void 0:e.firstName)||""} ${(e==null?void 0:e.lastName)||""}`.trim()}),B(et,{font:"body-m",colorToken:"--text-tablecell-body-neutral-default","data-test":"PostModalUserInfo-TSpan",children:t?te("noumena.chamber_edit.modal.non_member"):`@${e==null?void 0:e.username}`})]})]})};var he={},V0={get exports(){return he},set exports(e){he=e}};(function(e,t){(function(r,a){e.exports=a()})(ut,function(){var r=Array.prototype.slice;function a(o,c){c&&(o.prototype=Object.create(c.prototype)),o.prototype.constructor=o}function n(o){return l(o)?o:ke(o)}a(i,n);function i(o){return f(o)?o:ve(o)}a(s,n);function s(o){return p(o)?o:Ae(o)}a(u,n);function u(o){return l(o)&&!v(o)?o:qe(o)}function l(o){return!!(o&&o[E])}function f(o){return!!(o&&o[y])}function p(o){return!!(o&&o[_])}function v(o){return f(o)||p(o)}function h(o){return!!(o&&o[b])}n.isIterable=l,n.isKeyed=f,n.isIndexed=p,n.isAssociative=v,n.isOrdered=h,n.Keyed=i,n.Indexed=s,n.Set=u;var E="@@__IMMUTABLE_ITERABLE__@@",y="@@__IMMUTABLE_KEYED__@@",_="@@__IMMUTABLE_INDEXED__@@",b="@@__IMMUTABLE_ORDERED__@@",C="delete",A=5,w=1<<A,F=w-1,x={},I={value:!1},R={value:!1};function P(o){return o.value=!1,o}function M(o){o&&(o.value=!0)}function O(){}function N(o,c){c=c||0;for(var d=Math.max(0,o.length-c),g=new Array(d),m=0;m<d;m++)g[m]=o[m+c];return g}function U(o){return o.size===void 0&&(o.size=o.__iterate(K)),o.size}function H(o,c){if(typeof c!="number"){var d=c>>>0;if(""+d!==c||d===4294967295)return NaN;c=d}return c<0?U(o)+c:c}function K(){return!0}function V(o,c,d){return(o===0||d!==void 0&&o<=-d)&&(c===void 0||d!==void 0&&c>=d)}function G(o,c){return J(o,c,0)}function W(o,c){return J(o,c,c)}function J(o,c,d){return o===void 0?d:o<0?Math.max(0,c+o):c===void 0?o:Math.min(c,o)}var Y=0,ne=1,Q=2,we=typeof Symbol=="function"&&Symbol.iterator,Le="@@iterator",Ee=we||Le;function ae(o){this.next=o}ae.prototype.toString=function(){return"[Iterator]"},ae.KEYS=Y,ae.VALUES=ne,ae.ENTRIES=Q,ae.prototype.inspect=ae.prototype.toSource=function(){return this.toString()},ae.prototype[Ee]=function(){return this};function pe(o,c,d,g){var m=o===0?c:o===1?d:[c,d];return g?g.value=m:g={value:m,done:!1},g}function Te(){return{value:void 0,done:!0}}function ze(o){return!!Pe(o)}function ce(o){return o&&typeof o.next=="function"}function ge(o){var c=Pe(o);return c&&c.call(o)}function Pe(o){var c=o&&(we&&o[we]||o[Le]);if(typeof c=="function")return c}function Ue(o){return o&&typeof o.length=="number"}a(ke,n);function ke(o){return o==null?fe():l(o)?o.toSeq():Se(o)}ke.of=function(){return ke(arguments)},ke.prototype.toSeq=function(){return this},ke.prototype.toString=function(){return this.__toString("Seq {","}")},ke.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},ke.prototype.__iterate=function(o,c){return Ne(this,o,c,!0)},ke.prototype.__iterator=function(o,c){return We(this,o,c,!0)},a(ve,ke);function ve(o){return o==null?fe().toKeyedSeq():l(o)?f(o)?o.toSeq():o.fromEntrySeq():de(o)}ve.prototype.toKeyedSeq=function(){return this},a(Ae,ke);function Ae(o){return o==null?fe():l(o)?f(o)?o.entrySeq():o.toIndexedSeq():Me(o)}Ae.of=function(){return Ae(arguments)},Ae.prototype.toIndexedSeq=function(){return this},Ae.prototype.toString=function(){return this.__toString("Seq [","]")},Ae.prototype.__iterate=function(o,c){return Ne(this,o,c,!1)},Ae.prototype.__iterator=function(o,c){return We(this,o,c,!1)},a(qe,ke);function qe(o){return(o==null?fe():l(o)?f(o)?o.entrySeq():o:Me(o)).toSetSeq()}qe.of=function(){return qe(arguments)},qe.prototype.toSetSeq=function(){return this},ke.isSeq=je,ke.Keyed=ve,ke.Set=qe,ke.Indexed=Ae;var Fe="@@__IMMUTABLE_SEQ__@@";ke.prototype[Fe]=!0,a(ie,Ae);function ie(o){this._array=o,this.size=o.length}ie.prototype.get=function(o,c){return this.has(o)?this._array[H(this,o)]:c},ie.prototype.__iterate=function(o,c){for(var d=this._array,g=d.length-1,m=0;m<=g;m++)if(o(d[c?g-m:m],m,this)===!1)return m+1;return m},ie.prototype.__iterator=function(o,c){var d=this._array,g=d.length-1,m=0;return new ae(function(){return m>g?Te():pe(o,m,d[c?g-m++:m++])})},a(me,ve);function me(o){var c=Object.keys(o);this._object=o,this._keys=c,this.size=c.length}me.prototype.get=function(o,c){return c!==void 0&&!this.has(o)?c:this._object[o]},me.prototype.has=function(o){return this._object.hasOwnProperty(o)},me.prototype.__iterate=function(o,c){for(var d=this._object,g=this._keys,m=g.length-1,S=0;S<=m;S++){var D=g[c?m-S:S];if(o(d[D],D,this)===!1)return S+1}return S},me.prototype.__iterator=function(o,c){var d=this._object,g=this._keys,m=g.length-1,S=0;return new ae(function(){var D=g[c?m-S:S];return S++>m?Te():pe(o,D,d[D])})},me.prototype[b]=!0,a(De,Ae);function De(o){this._iterable=o,this.size=o.length||o.size}De.prototype.__iterateUncached=function(o,c){if(c)return this.cacheResult().__iterate(o,c);var d=this._iterable,g=ge(d),m=0;if(ce(g))for(var S;!(S=g.next()).done&&o(S.value,m++,this)!==!1;);return m},De.prototype.__iteratorUncached=function(o,c){if(c)return this.cacheResult().__iterator(o,c);var d=this._iterable,g=ge(d);if(!ce(g))return new ae(Te);var m=0;return new ae(function(){var S=g.next();return S.done?S:pe(o,m++,S.value)})},a(le,Ae);function le(o){this._iterator=o,this._iteratorCache=[]}le.prototype.__iterateUncached=function(o,c){if(c)return this.cacheResult().__iterate(o,c);for(var d=this._iterator,g=this._iteratorCache,m=0;m<g.length;)if(o(g[m],m++,this)===!1)return m;for(var S;!(S=d.next()).done;){var D=S.value;if(g[m]=D,o(D,m++,this)===!1)break}return m},le.prototype.__iteratorUncached=function(o,c){if(c)return this.cacheResult().__iterator(o,c);var d=this._iterator,g=this._iteratorCache,m=0;return new ae(function(){if(m>=g.length){var S=d.next();if(S.done)return S;g[m]=S.value}return pe(o,m,g[m++])})};function je(o){return!!(o&&o[Fe])}var se;function fe(){return se||(se=new ie([]))}function de(o){var c=Array.isArray(o)?new ie(o).fromEntrySeq():ce(o)?new le(o).fromEntrySeq():ze(o)?new De(o).fromEntrySeq():typeof o=="object"?new me(o):void 0;if(!c)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+o);return c}function Me(o){var c=at(o);if(!c)throw new TypeError("Expected Array or iterable object of values: "+o);return c}function Se(o){var c=at(o)||typeof o=="object"&&new me(o);if(!c)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+o);return c}function at(o){return Ue(o)?new ie(o):ce(o)?new le(o):ze(o)?new De(o):void 0}function Ne(o,c,d,g){var m=o._cache;if(m){for(var S=m.length-1,D=0;D<=S;D++){var k=m[d?S-D:D];if(c(k[1],g?k[0]:D,o)===!1)return D+1}return D}return o.__iterateUncached(c,d)}function We(o,c,d,g){var m=o._cache;if(m){var S=m.length-1,D=0;return new ae(function(){var k=m[d?S-D:D];return D++>S?Te():pe(c,g?k[0]:D-1,k[1])})}return o.__iteratorUncached(c,d)}function Be(o,c){return c?it(c,o,"",{"":o}):gt(o)}function it(o,c,d,g){return Array.isArray(c)?o.call(g,d,Ae(c).map(function(m,S){return it(o,m,S,c)})):Nt(c)?o.call(g,d,ve(c).map(function(m,S){return it(o,m,S,c)})):c}function gt(o){return Array.isArray(o)?Ae(o).map(gt).toList():Nt(o)?ve(o).map(gt).toMap():o}function Nt(o){return o&&(o.constructor===Object||o.constructor===void 0)}function Ve(o,c){if(o===c||o!==o&&c!==c)return!0;if(!o||!c)return!1;if(typeof o.valueOf=="function"&&typeof c.valueOf=="function"){if(o=o.valueOf(),c=c.valueOf(),o===c||o!==o&&c!==c)return!0;if(!o||!c)return!1}return!!(typeof o.equals=="function"&&typeof c.equals=="function"&&o.equals(c))}function Jr(o,c){if(o===c)return!0;if(!l(c)||o.size!==void 0&&c.size!==void 0&&o.size!==c.size||o.__hash!==void 0&&c.__hash!==void 0&&o.__hash!==c.__hash||f(o)!==f(c)||p(o)!==p(c)||h(o)!==h(c))return!1;if(o.size===0&&c.size===0)return!0;var d=!v(o);if(h(o)){var g=o.entries();return c.every(function(L,$){var j=g.next().value;return j&&Ve(j[1],L)&&(d||Ve(j[0],$))})&&g.next().done}var m=!1;if(o.size===void 0)if(c.size===void 0)typeof o.cacheResult=="function"&&o.cacheResult();else{m=!0;var S=o;o=c,c=S}var D=!0,k=c.__iterate(function(L,$){if(d?!o.has(L):m?!Ve(L,o.get($,x)):!Ve(o.get($,x),L))return D=!1,!1});return D&&o.size===k}a(re,Ae);function re(o,c){if(!(this instanceof re))return new re(o,c);if(this._value=o,this.size=c===void 0?1/0:Math.max(0,c),this.size===0){if(Qe)return Qe;Qe=this}}re.prototype.toString=function(){return this.size===0?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},re.prototype.get=function(o,c){return this.has(o)?this._value:c},re.prototype.includes=function(o){return Ve(this._value,o)},re.prototype.slice=function(o,c){var d=this.size;return V(o,c,d)?this:new re(this._value,W(c,d)-G(o,d))},re.prototype.reverse=function(){return this},re.prototype.indexOf=function(o){return Ve(this._value,o)?0:-1},re.prototype.lastIndexOf=function(o){return Ve(this._value,o)?this.size:-1},re.prototype.__iterate=function(o,c){for(var d=0;d<this.size;d++)if(o(this._value,d,this)===!1)return d+1;return d},re.prototype.__iterator=function(o,c){var d=this,g=0;return new ae(function(){return g<d.size?pe(o,g++,d._value):Te()})},re.prototype.equals=function(o){return o instanceof re?Ve(this._value,o._value):Jr(o)};var Qe;function dt(o,c){if(!o)throw new Error(c)}a(tt,Ae);function tt(o,c,d){if(!(this instanceof tt))return new tt(o,c,d);if(dt(d!==0,"Cannot step a Range by 0"),o=o||0,c===void 0&&(c=1/0),d=d===void 0?1:Math.abs(d),c<o&&(d=-d),this._start=o,this._end=c,this._step=d,this.size=Math.max(0,Math.ceil((c-o)/d-1)+1),this.size===0){if(Br)return Br;Br=this}}tt.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"},tt.prototype.get=function(o,c){return this.has(o)?this._start+H(this,o)*this._step:c},tt.prototype.includes=function(o){var c=(o-this._start)/this._step;return c>=0&&c<this.size&&c===Math.floor(c)},tt.prototype.slice=function(o,c){return V(o,c,this.size)?this:(o=G(o,this.size),c=W(c,this.size),c<=o?new tt(0,0):new tt(this.get(o,this._end),this.get(c,this._end),this._step))},tt.prototype.indexOf=function(o){var c=o-this._start;if(c%this._step===0){var d=c/this._step;if(d>=0&&d<this.size)return d}return-1},tt.prototype.lastIndexOf=function(o){return this.indexOf(o)},tt.prototype.__iterate=function(o,c){for(var d=this.size-1,g=this._step,m=c?this._start+d*g:this._start,S=0;S<=d;S++){if(o(m,S,this)===!1)return S+1;m+=c?-g:g}return S},tt.prototype.__iterator=function(o,c){var d=this.size-1,g=this._step,m=c?this._start+d*g:this._start,S=0;return new ae(function(){var D=m;return m+=c?-g:g,S>d?Te():pe(o,S++,D)})},tt.prototype.equals=function(o){return o instanceof tt?this._start===o._start&&this._end===o._end&&this._step===o._step:Jr(this,o)};var Br;a(gr,n);function gr(){throw TypeError("Abstract")}a(In,gr);function In(){}a(Qr,gr);function Qr(){}a(Aa,gr);function Aa(){}gr.Keyed=In,gr.Indexed=Qr,gr.Set=Aa;var Mn=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(c,d){c=c|0,d=d|0;var g=c&65535,m=d&65535;return g*m+((c>>>16)*m+g*(d>>>16)<<16>>>0)|0};function no(o){return o>>>1&1073741824|o&3221225471}function At(o){if(o===!1||o===null||o===void 0||typeof o.valueOf=="function"&&(o=o.valueOf(),o===!1||o===null||o===void 0))return 0;if(o===!0)return 1;var c=typeof o;if(c==="number"){var d=o|0;for(d!==o&&(d^=o*4294967295);o>4294967295;)o/=4294967295,d^=o;return no(d)}if(c==="string")return o.length>Rv?Bv(o):ao(o);if(typeof o.hashCode=="function")return o.hashCode();if(c==="object")return Iv(o);if(typeof o.toString=="function")return ao(o.toString());throw new Error("Value type "+c+" cannot be hashed.")}function Bv(o){var c=lo[o];return c===void 0&&(c=ao(o),uo===Pv&&(uo=0,lo={}),uo++,lo[o]=c),c}function ao(o){for(var c=0,d=0;d<o.length;d++)c=31*c+o.charCodeAt(d)|0;return no(c)}function Iv(o){var c;if(io&&(c=oo.get(o),c!==void 0)||(c=o[Ir],c!==void 0)||!Xu&&(c=o.propertyIsEnumerable&&o.propertyIsEnumerable[Ir],c!==void 0||(c=Mv(o),c!==void 0)))return c;if(c=++so,so&1073741824&&(so=0),io)oo.set(o,c);else{if(Gu!==void 0&&Gu(o)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(Xu)Object.defineProperty(o,Ir,{enumerable:!1,configurable:!1,writable:!1,value:c});else if(o.propertyIsEnumerable!==void 0&&o.propertyIsEnumerable===o.constructor.prototype.propertyIsEnumerable)o.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},o.propertyIsEnumerable[Ir]=c;else if(o.nodeType!==void 0)o[Ir]=c;else throw new Error("Unable to set a non-enumerable property on object.")}return c}var Gu=Object.isExtensible,Xu=function(){try{return Object.defineProperty({},"@",{}),!0}catch{return!1}}();function Mv(o){if(o&&o.nodeType>0)switch(o.nodeType){case 1:return o.uniqueID;case 9:return o.documentElement&&o.documentElement.uniqueID}}var io=typeof WeakMap=="function",oo;io&&(oo=new WeakMap);var so=0,Ir="__immutablehash__";typeof Symbol=="function"&&(Ir=Symbol(Ir));var Rv=16,Pv=255,uo=0,lo={};function Dt(o){dt(o!==1/0,"Cannot perform this action with an infinite size.")}a($e,In);function $e(o){return o==null?zt():co(o)&&!h(o)?o:zt().withMutations(function(c){var d=i(o);Dt(d.size),d.forEach(function(g,m){return c.set(m,g)})})}$e.prototype.toString=function(){return this.__toString("Map {","}")},$e.prototype.get=function(o,c){return this._root?this._root.get(0,void 0,o,c):c},$e.prototype.set=function(o,c){return Qu(this,o,c)},$e.prototype.setIn=function(o,c){return this.updateIn(o,x,function(){return c})},$e.prototype.remove=function(o){return Qu(this,o,x)},$e.prototype.deleteIn=function(o){return this.updateIn(o,function(){return x})},$e.prototype.update=function(o,c,d){return arguments.length===1?o(this):this.updateIn([o],c,d)},$e.prototype.updateIn=function(o,c,d){d||(d=c,c=void 0);var g=al(this,Al(o),c,d);return g===x?void 0:g},$e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):zt()},$e.prototype.merge=function(){return Da(this,void 0,arguments)},$e.prototype.mergeWith=function(o){var c=r.call(arguments,1);return Da(this,o,c)},$e.prototype.mergeIn=function(o){var c=r.call(arguments,1);return this.updateIn(o,zt(),function(d){return typeof d.merge=="function"?d.merge.apply(d,c):c[c.length-1]})},$e.prototype.mergeDeep=function(){return Da(this,tl,arguments)},$e.prototype.mergeDeepWith=function(o){var c=r.call(arguments,1);return Da(this,rl(o),c)},$e.prototype.mergeDeepIn=function(o){var c=r.call(arguments,1);return this.updateIn(o,zt(),function(d){return typeof d.mergeDeep=="function"?d.mergeDeep.apply(d,c):c[c.length-1]})},$e.prototype.sort=function(o){return rt(sn(this,o))},$e.prototype.sortBy=function(o,c){return rt(sn(this,c,o))},$e.prototype.withMutations=function(o){var c=this.asMutable();return o(c),c.wasAltered()?c.__ensureOwner(this.__ownerID):this},$e.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new O)},$e.prototype.asImmutable=function(){return this.__ensureOwner()},$e.prototype.wasAltered=function(){return this.__altered},$e.prototype.__iterator=function(o,c){return new fo(this,o,c)},$e.prototype.__iterate=function(o,c){var d=this,g=0;return this._root&&this._root.iterate(function(m){return g++,o(m[1],m[0],d)},c),g},$e.prototype.__ensureOwner=function(o){return o===this.__ownerID?this:o?ho(this.size,this._root,o,this.__hash):(this.__ownerID=o,this.__altered=!1,this)};function co(o){return!!(o&&o[Yu])}$e.isMap=co;var Yu="@@__IMMUTABLE_MAP__@@",Re=$e.prototype;Re[Yu]=!0,Re[C]=Re.remove,Re.removeIn=Re.deleteIn;function Rn(o,c){this.ownerID=o,this.entries=c}Rn.prototype.get=function(o,c,d,g){for(var m=this.entries,S=0,D=m.length;S<D;S++)if(Ve(d,m[S][0]))return m[S][1];return g},Rn.prototype.update=function(o,c,d,g,m,S,D){for(var k=m===x,L=this.entries,$=0,j=L.length;$<j&&!Ve(g,L[$][0]);$++);var Z=$<j;if(Z?L[$][1]===m:k)return this;if(M(D),(k||!Z)&&M(S),!(k&&L.length===1)){if(!Z&&!k&&L.length>=Uv)return Lv(o,L,g,m);var ee=o&&o===this.ownerID,_e=ee?L:N(L);return Z?k?$===j-1?_e.pop():_e[$]=_e.pop():_e[$]=[g,m]:_e.push([g,m]),ee?(this.entries=_e,this):new Rn(o,_e)}};function en(o,c,d){this.ownerID=o,this.bitmap=c,this.nodes=d}en.prototype.get=function(o,c,d,g){c===void 0&&(c=At(d));var m=1<<((o===0?c:c>>>o)&F),S=this.bitmap;return S&m?this.nodes[il(S&m-1)].get(o+A,c,d,g):g},en.prototype.update=function(o,c,d,g,m,S,D){d===void 0&&(d=At(g));var k=(c===0?d:d>>>c)&F,L=1<<k,$=this.bitmap,j=($&L)!==0;if(!j&&m===x)return this;var Z=il($&L-1),ee=this.nodes,_e=j?ee[Z]:void 0,Oe=go(_e,o,c+A,d,g,m,S,D);if(Oe===_e)return this;if(!j&&Oe&&ee.length>=Hv)return $v(o,ee,$,k,Oe);if(j&&!Oe&&ee.length===2&&el(ee[Z^1]))return ee[Z^1];if(j&&Oe&&ee.length===1&&el(Oe))return Oe;var Je=o&&o===this.ownerID,$t=j?Oe?$:$^L:$|L,Wt=j?Oe?ol(ee,Z,Oe,Je):zv(ee,Z,Je):Kv(ee,Z,Oe,Je);return Je?(this.bitmap=$t,this.nodes=Wt,this):new en(o,$t,Wt)};function Pn(o,c,d){this.ownerID=o,this.count=c,this.nodes=d}Pn.prototype.get=function(o,c,d,g){c===void 0&&(c=At(d));var m=(o===0?c:c>>>o)&F,S=this.nodes[m];return S?S.get(o+A,c,d,g):g},Pn.prototype.update=function(o,c,d,g,m,S,D){d===void 0&&(d=At(g));var k=(c===0?d:d>>>c)&F,L=m===x,$=this.nodes,j=$[k];if(L&&!j)return this;var Z=go(j,o,c+A,d,g,m,S,D);if(Z===j)return this;var ee=this.count;if(!j)ee++;else if(!Z&&(ee--,ee<jv))return Nv(o,$,ee,k);var _e=o&&o===this.ownerID,Oe=ol($,k,Z,_e);return _e?(this.count=ee,this.nodes=Oe,this):new Pn(o,ee,Oe)};function tn(o,c,d){this.ownerID=o,this.keyHash=c,this.entries=d}tn.prototype.get=function(o,c,d,g){for(var m=this.entries,S=0,D=m.length;S<D;S++)if(Ve(d,m[S][0]))return m[S][1];return g},tn.prototype.update=function(o,c,d,g,m,S,D){d===void 0&&(d=At(g));var k=m===x;if(d!==this.keyHash)return k?this:(M(D),M(S),vo(this,o,c,d,[g,m]));for(var L=this.entries,$=0,j=L.length;$<j&&!Ve(g,L[$][0]);$++);var Z=$<j;if(Z?L[$][1]===m:k)return this;if(M(D),(k||!Z)&&M(S),k&&j===2)return new ar(o,this.keyHash,L[$^1]);var ee=o&&o===this.ownerID,_e=ee?L:N(L);return Z?k?$===j-1?_e.pop():_e[$]=_e.pop():_e[$]=[g,m]:_e.push([g,m]),ee?(this.entries=_e,this):new tn(o,this.keyHash,_e)};function ar(o,c,d){this.ownerID=o,this.keyHash=c,this.entry=d}ar.prototype.get=function(o,c,d,g){return Ve(d,this.entry[0])?this.entry[1]:g},ar.prototype.update=function(o,c,d,g,m,S,D){var k=m===x,L=Ve(g,this.entry[0]);if(L?m===this.entry[1]:k)return this;if(M(D),k){M(S);return}return L?o&&o===this.ownerID?(this.entry[1]=m,this):new ar(o,this.keyHash,[g,m]):(M(S),vo(this,o,c,At(g),[g,m]))},Rn.prototype.iterate=tn.prototype.iterate=function(o,c){for(var d=this.entries,g=0,m=d.length-1;g<=m;g++)if(o(d[c?m-g:g])===!1)return!1},en.prototype.iterate=Pn.prototype.iterate=function(o,c){for(var d=this.nodes,g=0,m=d.length-1;g<=m;g++){var S=d[c?m-g:g];if(S&&S.iterate(o,c)===!1)return!1}},ar.prototype.iterate=function(o,c){return o(this.entry)},a(fo,ae);function fo(o,c,d){this._type=c,this._reverse=d,this._stack=o._root&&Zu(o._root)}fo.prototype.next=function(){for(var o=this._type,c=this._stack;c;){var d=c.node,g=c.index++,m;if(d.entry){if(g===0)return po(o,d.entry)}else if(d.entries){if(m=d.entries.length-1,g<=m)return po(o,d.entries[this._reverse?m-g:g])}else if(m=d.nodes.length-1,g<=m){var S=d.nodes[this._reverse?m-g:g];if(S){if(S.entry)return po(o,S.entry);c=this._stack=Zu(S,c)}continue}c=this._stack=this._stack.__prev}return Te()};function po(o,c){return pe(o,c[0],c[1])}function Zu(o,c){return{node:o,index:0,__prev:c}}function ho(o,c,d,g){var m=Object.create(Re);return m.size=o,m._root=c,m.__ownerID=d,m.__hash=g,m.__altered=!1,m}var Ju;function zt(){return Ju||(Ju=ho(0))}function Qu(o,c,d){var g,m;if(o._root){var S=P(I),D=P(R);if(g=go(o._root,o.__ownerID,0,void 0,c,d,S,D),!D.value)return o;m=o.size+(S.value?d===x?-1:1:0)}else{if(d===x)return o;m=1,g=new Rn(o.__ownerID,[[c,d]])}return o.__ownerID?(o.size=m,o._root=g,o.__hash=void 0,o.__altered=!0,o):g?ho(m,g):zt()}function go(o,c,d,g,m,S,D,k){return o?o.update(c,d,g,m,S,D,k):S===x?o:(M(k),M(D),new ar(c,g,[m,S]))}function el(o){return o.constructor===ar||o.constructor===tn}function vo(o,c,d,g,m){if(o.keyHash===g)return new tn(c,g,[o.entry,m]);var S=(d===0?o.keyHash:o.keyHash>>>d)&F,D=(d===0?g:g>>>d)&F,k,L=S===D?[vo(o,c,d+A,g,m)]:(k=new ar(c,g,m),S<D?[o,k]:[k,o]);return new en(c,1<<S|1<<D,L)}function Lv(o,c,d,g){o||(o=new O);for(var m=new ar(o,At(d),[d,g]),S=0;S<c.length;S++){var D=c[S];m=m.update(o,0,void 0,D[0],D[1])}return m}function Nv(o,c,d,g){for(var m=0,S=0,D=new Array(d),k=0,L=1,$=c.length;k<$;k++,L<<=1){var j=c[k];j!==void 0&&k!==g&&(m|=L,D[S++]=j)}return new en(o,m,D)}function $v(o,c,d,g,m){for(var S=0,D=new Array(w),k=0;d!==0;k++,d>>>=1)D[k]=d&1?c[S++]:void 0;return D[g]=m,new Pn(o,S+1,D)}function Da(o,c,d){for(var g=[],m=0;m<d.length;m++){var S=d[m],D=i(S);l(S)||(D=D.map(function(k){return Be(k)})),g.push(D)}return nl(o,c,g)}function tl(o,c,d){return o&&o.mergeDeep&&l(c)?o.mergeDeep(c):Ve(o,c)?o:c}function rl(o){return function(c,d,g){if(c&&c.mergeDeepWith&&l(d))return c.mergeDeepWith(o,d);var m=o(c,d,g);return Ve(c,m)?c:m}}function nl(o,c,d){return d=d.filter(function(g){return g.size!==0}),d.length===0?o:o.size===0&&!o.__ownerID&&d.length===1?o.constructor(d[0]):o.withMutations(function(g){for(var m=c?function(D,k){g.update(k,x,function(L){return L===x?D:c(L,D,k)})}:function(D,k){g.set(k,D)},S=0;S<d.length;S++)d[S].forEach(m)})}function al(o,c,d,g){var m=o===x,S=c.next();if(S.done){var D=m?d:o,k=g(D);return k===D?o:k}dt(m||o&&o.set,"invalid keyPath");var L=S.value,$=m?x:o.get(L,x),j=al($,c,d,g);return j===$?o:j===x?o.remove(L):(m?zt():o).set(L,j)}function il(o){return o=o-(o>>1&1431655765),o=(o&858993459)+(o>>2&858993459),o=o+(o>>4)&252645135,o=o+(o>>8),o=o+(o>>16),o&127}function ol(o,c,d,g){var m=g?o:N(o);return m[c]=d,m}function Kv(o,c,d,g){var m=o.length+1;if(g&&c+1===m)return o[c]=d,o;for(var S=new Array(m),D=0,k=0;k<m;k++)k===c?(S[k]=d,D=-1):S[k]=o[k+D];return S}function zv(o,c,d){var g=o.length-1;if(d&&c===g)return o.pop(),o;for(var m=new Array(g),S=0,D=0;D<g;D++)D===c&&(S=1),m[D]=o[D+S];return m}var Uv=w/4,Hv=w/2,jv=w/4;a(Ye,Qr);function Ye(o){var c=mo();if(o==null)return c;if(sl(o))return o;var d=s(o),g=d.size;return g===0?c:(Dt(g),g>0&&g<w?Nn(0,g,A,null,new vr(d.toArray())):c.withMutations(function(m){m.setSize(g),d.forEach(function(S,D){return m.set(D,S)})}))}Ye.of=function(){return this(arguments)},Ye.prototype.toString=function(){return this.__toString("List [","]")},Ye.prototype.get=function(o,c){if(o=H(this,o),o>=0&&o<this.size){o+=this._origin;var d=fl(this,o);return d&&d.array[o&F]}return c},Ye.prototype.set=function(o,c){return Wv(this,o,c)},Ye.prototype.remove=function(o){return this.has(o)?o===0?this.shift():o===this.size-1?this.pop():this.splice(o,1):this},Ye.prototype.insert=function(o,c){return this.splice(o,0,c)},Ye.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=A,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):mo()},Ye.prototype.push=function(){var o=arguments,c=this.size;return this.withMutations(function(d){mr(d,0,c+o.length);for(var g=0;g<o.length;g++)d.set(c+g,o[g])})},Ye.prototype.pop=function(){return mr(this,0,-1)},Ye.prototype.unshift=function(){var o=arguments;return this.withMutations(function(c){mr(c,-o.length);for(var d=0;d<o.length;d++)c.set(d,o[d])})},Ye.prototype.shift=function(){return mr(this,1)},Ye.prototype.merge=function(){return xa(this,void 0,arguments)},Ye.prototype.mergeWith=function(o){var c=r.call(arguments,1);return xa(this,o,c)},Ye.prototype.mergeDeep=function(){return xa(this,tl,arguments)},Ye.prototype.mergeDeepWith=function(o){var c=r.call(arguments,1);return xa(this,rl(o),c)},Ye.prototype.setSize=function(o){return mr(this,0,o)},Ye.prototype.slice=function(o,c){var d=this.size;return V(o,c,d)?this:mr(this,G(o,d),W(c,d))},Ye.prototype.__iterator=function(o,c){var d=0,g=ll(this,c);return new ae(function(){var m=g();return m===Ln?Te():pe(o,d++,m)})},Ye.prototype.__iterate=function(o,c){for(var d=0,g=ll(this,c),m;(m=g())!==Ln&&o(m,d++,this)!==!1;);return d},Ye.prototype.__ensureOwner=function(o){return o===this.__ownerID?this:o?Nn(this._origin,this._capacity,this._level,this._root,this._tail,o,this.__hash):(this.__ownerID=o,this)};function sl(o){return!!(o&&o[ul])}Ye.isList=sl;var ul="@@__IMMUTABLE_LIST__@@",vt=Ye.prototype;vt[ul]=!0,vt[C]=vt.remove,vt.setIn=Re.setIn,vt.deleteIn=vt.removeIn=Re.removeIn,vt.update=Re.update,vt.updateIn=Re.updateIn,vt.mergeIn=Re.mergeIn,vt.mergeDeepIn=Re.mergeDeepIn,vt.withMutations=Re.withMutations,vt.asMutable=Re.asMutable,vt.asImmutable=Re.asImmutable,vt.wasAltered=Re.wasAltered;function vr(o,c){this.array=o,this.ownerID=c}vr.prototype.removeBefore=function(o,c,d){if(d===c?1<<c:this.array.length===0)return this;var g=d>>>c&F;if(g>=this.array.length)return new vr([],o);var m=g===0,S;if(c>0){var D=this.array[g];if(S=D&&D.removeBefore(o,c-A,d),S===D&&m)return this}if(m&&!S)return this;var k=rn(this,o);if(!m)for(var L=0;L<g;L++)k.array[L]=void 0;return S&&(k.array[g]=S),k},vr.prototype.removeAfter=function(o,c,d){if(d===(c?1<<c:0)||this.array.length===0)return this;var g=d-1>>>c&F;if(g>=this.array.length)return this;var m;if(c>0){var S=this.array[g];if(m=S&&S.removeAfter(o,c-A,d),m===S&&g===this.array.length-1)return this}var D=rn(this,o);return D.array.splice(g+1),m&&(D.array[g]=m),D};var Ln={};function ll(o,c){var d=o._origin,g=o._capacity,m=$n(g),S=o._tail;return D(o._root,o._level,0);function D($,j,Z){return j===0?k($,Z):L($,j,Z)}function k($,j){var Z=j===m?S&&S.array:$&&$.array,ee=j>d?0:d-j,_e=g-j;return _e>w&&(_e=w),function(){if(ee===_e)return Ln;var Oe=c?--_e:ee++;return Z&&Z[Oe]}}function L($,j,Z){var ee,_e=$&&$.array,Oe=Z>d?0:d-Z>>j,Je=(g-Z>>j)+1;return Je>w&&(Je=w),function(){do{if(ee){var $t=ee();if($t!==Ln)return $t;ee=null}if(Oe===Je)return Ln;var Wt=c?--Je:Oe++;ee=D(_e&&_e[Wt],j-A,Z+(Wt<<j))}while(!0)}}}function Nn(o,c,d,g,m,S,D){var k=Object.create(vt);return k.size=c-o,k._origin=o,k._capacity=c,k._level=d,k._root=g,k._tail=m,k.__ownerID=S,k.__hash=D,k.__altered=!1,k}var cl;function mo(){return cl||(cl=Nn(0,0,A))}function Wv(o,c,d){if(c=H(o,c),c!==c)return o;if(c>=o.size||c<0)return o.withMutations(function(D){c<0?mr(D,c).set(0,d):mr(D,0,c+1).set(c,d)});c+=o._origin;var g=o._tail,m=o._root,S=P(R);return c>=$n(o._capacity)?g=yo(g,o.__ownerID,0,c,d,S):m=yo(m,o.__ownerID,o._level,c,d,S),S.value?o.__ownerID?(o._root=m,o._tail=g,o.__hash=void 0,o.__altered=!0,o):Nn(o._origin,o._capacity,o._level,m,g):o}function yo(o,c,d,g,m,S){var D=g>>>d&F,k=o&&D<o.array.length;if(!k&&m===void 0)return o;var L;if(d>0){var $=o&&o.array[D],j=yo($,c,d-A,g,m,S);return j===$?o:(L=rn(o,c),L.array[D]=j,L)}return k&&o.array[D]===m?o:(M(S),L=rn(o,c),m===void 0&&D===L.array.length-1?L.array.pop():L.array[D]=m,L)}function rn(o,c){return c&&o&&c===o.ownerID?o:new vr(o?o.array.slice():[],c)}function fl(o,c){if(c>=$n(o._capacity))return o._tail;if(c<1<<o._level+A){for(var d=o._root,g=o._level;d&&g>0;)d=d.array[c>>>g&F],g-=A;return d}}function mr(o,c,d){c!==void 0&&(c=c|0),d!==void 0&&(d=d|0);var g=o.__ownerID||new O,m=o._origin,S=o._capacity,D=m+c,k=d===void 0?S:d<0?S+d:m+d;if(D===m&&k===S)return o;if(D>=k)return o.clear();for(var L=o._level,$=o._root,j=0;D+j<0;)$=new vr($&&$.array.length?[void 0,$]:[],g),L+=A,j+=1<<L;j&&(D+=j,m+=j,k+=j,S+=j);for(var Z=$n(S),ee=$n(k);ee>=1<<L+A;)$=new vr($&&$.array.length?[$]:[],g),L+=A;var _e=o._tail,Oe=ee<Z?fl(o,k-1):ee>Z?new vr([],g):_e;if(_e&&ee>Z&&D<S&&_e.array.length){$=rn($,g);for(var Je=$,$t=L;$t>A;$t-=A){var Wt=Z>>>$t&F;Je=Je.array[Wt]=rn(Je.array[Wt],g)}Je.array[Z>>>A&F]=_e}if(k<S&&(Oe=Oe&&Oe.removeAfter(g,0,k)),D>=ee)D-=ee,k-=ee,L=A,$=null,Oe=Oe&&Oe.removeBefore(g,0,D);else if(D>m||ee<Z){for(j=0;$;){var Ma=D>>>L&F;if(Ma!==ee>>>L&F)break;Ma&&(j+=(1<<L)*Ma),L-=A,$=$.array[Ma]}$&&D>m&&($=$.removeBefore(g,L,D-j)),$&&ee<Z&&($=$.removeAfter(g,L,ee-j)),j&&(D-=j,k-=j)}return o.__ownerID?(o.size=k-D,o._origin=D,o._capacity=k,o._level=L,o._root=$,o._tail=Oe,o.__hash=void 0,o.__altered=!0,o):Nn(D,k,L,$,Oe)}function xa(o,c,d){for(var g=[],m=0,S=0;S<d.length;S++){var D=d[S],k=s(D);k.size>m&&(m=k.size),l(D)||(k=k.map(function(L){return Be(L)})),g.push(k)}return m>o.size&&(o=o.setSize(m)),nl(o,c,g)}function $n(o){return o<w?0:o-1>>>A<<A}a(rt,$e);function rt(o){return o==null?Ta():dl(o)?o:Ta().withMutations(function(c){var d=i(o);Dt(d.size),d.forEach(function(g,m){return c.set(m,g)})})}rt.of=function(){return this(arguments)},rt.prototype.toString=function(){return this.__toString("OrderedMap {","}")},rt.prototype.get=function(o,c){var d=this._map.get(o);return d!==void 0?this._list.get(d)[1]:c},rt.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):Ta()},rt.prototype.set=function(o,c){return hl(this,o,c)},rt.prototype.remove=function(o){return hl(this,o,x)},rt.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},rt.prototype.__iterate=function(o,c){var d=this;return this._list.__iterate(function(g){return g&&o(g[1],g[0],d)},c)},rt.prototype.__iterator=function(o,c){return this._list.fromEntrySeq().__iterator(o,c)},rt.prototype.__ensureOwner=function(o){if(o===this.__ownerID)return this;var c=this._map.__ensureOwner(o),d=this._list.__ensureOwner(o);return o?Eo(c,d,o,this.__hash):(this.__ownerID=o,this._map=c,this._list=d,this)};function dl(o){return co(o)&&h(o)}rt.isOrderedMap=dl,rt.prototype[b]=!0,rt.prototype[C]=rt.prototype.remove;function Eo(o,c,d,g){var m=Object.create(rt.prototype);return m.size=o?o.size:0,m._map=o,m._list=c,m.__ownerID=d,m.__hash=g,m}var pl;function Ta(){return pl||(pl=Eo(zt(),mo()))}function hl(o,c,d){var g=o._map,m=o._list,S=g.get(c),D=S!==void 0,k,L;if(d===x){if(!D)return o;m.size>=w&&m.size>=g.size*2?(L=m.filter(function($,j){return $!==void 0&&S!==j}),k=L.toKeyedSeq().map(function($){return $[0]}).flip().toMap(),o.__ownerID&&(k.__ownerID=L.__ownerID=o.__ownerID)):(k=g.remove(c),L=S===m.size-1?m.pop():m.set(S,void 0))}else if(D){if(d===m.get(S)[1])return o;k=g,L=m.set(S,[c,d])}else k=g.set(c,m.size),L=m.set(m.size,[c,d]);return o.__ownerID?(o.size=k.size,o._map=k,o._list=L,o.__hash=void 0,o):Eo(k,L)}a(kt,ve);function kt(o,c){this._iter=o,this._useKeys=c,this.size=o.size}kt.prototype.get=function(o,c){return this._iter.get(o,c)},kt.prototype.has=function(o){return this._iter.has(o)},kt.prototype.valueSeq=function(){return this._iter.valueSeq()},kt.prototype.reverse=function(){var o=this,c=_o(this,!0);return this._useKeys||(c.valueSeq=function(){return o._iter.toSeq().reverse()}),c},kt.prototype.map=function(o,c){var d=this,g=vl(this,o,c);return this._useKeys||(g.valueSeq=function(){return d._iter.toSeq().map(o,c)}),g},kt.prototype.__iterate=function(o,c){var d=this,g;return this._iter.__iterate(this._useKeys?function(m,S){return o(m,S,d)}:(g=c?Sl(this):0,function(m){return o(m,c?--g:g++,d)}),c)},kt.prototype.__iterator=function(o,c){if(this._useKeys)return this._iter.__iterator(o,c);var d=this._iter.__iterator(ne,c),g=c?Sl(this):0;return new ae(function(){var m=d.next();return m.done?m:pe(o,c?--g:g++,m.value,m)})},kt.prototype[b]=!0,a(nn,Ae);function nn(o){this._iter=o,this.size=o.size}nn.prototype.includes=function(o){return this._iter.includes(o)},nn.prototype.__iterate=function(o,c){var d=this,g=0;return this._iter.__iterate(function(m){return o(m,g++,d)},c)},nn.prototype.__iterator=function(o,c){var d=this._iter.__iterator(ne,c),g=0;return new ae(function(){var m=d.next();return m.done?m:pe(o,g++,m.value,m)})},a(an,qe);function an(o){this._iter=o,this.size=o.size}an.prototype.has=function(o){return this._iter.includes(o)},an.prototype.__iterate=function(o,c){var d=this;return this._iter.__iterate(function(g){return o(g,g,d)},c)},an.prototype.__iterator=function(o,c){var d=this._iter.__iterator(ne,c);return new ae(function(){var g=d.next();return g.done?g:pe(o,g.value,g.value,g)})},a(on,ve);function on(o){this._iter=o,this.size=o.size}on.prototype.entrySeq=function(){return this._iter.toSeq()},on.prototype.__iterate=function(o,c){var d=this;return this._iter.__iterate(function(g){if(g){bl(g);var m=l(g);return o(m?g.get(1):g[1],m?g.get(0):g[0],d)}},c)},on.prototype.__iterator=function(o,c){var d=this._iter.__iterator(ne,c);return new ae(function(){for(;;){var g=d.next();if(g.done)return g;var m=g.value;if(m){bl(m);var S=l(m);return pe(o,S?m.get(0):m[0],S?m.get(1):m[1],g)}}})},nn.prototype.cacheResult=kt.prototype.cacheResult=an.prototype.cacheResult=on.prototype.cacheResult=Co;function gl(o){var c=Ut(o);return c._iter=o,c.size=o.size,c.flip=function(){return o},c.reverse=function(){var d=o.reverse.apply(this);return d.flip=function(){return o.reverse()},d},c.has=function(d){return o.includes(d)},c.includes=function(d){return o.has(d)},c.cacheResult=Co,c.__iterateUncached=function(d,g){var m=this;return o.__iterate(function(S,D){return d(D,S,m)!==!1},g)},c.__iteratorUncached=function(d,g){if(d===Q){var m=o.__iterator(d,g);return new ae(function(){var S=m.next();if(!S.done){var D=S.value[0];S.value[0]=S.value[1],S.value[1]=D}return S})}return o.__iterator(d===ne?Y:ne,g)},c}function vl(o,c,d){var g=Ut(o);return g.size=o.size,g.has=function(m){return o.has(m)},g.get=function(m,S){var D=o.get(m,x);return D===x?S:c.call(d,D,m,o)},g.__iterateUncached=function(m,S){var D=this;return o.__iterate(function(k,L,$){return m(c.call(d,k,L,$),L,D)!==!1},S)},g.__iteratorUncached=function(m,S){var D=o.__iterator(Q,S);return new ae(function(){var k=D.next();if(k.done)return k;var L=k.value,$=L[0];return pe(m,$,c.call(d,L[1],$,o),k)})},g}function _o(o,c){var d=Ut(o);return d._iter=o,d.size=o.size,d.reverse=function(){return o},o.flip&&(d.flip=function(){var g=gl(o);return g.reverse=function(){return o.flip()},g}),d.get=function(g,m){return o.get(c?g:-1-g,m)},d.has=function(g){return o.has(c?g:-1-g)},d.includes=function(g){return o.includes(g)},d.cacheResult=Co,d.__iterate=function(g,m){var S=this;return o.__iterate(function(D,k){return g(D,k,S)},!m)},d.__iterator=function(g,m){return o.__iterator(g,!m)},d}function ml(o,c,d,g){var m=Ut(o);return g&&(m.has=function(S){var D=o.get(S,x);return D!==x&&!!c.call(d,D,S,o)},m.get=function(S,D){var k=o.get(S,x);return k!==x&&c.call(d,k,S,o)?k:D}),m.__iterateUncached=function(S,D){var k=this,L=0;return o.__iterate(function($,j,Z){if(c.call(d,$,j,Z))return L++,S($,g?j:L-1,k)},D),L},m.__iteratorUncached=function(S,D){var k=o.__iterator(Q,D),L=0;return new ae(function(){for(;;){var $=k.next();if($.done)return $;var j=$.value,Z=j[0],ee=j[1];if(c.call(d,ee,Z,o))return pe(S,g?Z:L++,ee,$)}})},m}function qv(o,c,d){var g=$e().asMutable();return o.__iterate(function(m,S){g.update(c.call(d,m,S,o),0,function(D){return D+1})}),g.asImmutable()}function Vv(o,c,d){var g=f(o),m=(h(o)?rt():$e()).asMutable();o.__iterate(function(D,k){m.update(c.call(d,D,k,o),function(L){return L=L||[],L.push(g?[k,D]:D),L})});var S=Cl(o);return m.map(function(D){return Ge(o,S(D))})}function bo(o,c,d,g){var m=o.size;if(c!==void 0&&(c=c|0),d!==void 0&&(d=d|0),V(c,d,m))return o;var S=G(c,m),D=W(d,m);if(S!==S||D!==D)return bo(o.toSeq().cacheResult(),c,d,g);var k=D-S,L;k===k&&(L=k<0?0:k);var $=Ut(o);return $.size=L===0?L:o.size&&L||void 0,!g&&je(o)&&L>=0&&($.get=function(j,Z){return j=H(this,j),j>=0&&j<L?o.get(j+S,Z):Z}),$.__iterateUncached=function(j,Z){var ee=this;if(L===0)return 0;if(Z)return this.cacheResult().__iterate(j,Z);var _e=0,Oe=!0,Je=0;return o.__iterate(function($t,Wt){if(!(Oe&&(Oe=_e++<S)))return Je++,j($t,g?Wt:Je-1,ee)!==!1&&Je!==L}),Je},$.__iteratorUncached=function(j,Z){if(L!==0&&Z)return this.cacheResult().__iterator(j,Z);var ee=L!==0&&o.__iterator(j,Z),_e=0,Oe=0;return new ae(function(){for(;_e++<S;)ee.next();if(++Oe>L)return Te();var Je=ee.next();return g||j===ne?Je:j===Y?pe(j,Oe-1,void 0,Je):pe(j,Oe-1,Je.value[1],Je)})},$}function Gv(o,c,d){var g=Ut(o);return g.__iterateUncached=function(m,S){var D=this;if(S)return this.cacheResult().__iterate(m,S);var k=0;return o.__iterate(function(L,$,j){return c.call(d,L,$,j)&&++k&&m(L,$,D)}),k},g.__iteratorUncached=function(m,S){var D=this;if(S)return this.cacheResult().__iterator(m,S);var k=o.__iterator(Q,S),L=!0;return new ae(function(){if(!L)return Te();var $=k.next();if($.done)return $;var j=$.value,Z=j[0],ee=j[1];return c.call(d,ee,Z,D)?m===Q?$:pe(m,Z,ee,$):(L=!1,Te())})},g}function yl(o,c,d,g){var m=Ut(o);return m.__iterateUncached=function(S,D){var k=this;if(D)return this.cacheResult().__iterate(S,D);var L=!0,$=0;return o.__iterate(function(j,Z,ee){if(!(L&&(L=c.call(d,j,Z,ee))))return $++,S(j,g?Z:$-1,k)}),$},m.__iteratorUncached=function(S,D){var k=this;if(D)return this.cacheResult().__iterator(S,D);var L=o.__iterator(Q,D),$=!0,j=0;return new ae(function(){var Z,ee,_e;do{if(Z=L.next(),Z.done)return g||S===ne?Z:S===Y?pe(S,j++,void 0,Z):pe(S,j++,Z.value[1],Z);var Oe=Z.value;ee=Oe[0],_e=Oe[1],$&&($=c.call(d,_e,ee,k))}while($);return S===Q?Z:pe(S,ee,_e,Z)})},m}function Xv(o,c){var d=f(o),g=[o].concat(c).map(function(D){return l(D)?d&&(D=i(D)):D=d?de(D):Me(Array.isArray(D)?D:[D]),D}).filter(function(D){return D.size!==0});if(g.length===0)return o;if(g.length===1){var m=g[0];if(m===o||d&&f(m)||p(o)&&p(m))return m}var S=new ie(g);return d?S=S.toKeyedSeq():p(o)||(S=S.toSetSeq()),S=S.flatten(!0),S.size=g.reduce(function(D,k){if(D!==void 0){var L=k.size;if(L!==void 0)return D+L}},0),S}function El(o,c,d){var g=Ut(o);return g.__iterateUncached=function(m,S){var D=0,k=!1;function L($,j){var Z=this;$.__iterate(function(ee,_e){return(!c||j<c)&&l(ee)?L(ee,j+1):m(ee,d?_e:D++,Z)===!1&&(k=!0),!k},S)}return L(o,0),D},g.__iteratorUncached=function(m,S){var D=o.__iterator(m,S),k=[],L=0;return new ae(function(){for(;D;){var $=D.next();if($.done!==!1){D=k.pop();continue}var j=$.value;if(m===Q&&(j=j[1]),(!c||k.length<c)&&l(j))k.push(D),D=j.__iterator(m,S);else return d?$:pe(m,L++,j,$)}return Te()})},g}function Yv(o,c,d){var g=Cl(o);return o.toSeq().map(function(m,S){return g(c.call(d,m,S,o))}).flatten(!0)}function Zv(o,c){var d=Ut(o);return d.size=o.size&&o.size*2-1,d.__iterateUncached=function(g,m){var S=this,D=0;return o.__iterate(function(k,L){return(!D||g(c,D++,S)!==!1)&&g(k,D++,S)!==!1},m),D},d.__iteratorUncached=function(g,m){var S=o.__iterator(ne,m),D=0,k;return new ae(function(){return(!k||D%2)&&(k=S.next(),k.done)?k:D%2?pe(g,D++,c):pe(g,D++,k.value,k)})},d}function sn(o,c,d){c||(c=wl);var g=f(o),m=0,S=o.toSeq().map(function(D,k){return[k,D,m++,d?d(D,k,o):D]}).toArray();return S.sort(function(D,k){return c(D[3],k[3])||D[2]-k[2]}).forEach(g?function(D,k){S[k].length=2}:function(D,k){S[k]=D[1]}),g?ve(S):p(o)?Ae(S):qe(S)}function Fa(o,c,d){if(c||(c=wl),d){var g=o.toSeq().map(function(m,S){return[m,d(m,S,o)]}).reduce(function(m,S){return _l(c,m[1],S[1])?S:m});return g&&g[0]}else return o.reduce(function(m,S){return _l(c,m,S)?S:m})}function _l(o,c,d){var g=o(d,c);return g===0&&d!==c&&(d==null||d!==d)||g>0}function So(o,c,d){var g=Ut(o);return g.size=new ie(d).map(function(m){return m.size}).min(),g.__iterate=function(m,S){for(var D=this.__iterator(ne,S),k,L=0;!(k=D.next()).done&&m(k.value,L++,this)!==!1;);return L},g.__iteratorUncached=function(m,S){var D=d.map(function($){return $=n($),ge(S?$.reverse():$)}),k=0,L=!1;return new ae(function(){var $;return L||($=D.map(function(j){return j.next()}),L=$.some(function(j){return j.done})),L?Te():pe(m,k++,c.apply(null,$.map(function(j){return j.value})))})},g}function Ge(o,c){return je(o)?c:o.constructor(c)}function bl(o){if(o!==Object(o))throw new TypeError("Expected [K, V] tuple: "+o)}function Sl(o){return Dt(o.size),U(o)}function Cl(o){return f(o)?i:p(o)?s:u}function Ut(o){return Object.create((f(o)?ve:p(o)?Ae:qe).prototype)}function Co(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):ke.prototype.cacheResult.call(this)}function wl(o,c){return o>c?1:o<c?-1:0}function Al(o){var c=ge(o);if(!c){if(!Ue(o))throw new TypeError("Expected iterable or array-like: "+o);c=ge(n(o))}return c}a(xt,In);function xt(o,c){var d,g=function(D){if(D instanceof g)return D;if(!(this instanceof g))return new g(D);if(!d){d=!0;var k=Object.keys(o);Jv(m,k),m.size=k.length,m._name=c,m._keys=k,m._defaultValues=o}this._map=$e(D)},m=g.prototype=Object.create(lt);return m.constructor=g,g}xt.prototype.toString=function(){return this.__toString(Dl(this)+" {","}")},xt.prototype.has=function(o){return this._defaultValues.hasOwnProperty(o)},xt.prototype.get=function(o,c){if(!this.has(o))return c;var d=this._defaultValues[o];return this._map?this._map.get(o,d):d},xt.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var o=this.constructor;return o._empty||(o._empty=Oa(this,zt()))},xt.prototype.set=function(o,c){if(!this.has(o))throw new Error('Cannot set unknown key "'+o+'" on '+Dl(this));var d=this._map&&this._map.set(o,c);return this.__ownerID||d===this._map?this:Oa(this,d)},xt.prototype.remove=function(o){if(!this.has(o))return this;var c=this._map&&this._map.remove(o);return this.__ownerID||c===this._map?this:Oa(this,c)},xt.prototype.wasAltered=function(){return this._map.wasAltered()},xt.prototype.__iterator=function(o,c){var d=this;return i(this._defaultValues).map(function(g,m){return d.get(m)}).__iterator(o,c)},xt.prototype.__iterate=function(o,c){var d=this;return i(this._defaultValues).map(function(g,m){return d.get(m)}).__iterate(o,c)},xt.prototype.__ensureOwner=function(o){if(o===this.__ownerID)return this;var c=this._map&&this._map.__ensureOwner(o);return o?Oa(this,c,o):(this.__ownerID=o,this._map=c,this)};var lt=xt.prototype;lt[C]=lt.remove,lt.deleteIn=lt.removeIn=Re.removeIn,lt.merge=Re.merge,lt.mergeWith=Re.mergeWith,lt.mergeIn=Re.mergeIn,lt.mergeDeep=Re.mergeDeep,lt.mergeDeepWith=Re.mergeDeepWith,lt.mergeDeepIn=Re.mergeDeepIn,lt.setIn=Re.setIn,lt.update=Re.update,lt.updateIn=Re.updateIn,lt.withMutations=Re.withMutations,lt.asMutable=Re.asMutable,lt.asImmutable=Re.asImmutable;function Oa(o,c,d){var g=Object.create(Object.getPrototypeOf(o));return g._map=c,g.__ownerID=d,g}function Dl(o){return o._name||o.constructor.name||"Record"}function Jv(o,c){try{c.forEach(Qv.bind(void 0,o))}catch{}}function Qv(o,c){Object.defineProperty(o,c,{get:function(){return this.get(c)},set:function(d){dt(this.__ownerID,"Cannot set on an immutable record."),this.set(c,d)}})}a(Ze,Aa);function Ze(o){return o==null?Do():wo(o)&&!h(o)?o:Do().withMutations(function(c){var d=u(o);Dt(d.size),d.forEach(function(g){return c.add(g)})})}Ze.of=function(){return this(arguments)},Ze.fromKeys=function(o){return this(i(o).keySeq())},Ze.prototype.toString=function(){return this.__toString("Set {","}")},Ze.prototype.has=function(o){return this._map.has(o)},Ze.prototype.add=function(o){return Ao(this,this._map.set(o,!0))},Ze.prototype.remove=function(o){return Ao(this,this._map.remove(o))},Ze.prototype.clear=function(){return Ao(this,this._map.clear())},Ze.prototype.union=function(){var o=r.call(arguments,0);return o=o.filter(function(c){return c.size!==0}),o.length===0?this:this.size===0&&!this.__ownerID&&o.length===1?this.constructor(o[0]):this.withMutations(function(c){for(var d=0;d<o.length;d++)u(o[d]).forEach(function(g){return c.add(g)})})},Ze.prototype.intersect=function(){var o=r.call(arguments,0);if(o.length===0)return this;o=o.map(function(d){return u(d)});var c=this;return this.withMutations(function(d){c.forEach(function(g){o.every(function(m){return m.includes(g)})||d.remove(g)})})},Ze.prototype.subtract=function(){var o=r.call(arguments,0);if(o.length===0)return this;o=o.map(function(d){return u(d)});var c=this;return this.withMutations(function(d){c.forEach(function(g){o.some(function(m){return m.includes(g)})&&d.remove(g)})})},Ze.prototype.merge=function(){return this.union.apply(this,arguments)},Ze.prototype.mergeWith=function(o){var c=r.call(arguments,1);return this.union.apply(this,c)},Ze.prototype.sort=function(o){return Ht(sn(this,o))},Ze.prototype.sortBy=function(o,c){return Ht(sn(this,c,o))},Ze.prototype.wasAltered=function(){return this._map.wasAltered()},Ze.prototype.__iterate=function(o,c){var d=this;return this._map.__iterate(function(g,m){return o(m,m,d)},c)},Ze.prototype.__iterator=function(o,c){return this._map.map(function(d,g){return g}).__iterator(o,c)},Ze.prototype.__ensureOwner=function(o){if(o===this.__ownerID)return this;var c=this._map.__ensureOwner(o);return o?this.__make(c,o):(this.__ownerID=o,this._map=c,this)};function wo(o){return!!(o&&o[xl])}Ze.isSet=wo;var xl="@@__IMMUTABLE_SET__@@",Tt=Ze.prototype;Tt[xl]=!0,Tt[C]=Tt.remove,Tt.mergeDeep=Tt.merge,Tt.mergeDeepWith=Tt.mergeWith,Tt.withMutations=Re.withMutations,Tt.asMutable=Re.asMutable,Tt.asImmutable=Re.asImmutable,Tt.__empty=Do,Tt.__make=Tl;function Ao(o,c){return o.__ownerID?(o.size=c.size,o._map=c,o):c===o._map?o:c.size===0?o.__empty():o.__make(c)}function Tl(o,c){var d=Object.create(Tt);return d.size=o?o.size:0,d._map=o,d.__ownerID=c,d}var Fl;function Do(){return Fl||(Fl=Tl(zt()))}a(Ht,Ze);function Ht(o){return o==null?xo():Ol(o)?o:xo().withMutations(function(c){var d=u(o);Dt(d.size),d.forEach(function(g){return c.add(g)})})}Ht.of=function(){return this(arguments)},Ht.fromKeys=function(o){return this(i(o).keySeq())},Ht.prototype.toString=function(){return this.__toString("OrderedSet {","}")};function Ol(o){return wo(o)&&h(o)}Ht.isOrderedSet=Ol;var ka=Ht.prototype;ka[b]=!0,ka.__empty=xo,ka.__make=kl;function kl(o,c){var d=Object.create(ka);return d.size=o?o.size:0,d._map=o,d.__ownerID=c,d}var Bl;function xo(){return Bl||(Bl=kl(Ta()))}a(ot,Qr);function ot(o){return o==null?To():Il(o)?o:To().unshiftAll(o)}ot.of=function(){return this(arguments)},ot.prototype.toString=function(){return this.__toString("Stack [","]")},ot.prototype.get=function(o,c){var d=this._head;for(o=H(this,o);d&&o--;)d=d.next;return d?d.value:c},ot.prototype.peek=function(){return this._head&&this._head.value},ot.prototype.push=function(){if(arguments.length===0)return this;for(var o=this.size+arguments.length,c=this._head,d=arguments.length-1;d>=0;d--)c={value:arguments[d],next:c};return this.__ownerID?(this.size=o,this._head=c,this.__hash=void 0,this.__altered=!0,this):Kn(o,c)},ot.prototype.pushAll=function(o){if(o=s(o),o.size===0)return this;Dt(o.size);var c=this.size,d=this._head;return o.reverse().forEach(function(g){c++,d={value:g,next:d}}),this.__ownerID?(this.size=c,this._head=d,this.__hash=void 0,this.__altered=!0,this):Kn(c,d)},ot.prototype.pop=function(){return this.slice(1)},ot.prototype.unshift=function(){return this.push.apply(this,arguments)},ot.prototype.unshiftAll=function(o){return this.pushAll(o)},ot.prototype.shift=function(){return this.pop.apply(this,arguments)},ot.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):To()},ot.prototype.slice=function(o,c){if(V(o,c,this.size))return this;var d=G(o,this.size),g=W(c,this.size);if(g!==this.size)return Qr.prototype.slice.call(this,o,c);for(var m=this.size-d,S=this._head;d--;)S=S.next;return this.__ownerID?(this.size=m,this._head=S,this.__hash=void 0,this.__altered=!0,this):Kn(m,S)},ot.prototype.__ensureOwner=function(o){return o===this.__ownerID?this:o?Kn(this.size,this._head,o,this.__hash):(this.__ownerID=o,this.__altered=!1,this)},ot.prototype.__iterate=function(o,c){if(c)return this.reverse().__iterate(o);for(var d=0,g=this._head;g&&o(g.value,d++,this)!==!1;)g=g.next;return d},ot.prototype.__iterator=function(o,c){if(c)return this.reverse().__iterator(o);var d=0,g=this._head;return new ae(function(){if(g){var m=g.value;return g=g.next,pe(o,d++,m)}return Te()})};function Il(o){return!!(o&&o[Ml])}ot.isStack=Il;var Ml="@@__IMMUTABLE_STACK__@@",un=ot.prototype;un[Ml]=!0,un.withMutations=Re.withMutations,un.asMutable=Re.asMutable,un.asImmutable=Re.asImmutable,un.wasAltered=Re.wasAltered;function Kn(o,c,d,g){var m=Object.create(un);return m.size=o,m._head=c,m.__ownerID=d,m.__hash=g,m.__altered=!1,m}var Rl;function To(){return Rl||(Rl=Kn(0))}function jt(o,c){var d=function(g){o.prototype[g]=c[g]};return Object.keys(c).forEach(d),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(c).forEach(d),o}n.Iterator=ae,jt(n,{toArray:function(){Dt(this.size);var o=new Array(this.size||0);return this.valueSeq().__iterate(function(c,d){o[d]=c}),o},toIndexedSeq:function(){return new nn(this)},toJS:function(){return this.toSeq().map(function(o){return o&&typeof o.toJS=="function"?o.toJS():o}).__toJS()},toJSON:function(){return this.toSeq().map(function(o){return o&&typeof o.toJSON=="function"?o.toJSON():o}).__toJS()},toKeyedSeq:function(){return new kt(this,!0)},toMap:function(){return $e(this.toKeyedSeq())},toObject:function(){Dt(this.size);var o={};return this.__iterate(function(c,d){o[d]=c}),o},toOrderedMap:function(){return rt(this.toKeyedSeq())},toOrderedSet:function(){return Ht(f(this)?this.valueSeq():this)},toSet:function(){return Ze(f(this)?this.valueSeq():this)},toSetSeq:function(){return new an(this)},toSeq:function(){return p(this)?this.toIndexedSeq():f(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return ot(f(this)?this.valueSeq():this)},toList:function(){return Ye(f(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(o,c){return this.size===0?o+c:o+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+c},concat:function(){var o=r.call(arguments,0);return Ge(this,Xv(this,o))},includes:function(o){return this.some(function(c){return Ve(c,o)})},entries:function(){return this.__iterator(Q)},every:function(o,c){Dt(this.size);var d=!0;return this.__iterate(function(g,m,S){if(!o.call(c,g,m,S))return d=!1,!1}),d},filter:function(o,c){return Ge(this,ml(this,o,c,!0))},find:function(o,c,d){var g=this.findEntry(o,c);return g?g[1]:d},findEntry:function(o,c){var d;return this.__iterate(function(g,m,S){if(o.call(c,g,m,S))return d=[m,g],!1}),d},findLastEntry:function(o,c){return this.toSeq().reverse().findEntry(o,c)},forEach:function(o,c){return Dt(this.size),this.__iterate(c?o.bind(c):o)},join:function(o){Dt(this.size),o=o!==void 0?""+o:",";var c="",d=!0;return this.__iterate(function(g){d?d=!1:c+=o,c+=g!=null?g.toString():""}),c},keys:function(){return this.__iterator(Y)},map:function(o,c){return Ge(this,vl(this,o,c))},reduce:function(o,c,d){Dt(this.size);var g,m;return arguments.length<2?m=!0:g=c,this.__iterate(function(S,D,k){m?(m=!1,g=S):g=o.call(d,g,S,D,k)}),g},reduceRight:function(o,c,d){var g=this.toKeyedSeq().reverse();return g.reduce.apply(g,arguments)},reverse:function(){return Ge(this,_o(this,!0))},slice:function(o,c){return Ge(this,bo(this,o,c,!0))},some:function(o,c){return!this.every(Ia(o),c)},sort:function(o){return Ge(this,sn(this,o))},values:function(){return this.__iterator(ne)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(o,c){return U(o?this.toSeq().filter(o,c):this)},countBy:function(o,c){return qv(this,o,c)},equals:function(o){return Jr(this,o)},entrySeq:function(){var o=this;if(o._cache)return new ie(o._cache);var c=o.toSeq().map(tm).toIndexedSeq();return c.fromEntrySeq=function(){return o.toSeq()},c},filterNot:function(o,c){return this.filter(Ia(o),c)},findLast:function(o,c,d){return this.toKeyedSeq().reverse().find(o,c,d)},first:function(){return this.find(K)},flatMap:function(o,c){return Ge(this,Yv(this,o,c))},flatten:function(o){return Ge(this,El(this,o,!0))},fromEntrySeq:function(){return new on(this)},get:function(o,c){return this.find(function(d,g){return Ve(g,o)},void 0,c)},getIn:function(o,c){for(var d=this,g=Al(o),m;!(m=g.next()).done;){var S=m.value;if(d=d&&d.get?d.get(S,x):x,d===x)return c}return d},groupBy:function(o,c){return Vv(this,o,c)},has:function(o){return this.get(o,x)!==x},hasIn:function(o){return this.getIn(o,x)!==x},isSubset:function(o){return o=typeof o.includes=="function"?o:n(o),this.every(function(c){return o.includes(c)})},isSuperset:function(o){return o=typeof o.isSubset=="function"?o:n(o),o.isSubset(this)},keySeq:function(){return this.toSeq().map(em).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(o){return Fa(this,o)},maxBy:function(o,c){return Fa(this,c,o)},min:function(o){return Fa(this,o?Pl(o):Nl)},minBy:function(o,c){return Fa(this,c?Pl(c):Nl,o)},rest:function(){return this.slice(1)},skip:function(o){return this.slice(Math.max(0,o))},skipLast:function(o){return Ge(this,this.toSeq().reverse().skip(o).reverse())},skipWhile:function(o,c){return Ge(this,yl(this,o,c,!0))},skipUntil:function(o,c){return this.skipWhile(Ia(o),c)},sortBy:function(o,c){return Ge(this,sn(this,c,o))},take:function(o){return this.slice(0,Math.max(0,o))},takeLast:function(o){return Ge(this,this.toSeq().reverse().take(o).reverse())},takeWhile:function(o,c){return Ge(this,Gv(this,o,c))},takeUntil:function(o,c){return this.takeWhile(Ia(o),c)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=nm(this))}});var pt=n.prototype;pt[E]=!0,pt[Ee]=pt.values,pt.__toJS=pt.toArray,pt.__toStringMapper=Ll,pt.inspect=pt.toSource=function(){return this.toString()},pt.chain=pt.flatMap,pt.contains=pt.includes,function(){try{Object.defineProperty(pt,"length",{get:function(){if(!n.noLengthWarning){var o;try{throw new Error}catch(c){o=c.stack}if(o.indexOf("_wrapObject")===-1)return console&&console.warn&&console.warn("iterable.length has been deprecated, use iterable.size or iterable.count(). This warning will become a silent error in a future version. "+o),this.size}}})}catch{}}(),jt(i,{flip:function(){return Ge(this,gl(this))},findKey:function(o,c){var d=this.findEntry(o,c);return d&&d[0]},findLastKey:function(o,c){return this.toSeq().reverse().findKey(o,c)},keyOf:function(o){return this.findKey(function(c){return Ve(c,o)})},lastKeyOf:function(o){return this.findLastKey(function(c){return Ve(c,o)})},mapEntries:function(o,c){var d=this,g=0;return Ge(this,this.toSeq().map(function(m,S){return o.call(c,[S,m],g++,d)}).fromEntrySeq())},mapKeys:function(o,c){var d=this;return Ge(this,this.toSeq().flip().map(function(g,m){return o.call(c,g,m,d)}).flip())}});var Ba=i.prototype;Ba[y]=!0,Ba[Ee]=pt.entries,Ba.__toJS=pt.toObject,Ba.__toStringMapper=function(o,c){return JSON.stringify(c)+": "+Ll(o)},jt(s,{toKeyedSeq:function(){return new kt(this,!1)},filter:function(o,c){return Ge(this,ml(this,o,c,!1))},findIndex:function(o,c){var d=this.findEntry(o,c);return d?d[0]:-1},indexOf:function(o){var c=this.toKeyedSeq().keyOf(o);return c===void 0?-1:c},lastIndexOf:function(o){var c=this.toKeyedSeq().reverse().keyOf(o);return c===void 0?-1:c},reverse:function(){return Ge(this,_o(this,!1))},slice:function(o,c){return Ge(this,bo(this,o,c,!1))},splice:function(o,c){var d=arguments.length;if(c=Math.max(c|0,0),d===0||d===2&&!c)return this;o=G(o,o<0?this.count():this.size);var g=this.slice(0,o);return Ge(this,d===1?g:g.concat(N(arguments,2),this.slice(o+c)))},findLastIndex:function(o,c){var d=this.toKeyedSeq().findLastKey(o,c);return d===void 0?-1:d},first:function(){return this.get(0)},flatten:function(o){return Ge(this,El(this,o,!1))},get:function(o,c){return o=H(this,o),o<0||this.size===1/0||this.size!==void 0&&o>this.size?c:this.find(function(d,g){return g===o},void 0,c)},has:function(o){return o=H(this,o),o>=0&&(this.size!==void 0?this.size===1/0||o<this.size:this.indexOf(o)!==-1)},interpose:function(o){return Ge(this,Zv(this,o))},interleave:function(){var o=[this].concat(N(arguments)),c=So(this.toSeq(),Ae.of,o),d=c.flatten(!0);return c.size&&(d.size=c.size*o.length),Ge(this,d)},last:function(){return this.get(-1)},skipWhile:function(o,c){return Ge(this,yl(this,o,c,!1))},zip:function(){var o=[this].concat(N(arguments));return Ge(this,So(this,rm,o))},zipWith:function(o){var c=N(arguments);return c[0]=this,Ge(this,So(this,o,c))}}),s.prototype[_]=!0,s.prototype[b]=!0,jt(u,{get:function(o,c){return this.has(o)?o:c},includes:function(o){return this.has(o)},keySeq:function(){return this.valueSeq()}}),u.prototype.has=pt.includes,jt(ve,i.prototype),jt(Ae,s.prototype),jt(qe,u.prototype),jt(In,i.prototype),jt(Qr,s.prototype),jt(Aa,u.prototype);function em(o,c){return c}function tm(o,c){return[c,o]}function Ia(o){return function(){return!o.apply(this,arguments)}}function Pl(o){return function(){return-o.apply(this,arguments)}}function Ll(o){return typeof o=="string"?JSON.stringify(o):o}function rm(){return N(arguments)}function Nl(o,c){return o<c?1:o>c?-1:0}function nm(o){if(o.size===1/0)return 0;var c=h(o),d=f(o),g=c?1:0,m=o.__iterate(d?c?function(S,D){g=31*g+$l(At(S),At(D))|0}:function(S,D){g=g+$l(At(S),At(D))|0}:c?function(S){g=31*g+At(S)|0}:function(S){g=g+At(S)|0});return am(m,g)}function am(o,c){return c=Mn(c,3432918353),c=Mn(c<<15|c>>>-15,461845907),c=Mn(c<<13|c>>>-13,5),c=(c+3864292196|0)^o,c=Mn(c^c>>>16,2246822507),c=Mn(c^c>>>13,3266489909),c=no(c^c>>>16),c}function $l(o,c){return o^c+2654435769+(o<<6)+(o>>2)|0}var im={Iterable:n,Seq:ke,Collection:gr,Map:$e,OrderedMap:rt,List:Ye,Stack:ot,Set:Ze,OrderedSet:Ht,Record:xt,Range:tt,Repeat:re,is:Ve,fromJS:Be};return im})})(V0);const ec=he;var G0=he,X0=G0.OrderedMap,Y0={createFromArray:function(t){return X0(t.map(function(r){return[r.getKey(),r]}))}},va=Y0;function Z0(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var mu=he,Fs=mu.Map,Os=mu.OrderedSet,J0=mu.Record,Kp=Os(),zp={style:Kp,entity:null},Q0=J0(zp),yu=function(e){Z0(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.getStyle=function(){return this.get("style")},r.getEntity=function(){return this.get("entity")},r.hasStyle=function(n){return this.getStyle().includes(n)},t.applyStyle=function(n,i){var s=n.set("style",n.getStyle().add(i));return t.create(s)},t.removeStyle=function(n,i){var s=n.set("style",n.getStyle().remove(i));return t.create(s)},t.applyEntity=function(n,i){var s=n.getEntity()===i?n:n.set("entity",i);return t.create(s)},t.create=function(n){if(!n)return Eu;var i={style:Kp,entity:null},s=Fs(i).merge(n),u=Mo.get(s);if(u)return u;var l=new t(s);return Mo=Mo.set(s,l),l},t.fromJS=function(n){var i=n.style,s=n.entity;return new t({style:Array.isArray(i)?Os(i):i,entity:Array.isArray(s)?Os(s):s})},t}(Q0),Eu=new yu,Mo=Fs([[Fs(zp),Eu]]);yu.EMPTY=Eu;var Rt=yu;function e1(e,t,r,a){if(e.size){var n=0;e.reduce(function(i,s,u){return t(i,s)||(r(i)&&a(n,u),n=u),s}),r(e.last())&&a(n,e.count())}}var ma=e1;function t1(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var r1=Rt,tc=ma,ya=he,Up=ya.List,n1=ya.Map,a1=ya.OrderedSet,i1=ya.Record,o1=ya.Repeat,s1=a1(),u1={key:"",type:"unstyled",text:"",characterList:Up(),depth:0,data:n1()},l1=i1(u1),c1=function(t){if(!t)return t;var r=t.characterList,a=t.text;return a&&!r&&(t.characterList=Up(o1(r1.EMPTY,a.length))),t},f1=function(e){t1(t,e);function t(a){return e.call(this,c1(a))||this}var r=t.prototype;return r.getKey=function(){return this.get("key")},r.getType=function(){return this.get("type")},r.getText=function(){return this.get("text")},r.getCharacterList=function(){return this.get("characterList")},r.getLength=function(){return this.getText().length},r.getDepth=function(){return this.get("depth")},r.getData=function(){return this.get("data")},r.getInlineStyleAt=function(n){var i=this.getCharacterList().get(n);return i?i.getStyle():s1},r.getEntityAt=function(n){var i=this.getCharacterList().get(n);return i?i.getEntity():null},r.findStyleRanges=function(n,i){tc(this.getCharacterList(),d1,n,i)},r.findEntityRanges=function(n,i){tc(this.getCharacterList(),p1,n,i)},t}(l1);function d1(e,t){return e.getStyle()===t.getStyle()}function p1(e,t){return e.getEntity()===t.getEntity()}var qr=f1;function h1(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var g1=Rt,rc=ma,Ea=he,ks=Ea.List,v1=Ea.Map,m1=Ea.OrderedSet,y1=Ea.Record,E1=Ea.Repeat,_1=m1(),nc={parent:null,characterList:ks(),data:v1(),depth:0,key:"",text:"",type:"unstyled",children:ks(),prevSibling:null,nextSibling:null},b1=function(t,r){return t.getStyle()===r.getStyle()},S1=function(t,r){return t.getEntity()===r.getEntity()},C1=function(t){if(!t)return t;var r=t.characterList,a=t.text;return a&&!r&&(t.characterList=ks(E1(g1.EMPTY,a.length))),t},w1=function(e){h1(t,e);function t(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:nc;return e.call(this,C1(a))||this}var r=t.prototype;return r.getKey=function(){return this.get("key")},r.getType=function(){return this.get("type")},r.getText=function(){return this.get("text")},r.getCharacterList=function(){return this.get("characterList")},r.getLength=function(){return this.getText().length},r.getDepth=function(){return this.get("depth")},r.getData=function(){return this.get("data")},r.getInlineStyleAt=function(n){var i=this.getCharacterList().get(n);return i?i.getStyle():_1},r.getEntityAt=function(n){var i=this.getCharacterList().get(n);return i?i.getEntity():null},r.getChildKeys=function(){return this.get("children")},r.getParentKey=function(){return this.get("parent")},r.getPrevSiblingKey=function(){return this.get("prevSibling")},r.getNextSiblingKey=function(){return this.get("nextSibling")},r.findStyleRanges=function(n,i){rc(this.getCharacterList(),b1,n,i)},r.findEntityRanges=function(n,i){rc(this.getCharacterList(),S1,n,i)},t}(y1(nc)),Pt=w1,ac=Rt,A1=he,D1=A1.Map,x1={add:function(t,r,a){return ic(t,r,a,!0)},remove:function(t,r,a){return ic(t,r,a,!1)}};function ic(e,t,r,a){var n=e.getBlockMap(),i=t.getStartKey(),s=t.getStartOffset(),u=t.getEndKey(),l=t.getEndOffset(),f=n.skipUntil(function(p,v){return v===i}).takeUntil(function(p,v){return v===u}).concat(D1([[u,n.get(u)]])).map(function(p,v){var h,E;i===u?(h=s,E=l):(h=v===i?s:0,E=v===u?l:p.getLength());for(var y=p.getCharacterList(),_;h<E;)_=y.get(h),y=y.set(h,a?ac.applyStyle(_,r):ac.removeStyle(_,r)),h++;return p.set("characterList",y)});return e.merge({blockMap:n.merge(f),selectionBefore:t,selectionAfter:t})}var T1=x1,F1=Rt;function O1(e,t,r,a){for(var n=t,i=e.getCharacterList();n<r;)i=i.set(n,F1.applyEntity(i.get(n),a)),n++;return e.set("characterList",i)}var k1=O1,B1=k1,I1=he;function M1(e,t,r){var a=e.getBlockMap(),n=t.getStartKey(),i=t.getStartOffset(),s=t.getEndKey(),u=t.getEndOffset(),l=a.skipUntil(function(f,p){return p===n}).takeUntil(function(f,p){return p===s}).toOrderedMap().merge(I1.OrderedMap([[s,a.get(s)]])).map(function(f,p){var v=p===n?i:0,h=p===s?u:f.getLength();return B1(f,v,h,r)});return e.merge({blockMap:a.merge(l),selectionBefore:t,selectionAfter:t})}var R1=M1,P1={getRemovalRange:function(t,r,a,n,i){var s=a.split(" ");s=s.map(function(b,C){if(i==="forward"){if(C>0)return" "+b}else if(C<s.length-1)return b+" ";return b});for(var u=n,l,f,p=null,v=null,h=0;h<s.length;h++){if(f=s[h],l=u+f.length,t<l&&u<r)p!==null||(p=u),v=l;else if(p!==null)break;u=l}var E=n+a.length,y=p===n,_=v===E;return(!y&&_||y&&!_)&&(i==="forward"?v!==E&&v++:p!==n&&p--),{start:p,end:v}}},L1=P1,N1=function(e){if(e===void 0)throw new Error("invariant(...): Second argument must be a string.")};function $1(e,t){for(var r=arguments.length,a=new Array(r>2?r-2:0),n=2;n<r;n++)a[n-2]=arguments[n];if(N1(t),!e){var i;if(t===void 0)i=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;i=new Error(t.replace(/%s/g,function(){return String(a[s++])})),i.name="Invariant Violation"}throw i.framesToPop=1,i}}var He=$1,K1=He;function z1(e,t){var r=[];return e.findEntityRanges(function(a){return a.getEntity()===t},function(a,n){r.push({start:a,end:n})}),r.length||K1(!1,"Entity key not found in this range."),r}var U1=z1,H1=L1,j1=U1,W1=He;function q1(e,t,r,a,n){var i=a.getStartOffset(),s=a.getEndOffset(),u=t.getEntityAt(i),l=r.getEntityAt(s-1);if(!u&&!l)return a;var f=a;if(u&&u===l)f=jn(e,t,f,n,u,!0,!0);else if(u&&l){var p=jn(e,t,f,n,u,!1,!0),v=jn(e,r,f,n,l,!1,!1);f=f.merge({anchorOffset:p.getAnchorOffset(),focusOffset:v.getFocusOffset(),isBackward:!1})}else if(u){var h=jn(e,t,f,n,u,!1,!0);f=f.merge({anchorOffset:h.getStartOffset(),isBackward:!1})}else if(l){var E=jn(e,r,f,n,l,!1,!1);f=f.merge({focusOffset:E.getEndOffset(),isBackward:!1})}return f}function jn(e,t,r,a,n,i,s){var u=r.getStartOffset(),l=r.getEndOffset(),f=e.__get(n),p=f.getMutability(),v=s?u:l;if(p==="MUTABLE")return r;var h=j1(t,n).filter(function(_){return v<=_.end&&v>=_.start});h.length!=1&&W1(!1,"There should only be one entity range within this removal range.");var E=h[0];if(p==="IMMUTABLE")return r.merge({anchorOffset:E.start,focusOffset:E.end,isBackward:!1});i||(s?l=E.end:u=E.start);var y=H1.getRemovalRange(u,l,t.getText().slice(E.start,E.end),E.start,a);return r.merge({anchorOffset:y.start,focusOffset:y.end,isBackward:!1})}var V1=q1,oc={},G1=Math.pow(2,24);function X1(){for(var e;e===void 0||oc.hasOwnProperty(e)||!isNaN(+e);)e=Math.floor(Math.random()*G1).toString(32);return oc[e]=!0,e}var nr=X1,Y1=Pt,Hp=nr,Z1=he,jp=Z1.OrderedMap,J1=function(t){var r={},a;return jp(t.withMutations(function(n){n.forEach(function(i,s){var u=i.getKey(),l=i.getNextSiblingKey(),f=i.getPrevSiblingKey(),p=i.getChildKeys(),v=i.getParentKey(),h=Hp();if(r[u]=h,l){var E=n.get(l);E?n.setIn([l,"prevSibling"],h):n.setIn([u,"nextSibling"],null)}if(f){var y=n.get(f);y?n.setIn([f,"nextSibling"],h):n.setIn([u,"prevSibling"],null)}if(v&&n.get(v)){var _=n.get(v),b=_.getChildKeys();n.setIn([v,"children"],b.set(b.indexOf(i.getKey()),h))}else n.setIn([u,"parent"],null),a&&(n.setIn([a.getKey(),"nextSibling"],h),n.setIn([u,"prevSibling"],r[a.getKey()])),a=n.get(u);p.forEach(function(C){var A=n.get(C);A?n.setIn([C,"parent"],h):n.setIn([u,"children"],i.getChildKeys().filter(function(w){return w!==C}))})})}).toArray().map(function(n){return[r[n.getKey()],n.set("key",r[n.getKey()])]}))},Q1=function(t){return jp(t.toArray().map(function(r){var a=Hp();return[a,r.set("key",a)]}))},eE=function(t){var r=t.first()instanceof Y1;return r?J1(t):Q1(t)},Wp=eE,tE=Rt,rE=ma,nE=He;function aE(e,t){var r=e.getBlockMap(),a=e.getEntityMap(),n={},i=t.getStartKey(),s=t.getStartOffset(),u=r.get(i),l=sc(a,u,s);l!==u&&(n[i]=l);var f=t.getEndKey(),p=t.getEndOffset(),v=r.get(f);i===f&&(v=l);var h=sc(a,v,p);return h!==v&&(n[f]=h),Object.keys(n).length?e.merge({blockMap:r.merge(n),selectionAfter:t}):e.set("selectionAfter",t)}function iE(e,t,r){var a;return rE(e,function(n,i){return n.getEntity()===i.getEntity()},function(n){return n.getEntity()===t},function(n,i){n<=r&&i>=r&&(a={start:n,end:i})}),typeof a!="object"&&nE(!1,"Removal range must exist within character list."),a}function sc(e,t,r){var a=t.getCharacterList(),n=r>0?a.get(r-1):void 0,i=r<a.count()?a.get(r):void 0,s=n?n.getEntity():void 0,u=i?i.getEntity():void 0;if(u&&u===s){var l=e.__get(u);if(l.getMutability()!=="MUTABLE"){for(var f=iE(a,u,r),p=f.start,v=f.end,h;p<v;)h=a.get(p),a=a.set(p,tE.applyEntity(h,null)),p++;return t.set("characterList",a)}}return t}var qp=aE,oE=Wp,sE=qp,uE=function(t,r){var a=r.getStartKey(),n=r.getStartOffset(),i=r.getEndKey(),s=r.getEndOffset(),u=sE(t,r),l=u.getBlockMap(),f=l.keySeq(),p=f.indexOf(a),v=f.indexOf(i)+1;return oE(l.slice(p,v).map(function(h,E){var y=h.getText(),_=h.getCharacterList();return a===i?h.merge({text:y.slice(n,s),characterList:_.slice(n,s)}):E===a?h.merge({text:y.slice(n),characterList:_.slice(n)}):E===i?h.merge({text:y.slice(0,s),characterList:_.slice(0,s)}):h}))},Li=uE;function lE(e,t,r){var a=e;if(r===a.count())t.forEach(function(s){a=a.push(s)});else if(r===0)t.reverse().forEach(function(s){a=a.unshift(s)});else{var n=a.slice(0,r),i=a.slice(r);a=n.concat(t,i).toList()}return a}var Vp=lE,cE=va,Gp=Pt,fE=he,dE=Vp,uc=He,pE=Wp,hE=fE.List,gE=function(t,r,a,n,i,s){var u=arguments.length>6&&arguments[6]!==void 0?arguments[6]:"REPLACE_WITH_NEW_DATA",l=a.get(i),f=l.getText(),p=l.getCharacterList(),v=i,h=s+n.getText().length,E=null;switch(u){case"MERGE_OLD_DATA_TO_NEW_DATA":E=n.getData().merge(l.getData());break;case"REPLACE_WITH_NEW_DATA":E=n.getData();break}var y=l.getType();f&&y==="unstyled"&&(y=n.getType());var _=l.merge({text:f.slice(0,s)+n.getText()+f.slice(s),characterList:dE(p,n.getCharacterList(),s),type:y,data:E});return t.merge({blockMap:a.set(i,_),selectionBefore:r,selectionAfter:r.merge({anchorKey:v,anchorOffset:h,focusKey:v,focusOffset:h,isBackward:!1})})},vE=function(t,r,a){var n=t.getText(),i=t.getCharacterList(),s=n.slice(0,r),u=i.slice(0,r),l=a.first();return t.merge({text:s+l.getText(),characterList:u.concat(l.getCharacterList()),type:s?t.getType():l.getType(),data:l.getData()})},mE=function(t,r,a){var n=t.getText(),i=t.getCharacterList(),s=n.length,u=n.slice(r,s),l=i.slice(r,s),f=a.last();return f.merge({text:f.getText()+u,characterList:f.getCharacterList().concat(l),data:f.getData()})},yE=function(t,r){var a=t.getKey(),n=t,i=[];for(r.get(a)&&i.push(a);n&&n.getNextSiblingKey();){var s=n.getNextSiblingKey();if(!s)break;i.push(s),n=r.get(s)}return i},EE=function(t,r,a,n){return t.withMutations(function(i){var s=a.getKey(),u=n.getKey(),l=a.getNextSiblingKey(),f=a.getParentKey(),p=yE(n,t),v=p[p.length-1];if(i.get(u)?(i.setIn([s,"nextSibling"],u),i.setIn([u,"prevSibling"],s)):(i.setIn([s,"nextSibling"],n.getNextSiblingKey()),i.setIn([n.getNextSiblingKey(),"prevSibling"],s)),i.setIn([v,"nextSibling"],l),l&&i.setIn([l,"prevSibling"],v),p.forEach(function(C){return i.setIn([C,"parent"],f)}),f){var h=t.get(f),E=h.getChildKeys(),y=E.indexOf(s),_=y+1,b=E.toArray();b.splice.apply(b,[_,0].concat(p)),i.setIn([f,"children"],hE(b))}})},_E=function(t,r,a,n,i,s){var u=a.first()instanceof Gp,l=[],f=n.size,p=a.get(i),v=n.first(),h=n.last(),E=h.getLength(),y=h.getKey(),_=u&&(!p.getChildKeys().isEmpty()||!v.getChildKeys().isEmpty());a.forEach(function(C,A){if(A!==i){l.push(C);return}_?l.push(C):l.push(vE(C,s,n)),n.slice(_?0:1,f-1).forEach(function(w){return l.push(w)}),l.push(mE(C,s,n))});var b=cE.createFromArray(l);return u&&(b=EE(b,a,p,v)),t.merge({blockMap:b,selectionBefore:r,selectionAfter:r.merge({anchorKey:y,anchorOffset:E,focusKey:y,focusOffset:E,isBackward:!1})})},bE=function(t,r,a){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"REPLACE_WITH_NEW_DATA";r.isCollapsed()||uc(!1,"`insertFragment` should only be called with a collapsed selection state.");var i=t.getBlockMap(),s=pE(a),u=r.getStartKey(),l=r.getStartOffset(),f=i.get(u);return f instanceof Gp&&(f.getChildKeys().isEmpty()||uc(!1,"`insertFragment` should not be called when a container node is selected.")),s.size===1?gE(t,r,i,s.first(),u,l,n):_E(t,r,i,s,u,l)},SE=bE,CE=he,wE=Vp,AE=He,DE=CE.Repeat;function xE(e,t,r,a){t.isCollapsed()||AE(!1,"`insertText` should only be called with a collapsed range.");var n=null;if(r!=null&&(n=r.length),n==null||n===0)return e;var i=e.getBlockMap(),s=t.getStartKey(),u=t.getStartOffset(),l=i.get(s),f=l.getText(),p=l.merge({text:f.slice(0,u)+r+f.slice(u,l.getLength()),characterList:wE(l.getCharacterList(),DE(a,n).toList(),u)}),v=u+n;return e.merge({blockMap:i.set(s,p),selectionAfter:t.merge({anchorOffset:v,focusOffset:v})})}var TE=xE,FE=he,OE=FE.Map;function kE(e,t,r){var a=t.getStartKey(),n=t.getEndKey(),i=e.getBlockMap(),s=i.toSeq().skipUntil(function(u,l){return l===a}).takeUntil(function(u,l){return l===n}).concat(OE([[n,i.get(n)]])).map(r);return e.merge({blockMap:i.merge(s),selectionBefore:t,selectionAfter:t})}var Xp=kE,BE=Pt,IE=function(t,r){var a=t instanceof BE;if(!a)return null;var n=t.getNextSiblingKey();if(n)return n;var i=t.getParentKey();if(!i)return null;for(var s=r.get(i);s&&!s.getNextSiblingKey();){var u=s.getParentKey();s=u?r.get(u):null}return s?s.getNextSiblingKey():null},Yp=IE,ME=Pt,Bs=Yp,Zp=he;Zp.List;var lc=Zp.Map,_t=function(t,r,a){if(t){var n=r.get(t);n&&r.set(t,a(n))}},mi=function(t,r){var a=[];if(!t)return a;for(var n=r.get(t);n&&n.getParentKey();){var i=n.getParentKey();i&&a.push(i),n=i?r.get(i):null}return a},RE=function(t,r){var a=[];if(!t)return a;for(var n=Bs(t,r);n&&r.get(n);){var i=r.get(n);a.push(n),n=i.getParentKey()?Bs(i,r):null}return a},dn=function(t,r,a){if(!t)return null;for(var n=a.get(t.getKey()).getNextSiblingKey();n&&!r.get(n);)n=a.get(n).getNextSiblingKey()||null;return n},pn=function(t,r,a){if(!t)return null;for(var n=a.get(t.getKey()).getPrevSiblingKey();n&&!r.get(n);)n=a.get(n).getPrevSiblingKey()||null;return n},PE=function(t,r,a,n){return t.withMutations(function(i){if(_t(r.getKey(),i,function(p){return p.merge({nextSibling:dn(p,i,n),prevSibling:pn(p,i,n)})}),_t(a.getKey(),i,function(p){return p.merge({nextSibling:dn(p,i,n),prevSibling:pn(p,i,n)})}),mi(r.getKey(),n).forEach(function(p){return _t(p,i,function(v){return v.merge({children:v.getChildKeys().filter(function(h){return i.get(h)}),nextSibling:dn(v,i,n),prevSibling:pn(v,i,n)})})}),_t(r.getNextSiblingKey(),i,function(p){return p.merge({prevSibling:r.getPrevSiblingKey()})}),_t(r.getPrevSiblingKey(),i,function(p){return p.merge({nextSibling:dn(p,i,n)})}),_t(a.getNextSiblingKey(),i,function(p){return p.merge({prevSibling:pn(p,i,n)})}),_t(a.getPrevSiblingKey(),i,function(p){return p.merge({nextSibling:a.getNextSiblingKey()})}),mi(a.getKey(),n).forEach(function(p){_t(p,i,function(v){return v.merge({children:v.getChildKeys().filter(function(h){return i.get(h)}),nextSibling:dn(v,i,n),prevSibling:pn(v,i,n)})})}),RE(a,n).forEach(function(p){return _t(p,i,function(v){return v.merge({nextSibling:dn(v,i,n),prevSibling:pn(v,i,n)})})}),t.get(r.getKey())==null&&t.get(a.getKey())!=null&&a.getParentKey()===r.getKey()&&a.getPrevSiblingKey()==null){var s=r.getPrevSiblingKey();_t(a.getKey(),i,function(p){return p.merge({prevSibling:s})}),_t(s,i,function(p){return p.merge({nextSibling:a.getKey()})});var u=s?t.get(s):null,l=u?u.getParentKey():null;if(r.getChildKeys().forEach(function(p){_t(p,i,function(v){return v.merge({parent:l})})}),l!=null){var f=t.get(l);_t(l,i,function(p){return p.merge({children:f.getChildKeys().concat(r.getChildKeys())})})}_t(r.getChildKeys().find(function(p){var v=t.get(p);return v.getNextSiblingKey()===null}),i,function(p){return p.merge({nextSibling:r.getNextSiblingKey()})})}})},LE=function(t,r){if(r.isCollapsed())return t;var a=t.getBlockMap(),n=r.getStartKey(),i=r.getStartOffset(),s=r.getEndKey(),u=r.getEndOffset(),l=a.get(n),f=a.get(s),p=l instanceof ME,v=[];if(p){var h=f.getChildKeys(),E=mi(s,a);f.getNextSiblingKey()&&(v=v.concat(E)),h.isEmpty()||(v=v.concat(E.concat([s]))),v=v.concat(mi(Bs(f,a),a))}var y;l===f?y=NE(l.getCharacterList(),i,u):y=l.getCharacterList().slice(0,i).concat(f.getCharacterList().slice(u));var _=l.merge({text:l.getText().slice(0,i)+f.getText().slice(u),characterList:y}),b=p&&i===0&&u===0&&f.getParentKey()===n&&f.getPrevSiblingKey()==null,C=b?lc([[n,null]]):a.toSeq().skipUntil(function(w,F){return F===n}).takeUntil(function(w,F){return F===s}).filter(function(w,F){return v.indexOf(F)===-1}).concat(lc([[s,null]])).map(function(w,F){return F===n?_:null}),A=a.merge(C).filter(function(w){return!!w});return p&&l!==f&&(A=PE(A,l,f,a)),t.merge({blockMap:A,selectionBefore:r,selectionAfter:r.merge({anchorKey:n,anchorOffset:i,focusKey:n,focusOffset:i,isBackward:!1})})},NE=function(t,r,a){if(r===0)for(;r<a;)t=t.shift(),r++;else if(a===t.count())for(;a>r;)t=t.pop(),a--;else{var n=t.slice(0,r),i=t.slice(a);t=n.concat(i).toList()}return t},$E=LE,KE=Pt,zE=nr,Jp=he,cc=He,UE=Xp,HE=Jp.List,jE=Jp.Map,Na=function(t,r,a){if(t){var n=r.get(t);n&&r.set(t,a(n))}},WE=function(t,r,a){return t.withMutations(function(n){var i=r.getKey(),s=a.getKey();Na(r.getParentKey(),n,function(u){var l=u.getChildKeys(),f=l.indexOf(i)+1,p=l.toArray();return p.splice(f,0,s),u.merge({children:HE(p)})}),Na(r.getNextSiblingKey(),n,function(u){return u.merge({prevSibling:s})}),Na(i,n,function(u){return u.merge({nextSibling:s})}),Na(s,n,function(u){return u.merge({prevSibling:i})})})},qE=function(t,r){r.isCollapsed()||cc(!1,"Selection range must be collapsed.");var a=r.getAnchorKey(),n=t.getBlockMap(),i=n.get(a),s=i.getText();if(!s){var u=i.getType();if(u==="unordered-list-item"||u==="ordered-list-item")return UE(t,r,function(C){return C.merge({type:"unstyled",depth:0})})}var l=r.getAnchorOffset(),f=i.getCharacterList(),p=zE(),v=i instanceof KE,h=i.merge({text:s.slice(0,l),characterList:f.slice(0,l)}),E=h.merge({key:p,text:s.slice(l),characterList:f.slice(l),data:jE()}),y=n.toSeq().takeUntil(function(C){return C===i}),_=n.toSeq().skipUntil(function(C){return C===i}).rest(),b=y.concat([[a,h],[p,E]],_).toOrderedMap();return v&&(i.getChildKeys().isEmpty()||cc(!1,"ContentBlockNode must not have children"),b=WE(b,h,E)),t.merge({blockMap:b,selectionBefore:r,selectionAfter:r.merge({anchorKey:p,anchorOffset:0,focusKey:p,focusOffset:0,isBackward:!1})})},VE=qE,GE=Rt,fc=T1,XE=R1,YE=V1,ZE=Li,JE=he,QE=SE,e_=TE,t_=He,Ro=Xp,Wn=qp,qn=$E,r_=VE,n_=JE.OrderedSet,fi={replaceText:function(t,r,a,n,i){var s=Wn(t,r),u=qn(s,r),l=GE.create({style:n||n_(),entity:i||null});return e_(u,u.getSelectionAfter(),a,l)},insertText:function(t,r,a,n,i){return r.isCollapsed()||t_(!1,"Target range must be collapsed for `insertText`."),fi.replaceText(t,r,a,n,i)},moveText:function(t,r,a){var n=ZE(t,r),i=fi.removeRange(t,r,"backward");return fi.replaceWithFragment(i,a,n)},replaceWithFragment:function(t,r,a){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"REPLACE_WITH_NEW_DATA",i=Wn(t,r),s=qn(i,r);return QE(s,s.getSelectionAfter(),a,n)},removeRange:function(t,r,a){var n,i,s,u;r.getIsBackward()&&(r=r.merge({anchorKey:r.getFocusKey(),anchorOffset:r.getFocusOffset(),focusKey:r.getAnchorKey(),focusOffset:r.getAnchorOffset(),isBackward:!1})),n=r.getAnchorKey(),i=r.getFocusKey(),s=t.getBlockForKey(n),u=t.getBlockForKey(i);var l=r.getStartOffset(),f=r.getEndOffset(),p=s.getEntityAt(l),v=u.getEntityAt(f-1);if(n===i&&p&&p===v){var h=YE(t.getEntityMap(),s,u,r,a);return qn(t,h)}var E=Wn(t,r);return qn(E,r)},splitBlock:function(t,r){var a=Wn(t,r),n=qn(a,r);return r_(n,n.getSelectionAfter())},applyInlineStyle:function(t,r,a){return fc.add(t,r,a)},removeInlineStyle:function(t,r,a){return fc.remove(t,r,a)},setBlockType:function(t,r,a){return Ro(t,r,function(n){return n.merge({type:a,depth:0})})},setBlockData:function(t,r,a){return Ro(t,r,function(n){return n.merge({data:a})})},mergeBlockData:function(t,r,a){return Ro(t,r,function(n){return n.merge({data:n.getData().merge(a)})})},applyEntity:function(t,r,a){var n=Wn(t,r);return XE(n,r,a)}},St=fi;function a_(e){return Object.keys(e).map(function(t){return e[t]})}var Qp=a_;function i_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{},a=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(r).filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable}))),a.forEach(function(n){o_(e,n,r[n])})}return e}function o_(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s_(e,t){if(e==null)return{};var r={},a=Object.keys(e),n,i;for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&(r[n]=e[n]);return r}var eh=ma,u_=Qp,_u=he,yn=_u.List,l_=_u.Repeat,th=_u.Record,rh=function(){return!0},c_={start:null,end:null},Is=th(c_),f_={start:null,end:null,decoratorKey:null,leaves:null},Po=th(f_),d_={generate:function(t,r,a){var n=r.getLength();if(!n)return yn.of(new Po({start:0,end:0,decoratorKey:null,leaves:yn.of(new Is({start:0,end:0}))}));var i=[],s=a?a.getDecorations(r,t):yn(l_(null,n)),u=r.getCharacterList();return eh(s,nh,rh,function(l,f){i.push(new Po({start:l,end:f,decoratorKey:s.get(l),leaves:p_(u.slice(l,f).toList(),l)}))}),yn(i)},fromJS:function(t){var r=t.leaves,a=s_(t,["leaves"]);return new Po(i_({},a,{leaves:r!=null?yn(Array.isArray(r)?r:u_(r)).map(function(n){return Is(n)}):null}))}};function p_(e,t){var r=[],a=e.map(function(n){return n.getStyle()}).toList();return eh(a,nh,rh,function(n,i){r.push(new Is({start:n+t,end:i+t}))}),yn(r)}function nh(e,t){return e===t}var h_=d_;function g_(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var v_=he,m_=v_.Record,y_=m_({type:"TOKEN",mutability:"IMMUTABLE",data:Object}),E_=function(e){g_(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.getType=function(){return this.get("type")},r.getMutability=function(){return this.get("mutability")},r.getData=function(){return this.get("data")},t}(y_),ah=E_;function __(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,r=e=="x"?t:t&3|8;return r.toString(16)})}var b_=__;function S_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{},a=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(r).filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable}))),a.forEach(function(n){C_(e,n,r[n])})}return e}function C_(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var w_=ah,A_=he,D_=He,Ms=b_,x_=A_.Map,ir=x_(),Vn=Ms();function hn(e,t){console.warn("WARNING: "+e+` will be deprecated soon!
Please use "`+t+'" instead.')}var Gt={getLastCreatedEntityKey:function(){return hn("DraftEntity.getLastCreatedEntityKey","contentState.getLastCreatedEntityKey"),Gt.__getLastCreatedEntityKey()},create:function(t,r,a){return hn("DraftEntity.create","contentState.createEntity"),Gt.__create(t,r,a)},add:function(t){return hn("DraftEntity.add","contentState.addEntity"),Gt.__add(t)},get:function(t){return hn("DraftEntity.get","contentState.getEntity"),Gt.__get(t)},__getAll:function(){return ir},__loadWithEntities:function(t){ir=t,Vn=Ms()},mergeData:function(t,r){return hn("DraftEntity.mergeData","contentState.mergeEntityData"),Gt.__mergeData(t,r)},replaceData:function(t,r){return hn("DraftEntity.replaceData","contentState.replaceEntityData"),Gt.__replaceData(t,r)},__getLastCreatedEntityKey:function(){return Vn},__create:function(t,r,a){return Gt.__add(new w_({type:t,mutability:r,data:a||{}}))},__add:function(t){return Vn=Ms(),ir=ir.set(Vn,t),Vn},__get:function(t){var r=ir.get(t);return r||D_(!1,"Unknown DraftEntity key: %s.",t),r},__mergeData:function(t,r){var a=Gt.__get(t),n=S_({},a.getData(),r),i=a.set("data",n);return ir=ir.set(t,i),i},__replaceData:function(t,r){var a=Gt.__get(t),n=a.set("data",r);return ir=ir.set(t,n),n}},Ni=Gt;function T_(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var F_=he,O_=F_.Record,k_={anchorKey:"",anchorOffset:0,focusKey:"",focusOffset:0,isBackward:!1,hasFocus:!1},B_=O_(k_),I_=function(e){T_(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.serialize=function(){return"Anchor: "+this.getAnchorKey()+":"+this.getAnchorOffset()+", Focus: "+this.getFocusKey()+":"+this.getFocusOffset()+", Is Backward: "+String(this.getIsBackward())+", Has Focus: "+String(this.getHasFocus())},r.getAnchorKey=function(){return this.get("anchorKey")},r.getAnchorOffset=function(){return this.get("anchorOffset")},r.getFocusKey=function(){return this.get("focusKey")},r.getFocusOffset=function(){return this.get("focusOffset")},r.getIsBackward=function(){return this.get("isBackward")},r.getHasFocus=function(){return this.get("hasFocus")},r.hasEdgeWithin=function(n,i,s){var u=this.getAnchorKey(),l=this.getFocusKey();if(u===l&&u===n){var f=this.getStartOffset(),p=this.getEndOffset();return i<=f&&f<=s||i<=p&&p<=s}if(n!==u&&n!==l)return!1;var v=n===u?this.getAnchorOffset():this.getFocusOffset();return i<=v&&s>=v},r.isCollapsed=function(){return this.getAnchorKey()===this.getFocusKey()&&this.getAnchorOffset()===this.getFocusOffset()},r.getStartKey=function(){return this.getIsBackward()?this.getFocusKey():this.getAnchorKey()},r.getStartOffset=function(){return this.getIsBackward()?this.getFocusOffset():this.getAnchorOffset()},r.getEndKey=function(){return this.getIsBackward()?this.getAnchorKey():this.getFocusKey()},r.getEndOffset=function(){return this.getIsBackward()?this.getAnchorOffset():this.getFocusOffset()},t.createEmpty=function(n){return new t({anchorKey:n,anchorOffset:0,focusKey:n,focusOffset:0,isBackward:!1,hasFocus:!1})},t}(B_),$i=I_,Or=function(e){return typeof window<"u"&&window.__DRAFT_GKX?!!window.__DRAFT_GKX[e]:!1},M_=new RegExp("\r","g");function R_(e){return e.replace(M_,"")}var ih=R_;function dc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{},a=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(r).filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable}))),a.forEach(function(n){P_(e,n,r[n])})}return e}function P_(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L_(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var N_=va,pc=Rt,$_=qr,K_=Pt,qt=Ni,$a=$i,z_=nr,U_=Qp,H_=Or,_a=he,j_=ih,hc=_a.List,W_=_a.Record,q_=_a.Repeat,V_=_a.Map,G_=_a.OrderedMap,X_={entityMap:null,blockMap:null,selectionBefore:null,selectionAfter:null},Y_=W_(X_),gc=H_("draft_tree_data_support")?K_:$_,Z_=function(e){L_(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.getEntityMap=function(){return qt},r.getBlockMap=function(){return this.get("blockMap")},r.getSelectionBefore=function(){return this.get("selectionBefore")},r.getSelectionAfter=function(){return this.get("selectionAfter")},r.getBlockForKey=function(n){var i=this.getBlockMap().get(n);return i},r.getKeyBefore=function(n){return this.getBlockMap().reverse().keySeq().skipUntil(function(i){return i===n}).skip(1).first()},r.getKeyAfter=function(n){return this.getBlockMap().keySeq().skipUntil(function(i){return i===n}).skip(1).first()},r.getBlockAfter=function(n){return this.getBlockMap().skipUntil(function(i,s){return s===n}).skip(1).first()},r.getBlockBefore=function(n){return this.getBlockMap().reverse().skipUntil(function(i,s){return s===n}).skip(1).first()},r.getBlocksAsArray=function(){return this.getBlockMap().toArray()},r.getFirstBlock=function(){return this.getBlockMap().first()},r.getLastBlock=function(){return this.getBlockMap().last()},r.getPlainText=function(n){return this.getBlockMap().map(function(i){return i?i.getText():""}).join(n||`
`)},r.getLastCreatedEntityKey=function(){return qt.__getLastCreatedEntityKey()},r.hasText=function(){var n=this.getBlockMap();return n.size>1||escape(n.first().getText()).replace(/%u200B/g,"").length>0},r.createEntity=function(n,i,s){return qt.__create(n,i,s),this},r.mergeEntityData=function(n,i){return qt.__mergeData(n,i),this},r.replaceEntityData=function(n,i){return qt.__replaceData(n,i),this},r.addEntity=function(n){return qt.__add(n),this},r.getEntity=function(n){return qt.__get(n)},r.getAllEntities=function(){return qt.__getAll()},r.loadWithEntities=function(n){return qt.__loadWithEntities(n)},t.createFromBlockArray=function(n,i){var s=Array.isArray(n)?n:n.contentBlocks,u=N_.createFromArray(s),l=u.isEmpty()?new $a:$a.createEmpty(u.first().getKey());return new t({blockMap:u,entityMap:i||qt,selectionBefore:l,selectionAfter:l})},t.createFromText=function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:/\r\n?|\n/g,s=n.split(i),u=s.map(function(l){return l=j_(l),new gc({key:z_(),text:l,type:"unstyled",characterList:hc(q_(pc.EMPTY,l.length))})});return t.createFromBlockArray(u)},t.fromJS=function(n){return new t(dc({},n,{blockMap:G_(n.blockMap).map(t.createContentBlockFromJS),selectionBefore:new $a(n.selectionBefore),selectionAfter:new $a(n.selectionAfter)}))},t.createContentBlockFromJS=function(n){var i=n.characterList;return new gc(dc({},n,{data:V_(n.data),characterList:i!=null?hc((Array.isArray(i)?i:U_(i)).map(function(s){return pc.fromJS(s)})):void 0}))},t}(Y_),bu=Z_,yi=He,J_="NEUTRAL",Ki="LTR",oh="RTL",di=null;function Ei(e){return e===Ki||e===oh}function sh(e){return Ei(e)||yi(!1,"`dir` must be a strong direction to be converted to HTML Direction"),e===Ki?"ltr":"rtl"}function Q_(e,t){return Ei(e)||yi(!1,"`dir` must be a strong direction to be converted to HTML Direction"),Ei(t)||yi(!1,"`otherDir` must be a strong direction to be converted to HTML Direction"),e===t?null:sh(e)}function uh(e){di=e}function eb(){uh(Ki)}function tb(){return di||this.initGlobalDir(),di||yi(!1,"Global direction not set."),di}var rb={NEUTRAL:J_,LTR:Ki,RTL:oh,isStrong:Ei,getHTMLDir:sh,getHTMLDirIfDifferent:Q_,setGlobalDir:uh,initGlobalDir:eb,getGlobalDir:tb},zi=rb,fr=zi,nb=He,ua={L:"A-Za-z-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",R:"----------------------",AL:"------------------------------"},ab=new RegExp("["+ua.L+ua.R+ua.AL+"]"),ib=new RegExp("["+ua.R+ua.AL+"]");function lh(e){var t=ab.exec(e);return t==null?null:t[0]}function ch(e){var t=lh(e);return t==null?fr.NEUTRAL:ib.exec(t)?fr.RTL:fr.LTR}function fh(e,t){if(t=t||fr.NEUTRAL,!e.length)return t;var r=ch(e);return r===fr.NEUTRAL?t:r}function Su(e,t){return t||(t=fr.getGlobalDir()),fr.isStrong(t)||nb(!1,"Fallback direction must be a strong direction"),fh(e,t)}function ob(e,t){return Su(e,t)===fr.LTR}function sb(e,t){return Su(e,t)===fr.RTL}var ub={firstStrongChar:lh,firstStrongCharDir:ch,resolveBlockDir:fh,getDirection:Su,isDirectionLTR:ob,isDirectionRTL:sb},Cu=ub;function vc(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var lb=Cu,mc=zi,cb=He,fb=function(){function e(r){vc(this,"_defaultDir",void 0),vc(this,"_lastDir",void 0),r?mc.isStrong(r)||cb(!1,"Default direction must be a strong direction (LTR or RTL)"):r=mc.getGlobalDir(),this._defaultDir=r,this.reset()}var t=e.prototype;return t.reset=function(){this._lastDir=this._defaultDir},t.getDirection=function(a){return this._lastDir=lb.getDirection(a,this._lastDir),this._lastDir},e}(),db=fb,pb=function(t){if(t!=null)return t;throw new Error("Got unexpected null or undefined")},Ct=pb,hb=db,dh=he,gb=Ct,vb=dh.OrderedMap,Ka,mb={getDirectionMap:function(t,r){Ka?Ka.reset():Ka=new hb;var a=t.getBlockMap(),n=a.valueSeq().map(function(s){return gb(Ka).getDirection(s.getText())}),i=vb(a.keySeq().zip(n));return r!=null&&dh.is(r,i)?r:i}},yb=mb;function yc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{},a=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(r).filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable}))),a.forEach(function(n){ph(e,n,r[n])})}return e}function ph(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ui=h_,Gn=bu,za=yb,Lo=$i,ba=he,hh=ba.OrderedSet,Eb=ba.Record,Kr=ba.Stack,Ec=ba.OrderedMap,_b=ba.List,bb={allowUndo:!0,currentContent:null,decorator:null,directionMap:null,forceSelection:!1,inCompositionMode:!1,inlineStyleOverride:null,lastChangeType:null,nativelyRenderedContent:null,redoStack:Kr(),selection:null,treeMap:null,undoStack:Kr()},_c=Eb(bb),gh=function(){t.createEmpty=function(a){return this.createWithText("",a)},t.createWithText=function(a,n){return t.createWithContent(Gn.createFromText(a),n)},t.createWithContent=function(a,n){if(a.getBlockMap().count()===0)return t.createEmpty(n);var i=a.getBlockMap().first().getKey();return t.create({currentContent:a,undoStack:Kr(),redoStack:Kr(),decorator:n||null,selection:Lo.createEmpty(i)})},t.create=function(a){var n=a.currentContent,i=a.decorator,s=yc({},a,{treeMap:Sc(n,i),directionMap:za.getDirectionMap(n)});return new t(new _c(s))},t.fromJS=function(a){return new t(new _c(yc({},a,{directionMap:a.directionMap!=null?Ec(a.directionMap):a.directionMap,inlineStyleOverride:a.inlineStyleOverride!=null?hh(a.inlineStyleOverride):a.inlineStyleOverride,nativelyRenderedContent:a.nativelyRenderedContent!=null?Gn.fromJS(a.nativelyRenderedContent):a.nativelyRenderedContent,redoStack:a.redoStack!=null?Kr(a.redoStack.map(function(n){return Gn.fromJS(n)})):a.redoStack,selection:a.selection!=null?new Lo(a.selection):a.selection,treeMap:a.treeMap!=null?Ec(a.treeMap).map(function(n){return _b(n).map(function(i){return Ui.fromJS(i)})}):a.treeMap,undoStack:a.undoStack!=null?Kr(a.undoStack.map(function(n){return Gn.fromJS(n)})):a.undoStack,currentContent:Gn.fromJS(a.currentContent)})))},t.set=function(a,n){var i=a.getImmutable().withMutations(function(s){var u=s.get("decorator"),l=u;n.decorator===null?l=null:n.decorator&&(l=n.decorator);var f=n.currentContent||a.getCurrentContent();if(l!==u){var p=s.get("treeMap"),v;l&&u?v=Cb(f,f.getBlockMap(),p,l,u):v=Sc(f,l),s.merge({decorator:l,treeMap:v,nativelyRenderedContent:null});return}var h=a.getCurrentContent();f!==h&&s.set("treeMap",Sb(a,f.getBlockMap(),f.getEntityMap(),l)),s.merge(n)});return new t(i)};var e=t.prototype;e.toJS=function(){return this.getImmutable().toJS()},e.getAllowUndo=function(){return this.getImmutable().get("allowUndo")},e.getCurrentContent=function(){return this.getImmutable().get("currentContent")},e.getUndoStack=function(){return this.getImmutable().get("undoStack")},e.getRedoStack=function(){return this.getImmutable().get("redoStack")},e.getSelection=function(){return this.getImmutable().get("selection")},e.getDecorator=function(){return this.getImmutable().get("decorator")},e.isInCompositionMode=function(){return this.getImmutable().get("inCompositionMode")},e.mustForceSelection=function(){return this.getImmutable().get("forceSelection")},e.getNativelyRenderedContent=function(){return this.getImmutable().get("nativelyRenderedContent")},e.getLastChangeType=function(){return this.getImmutable().get("lastChangeType")},e.getInlineStyleOverride=function(){return this.getImmutable().get("inlineStyleOverride")},t.setInlineStyleOverride=function(a,n){return t.set(a,{inlineStyleOverride:n})},e.getCurrentInlineStyle=function(){var a=this.getInlineStyleOverride();if(a!=null)return a;var n=this.getCurrentContent(),i=this.getSelection();return i.isCollapsed()?Ab(n,i):Db(n,i)},e.getBlockTree=function(a){return this.getImmutable().getIn(["treeMap",a])},e.isSelectionAtStartOfContent=function(){var a=this.getCurrentContent().getBlockMap().first().getKey();return this.getSelection().hasEdgeWithin(a,0,0)},e.isSelectionAtEndOfContent=function(){var a=this.getCurrentContent(),n=a.getBlockMap(),i=n.last(),s=i.getLength();return this.getSelection().hasEdgeWithin(i.getKey(),s,s)},e.getDirectionMap=function(){return this.getImmutable().get("directionMap")},t.acceptSelection=function(a,n){return bc(a,n,!1)},t.forceSelection=function(a,n){return n.getHasFocus()||(n=n.set("hasFocus",!0)),bc(a,n,!0)},t.moveSelectionToEnd=function(a){var n=a.getCurrentContent(),i=n.getLastBlock(),s=i.getKey(),u=i.getLength();return t.acceptSelection(a,new Lo({anchorKey:s,anchorOffset:u,focusKey:s,focusOffset:u,isBackward:!1}))},t.moveFocusToEnd=function(a){var n=t.moveSelectionToEnd(a);return t.forceSelection(n,n.getSelection())},t.push=function(a,n,i){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;if(a.getCurrentContent()===n)return a;var u=za.getDirectionMap(n,a.getDirectionMap());if(!a.getAllowUndo())return t.set(a,{currentContent:n,directionMap:u,lastChangeType:i,selection:n.getSelectionAfter(),forceSelection:s,inlineStyleOverride:null});var l=a.getSelection(),f=a.getCurrentContent(),p=a.getUndoStack(),v=n;l!==f.getSelectionAfter()||wb(a,i)?(p=p.push(f),v=v.set("selectionBefore",l)):(i==="insert-characters"||i==="backspace-character"||i==="delete-character")&&(v=v.set("selectionBefore",f.getSelectionBefore()));var h=a.getInlineStyleOverride(),E=["adjust-depth","change-block-type","split-block"];E.indexOf(i)===-1&&(h=null);var y={currentContent:v,directionMap:u,undoStack:p,redoStack:Kr(),lastChangeType:i,selection:n.getSelectionAfter(),forceSelection:s,inlineStyleOverride:h};return t.set(a,y)},t.undo=function(a){if(!a.getAllowUndo())return a;var n=a.getUndoStack(),i=n.peek();if(!i)return a;var s=a.getCurrentContent(),u=za.getDirectionMap(i,a.getDirectionMap());return t.set(a,{currentContent:i,directionMap:u,undoStack:n.shift(),redoStack:a.getRedoStack().push(s),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"undo",nativelyRenderedContent:null,selection:s.getSelectionBefore()})},t.redo=function(a){if(!a.getAllowUndo())return a;var n=a.getRedoStack(),i=n.peek();if(!i)return a;var s=a.getCurrentContent(),u=za.getDirectionMap(i,a.getDirectionMap());return t.set(a,{currentContent:i,directionMap:u,undoStack:a.getUndoStack().push(s),redoStack:n.shift(),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"redo",nativelyRenderedContent:null,selection:i.getSelectionAfter()})};function t(r){ph(this,"_immutable",void 0),this._immutable=r}return e.getImmutable=function(){return this._immutable},t}();function bc(e,t,r){return gh.set(e,{selection:t,forceSelection:r,nativelyRenderedContent:null,inlineStyleOverride:null})}function Sc(e,t){return e.getBlockMap().map(function(r){return Ui.generate(e,r,t)}).toOrderedMap()}function Sb(e,t,r,a){var n=e.getCurrentContent().set("entityMap",r),i=n.getBlockMap(),s=e.getImmutable().get("treeMap");return s.merge(t.toSeq().filter(function(u,l){return u!==i.get(l)}).map(function(u){return Ui.generate(n,u,a)}))}function Cb(e,t,r,a,n){return r.merge(t.toSeq().filter(function(i){return a.getDecorations(i,e)!==n.getDecorations(i,e)}).map(function(i){return Ui.generate(e,i,a)}))}function wb(e,t){var r=e.getLastChangeType();return t!==r||t!=="insert-characters"&&t!=="backspace-character"&&t!=="delete-character"}function Ab(e,t){var r=t.getStartKey(),a=t.getStartOffset(),n=e.getBlockForKey(r);return a>0?n.getInlineStyleAt(a-1):n.getLength()?n.getInlineStyleAt(0):vh(e,r)}function Db(e,t){var r=t.getStartKey(),a=t.getStartOffset(),n=e.getBlockForKey(r);return a<n.getLength()?n.getInlineStyleAt(a):a>0?n.getInlineStyleAt(a-1):vh(e,r)}function vh(e,t){var r=e.getBlockMap().reverse().skipUntil(function(a,n){return n===t}).skip(1).skipUntil(function(a,n){return a.getLength()}).first();return r?r.getInlineStyleAt(r.getLength()-1):hh()}var Xe=gh,xb=Pt,Tb=Yp,mh=he,Ua=He,Fb=mh.OrderedMap,Ob=mh.List,Mr=function(t,r,a){if(t){var n=r.get(t);n&&r.set(t,a(n))}},kb=function(t,r,a,n,i){if(!i)return t;var s=n==="after",u=r.getKey(),l=a.getKey(),f=r.getParentKey(),p=r.getNextSiblingKey(),v=r.getPrevSiblingKey(),h=a.getParentKey(),E=s?a.getNextSiblingKey():l,y=s?l:a.getPrevSiblingKey();return t.withMutations(function(_){Mr(f,_,function(b){var C=b.getChildKeys();return b.merge({children:C.delete(C.indexOf(u))})}),Mr(v,_,function(b){return b.merge({nextSibling:p})}),Mr(p,_,function(b){return b.merge({prevSibling:v})}),Mr(E,_,function(b){return b.merge({prevSibling:u})}),Mr(y,_,function(b){return b.merge({nextSibling:u})}),Mr(h,_,function(b){var C=b.getChildKeys(),A=C.indexOf(l),w=s?A+1:A!==0?A-1:0,F=C.toArray();return F.splice(w,0,u),b.merge({children:Ob(F)})}),Mr(u,_,function(b){return b.merge({nextSibling:E,prevSibling:y,parent:h})})})},Bb=function(t,r,a,n){n==="replace"&&Ua(!1,"Replacing blocks is not supported.");var i=a.getKey(),s=r.getKey();s===i&&Ua(!1,"Block cannot be moved next to itself.");var u=t.getBlockMap(),l=r instanceof xb,f=[r],p=u.delete(s);l&&(f=[],p=u.withMutations(function(C){var A=r.getNextSiblingKey(),w=Tb(r,C);C.toSeq().skipUntil(function(F){return F.getKey()===s}).takeWhile(function(F){var x=F.getKey(),I=x===s,R=A&&x!==A,P=!A&&F.getParentKey()&&(!w||x!==w);return!!(I||R||P)}).forEach(function(F){f.push(F),C.delete(F.getKey())})}));var v=p.toSeq().takeUntil(function(C){return C===a}),h=p.toSeq().skipUntil(function(C){return C===a}).skip(1),E=f.map(function(C){return[C.getKey(),C]}),y=Fb();if(n==="before"){var _=t.getBlockBefore(i);!_||_.getKey()!==r.getKey()||Ua(!1,"Block cannot be moved next to itself."),y=v.concat([].concat(E,[[i,a]]),h).toOrderedMap()}else if(n==="after"){var b=t.getBlockAfter(i);!b||b.getKey()!==s||Ua(!1,"Block cannot be moved next to itself."),y=v.concat([[i,a]].concat(E),h).toOrderedMap()}return t.merge({blockMap:kb(y,r,a,n,l),selectionBefore:t.getSelectionAfter(),selectionAfter:t.getSelectionAfter().merge({anchorKey:s,focusKey:s})})},Ib=Bb;function Cc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{},a=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(r).filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable}))),a.forEach(function(n){Mb(e,n,r[n])})}return e}function Mb(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Rb=va,Pb=Rt,Lb=qr,Nb=Pt,gn=St,wc=Xe,Ac=nr,$b=Or,yh=he,Ha=Ib,Eh=$b("draft_tree_data_support"),Dc=Eh?Nb:Lb,Kb=yh.List,zb=yh.Repeat,Ub={insertAtomicBlock:function(t,r,a){var n=t.getCurrentContent(),i=t.getSelection(),s=gn.removeRange(n,i,"backward"),u=s.getSelectionAfter(),l=gn.splitBlock(s,u),f=l.getSelectionAfter(),p=gn.setBlockType(l,f,"atomic"),v=Pb.create({entity:r}),h={key:Ac(),type:"atomic",text:a,characterList:Kb(zb(v,a.length))},E={key:Ac(),type:"unstyled"};Eh&&(h=Cc({},h,{nextSibling:E.key}),E=Cc({},E,{prevSibling:h.key}));var y=[new Dc(h),new Dc(E)],_=Rb.createFromArray(y),b=gn.replaceWithFragment(p,f,_),C=b.merge({selectionBefore:i,selectionAfter:b.getSelectionAfter().set("hasFocus",!0)});return wc.push(t,C,"insert-fragment")},moveAtomicBlock:function(t,r,a,n){var i=t.getCurrentContent(),s=t.getSelection(),u;if(n==="before"||n==="after"){var l=i.getBlockForKey(n==="before"?a.getStartKey():a.getEndKey());u=Ha(i,r,l,n)}else{var f=gn.removeRange(i,a,"backward"),p=f.getSelectionAfter(),v=f.getBlockForKey(p.getFocusKey());if(p.getStartOffset()===0)u=Ha(f,r,v,"before");else if(p.getEndOffset()===v.getLength())u=Ha(f,r,v,"after");else{var h=gn.splitBlock(f,p),E=h.getSelectionAfter(),y=h.getBlockForKey(E.getFocusKey());u=Ha(h,r,y,"before")}}var _=u.merge({selectionBefore:s,selectionAfter:u.getSelectionAfter().set("hasFocus",!0)});return wc.push(t,_,"move-block")}},Hb=Ub;function jb(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Wb=he,qb=Wb.List,No=".",Vb=function(){function e(r){jb(this,"_decorators",void 0),this._decorators=r.slice()}var t=e.prototype;return t.getDecorations=function(a,n){var i=Array(a.getText().length).fill(null);return this._decorators.forEach(function(s,u){var l=0,f=s.strategy,p=function(h,E){Gb(i,h,E)&&(Xb(i,h,E,u+No+l),l++)};f(a,p,n)}),qb(i)},t.getComponentForKey=function(a){var n=parseInt(a.split(No)[0],10);return this._decorators[n].component},t.getPropsForKey=function(a){var n=parseInt(a.split(No)[0],10);return this._decorators[n].props},e}();function Gb(e,t,r){for(var a=t;a<r;a++)if(e[a]!=null)return!1;return!0}function Xb(e,t,r,a){for(var n=t;n<r;n++)e[n]=a}var Yb=Vb;function Zb(e){return typeof e=="object"?Object.keys(e).filter(function(t){return e[t]}).map(xc).join(" "):Array.prototype.map.call(arguments,xc).join(" ")}function xc(e){return e.replace(/\//g,"-")}var Vr=Zb,wu=T,Au=Vr,Jb=he,Qb=Jb.Map,eS=wu.createElement("ul",{className:Au("public/DraftStyleDefault/ul")}),tS=wu.createElement("ol",{className:Au("public/DraftStyleDefault/ol")}),rS=wu.createElement("pre",{className:Au("public/DraftStyleDefault/pre")}),nS=Qb({"header-one":{element:"h1"},"header-two":{element:"h2"},"header-three":{element:"h3"},"header-four":{element:"h4"},"header-five":{element:"h5"},"header-six":{element:"h6"},section:{element:"section"},article:{element:"article"},"unordered-list-item":{element:"li",wrapper:eS},"ordered-list-item":{element:"li",wrapper:tS},blockquote:{element:"blockquote"},atomic:{element:"figure"},"code-block":{element:"pre",wrapper:rS},unstyled:{element:"div",aliasedElements:["p"]}}),Du=nS,_h={BOLD:{fontWeight:"bold"},CODE:{fontFamily:"monospace",wordWrap:"break-word"},ITALIC:{fontStyle:"italic"},STRIKETHROUGH:{textDecoration:"line-through"},UNDERLINE:{textDecoration:"underline"}},_i={},aS={get exports(){return _i},set exports(e){_i=e}};(function(e,t){(function(r,a){var n="0.7.33",i="",s="?",u="function",l="undefined",f="object",p="string",v="major",h="model",E="name",y="type",_="vendor",b="version",C="architecture",A="console",w="mobile",F="tablet",x="smarttv",I="wearable",R="embedded",P=350,M="Amazon",O="Apple",N="ASUS",U="BlackBerry",H="Browser",K="Chrome",V="Edge",G="Firefox",W="Google",J="Huawei",Y="LG",ne="Microsoft",Q="Motorola",we="Opera",Le="Samsung",Ee="Sharp",ae="Sony",pe="Xiaomi",Te="Zebra",ze="Facebook",ce=function(se,fe){var de={};for(var Me in se)fe[Me]&&fe[Me].length%2===0?de[Me]=fe[Me].concat(se[Me]):de[Me]=se[Me];return de},ge=function(se){for(var fe={},de=0;de<se.length;de++)fe[se[de].toUpperCase()]=se[de];return fe},Pe=function(se,fe){return typeof se===p?Ue(fe).indexOf(Ue(se))!==-1:!1},Ue=function(se){return se.toLowerCase()},ke=function(se){return typeof se===p?se.replace(/[^\d\.]/g,i).split(".")[0]:a},ve=function(se,fe){if(typeof se===p)return se=se.replace(/^\s\s*/,i),typeof fe===l?se:se.substring(0,P)},Ae=function(se,fe){for(var de=0,Me,Se,at,Ne,We,Be;de<fe.length&&!We;){var it=fe[de],gt=fe[de+1];for(Me=Se=0;Me<it.length&&!We;)if(We=it[Me++].exec(se),We)for(at=0;at<gt.length;at++)Be=We[++Se],Ne=gt[at],typeof Ne===f&&Ne.length>0?Ne.length===2?typeof Ne[1]==u?this[Ne[0]]=Ne[1].call(this,Be):this[Ne[0]]=Ne[1]:Ne.length===3?typeof Ne[1]===u&&!(Ne[1].exec&&Ne[1].test)?this[Ne[0]]=Be?Ne[1].call(this,Be,Ne[2]):a:this[Ne[0]]=Be?Be.replace(Ne[1],Ne[2]):a:Ne.length===4&&(this[Ne[0]]=Be?Ne[3].call(this,Be.replace(Ne[1],Ne[2])):a):this[Ne]=Be||a;de+=2}},qe=function(se,fe){for(var de in fe)if(typeof fe[de]===f&&fe[de].length>0){for(var Me=0;Me<fe[de].length;Me++)if(Pe(fe[de][Me],se))return de===s?a:de}else if(Pe(fe[de],se))return de===s?a:de;return se},Fe={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},ie={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},me={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[b,[E,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[b,[E,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[E,b],[/opios[\/ ]+([\w\.]+)/i],[b,[E,we+" Mini"]],[/\bopr\/([\w\.]+)/i],[b,[E,we]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[E,b],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[b,[E,"UC"+H]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[b,[E,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[b,[E,"WeChat"]],[/konqueror\/([\w\.]+)/i],[b,[E,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[b,[E,"IE"]],[/yabrowser\/([\w\.]+)/i],[b,[E,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[E,/(.+)/,"$1 Secure "+H],b],[/\bfocus\/([\w\.]+)/i],[b,[E,G+" Focus"]],[/\bopt\/([\w\.]+)/i],[b,[E,we+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[b,[E,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[b,[E,"Dolphin"]],[/coast\/([\w\.]+)/i],[b,[E,we+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[b,[E,"MIUI "+H]],[/fxios\/([-\w\.]+)/i],[b,[E,G]],[/\bqihu|(qi?ho?o?|360)browser/i],[[E,"360 "+H]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[E,/(.+)/,"$1 "+H],b],[/(comodo_dragon)\/([\w\.]+)/i],[[E,/_/g," "],b],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[E,b],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[E],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[E,ze],b],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[E,b],[/\bgsa\/([\w\.]+) .*safari\//i],[b,[E,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[b,[E,K+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[E,K+" WebView"],b],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[b,[E,"Android "+H]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[E,b],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[b,[E,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[b,E],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[E,[b,qe,Fe]],[/(webkit|khtml)\/([\w\.]+)/i],[E,b],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[E,"Netscape"],b],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[b,[E,G+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[E,b],[/(cobalt)\/([\w\.]+)/i],[E,[b,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[C,"amd64"]],[/(ia32(?=;))/i],[[C,Ue]],[/((?:i[346]|x)86)[;\)]/i],[[C,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[C,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[C,"armhf"]],[/windows (ce|mobile); ppc;/i],[[C,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[C,/ower/,i,Ue]],[/(sun4\w)[;\)]/i],[[C,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[C,Ue]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[h,[_,Le],[y,F]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[h,[_,Le],[y,w]],[/\((ip(?:hone|od)[\w ]*);/i],[h,[_,O],[y,w]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[h,[_,O],[y,F]],[/(macintosh);/i],[h,[_,O]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[h,[_,J],[y,F]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[h,[_,J],[y,w]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[h,/_/g," "],[_,pe],[y,w]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[h,/_/g," "],[_,pe],[y,F]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[h,[_,"OPPO"],[y,w]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[h,[_,"Vivo"],[y,w]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[h,[_,"Realme"],[y,w]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[h,[_,Q],[y,w]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[h,[_,Q],[y,F]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[h,[_,Y],[y,F]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[h,[_,Y],[y,w]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[h,[_,"Lenovo"],[y,F]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[h,/_/g," "],[_,"Nokia"],[y,w]],[/(pixel c)\b/i],[h,[_,W],[y,F]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[h,[_,W],[y,w]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[h,[_,ae],[y,w]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[h,"Xperia Tablet"],[_,ae],[y,F]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[h,[_,"OnePlus"],[y,w]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[h,[_,M],[y,F]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[h,/(.+)/g,"Fire Phone $1"],[_,M],[y,w]],[/(playbook);[-\w\),; ]+(rim)/i],[h,_,[y,F]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[h,[_,U],[y,w]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[h,[_,N],[y,F]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[h,[_,N],[y,w]],[/(nexus 9)/i],[h,[_,"HTC"],[y,F]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\w]*)/i],[_,[h,/_/g," "],[y,w]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[h,[_,"Acer"],[y,F]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[h,[_,"Meizu"],[y,w]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[h,[_,Ee],[y,w]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[_,h,[y,w]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[_,h,[y,F]],[/(surface duo)/i],[h,[_,ne],[y,F]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[h,[_,"Fairphone"],[y,w]],[/(u304aa)/i],[h,[_,"AT&T"],[y,w]],[/\bsie-(\w*)/i],[h,[_,"Siemens"],[y,w]],[/\b(rct\w+) b/i],[h,[_,"RCA"],[y,F]],[/\b(venue[\d ]{2,7}) b/i],[h,[_,"Dell"],[y,F]],[/\b(q(?:mv|ta)\w+) b/i],[h,[_,"Verizon"],[y,F]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[h,[_,"Barnes & Noble"],[y,F]],[/\b(tm\d{3}\w+) b/i],[h,[_,"NuVision"],[y,F]],[/\b(k88) b/i],[h,[_,"ZTE"],[y,F]],[/\b(nx\d{3}j) b/i],[h,[_,"ZTE"],[y,w]],[/\b(gen\d{3}) b.+49h/i],[h,[_,"Swiss"],[y,w]],[/\b(zur\d{3}) b/i],[h,[_,"Swiss"],[y,F]],[/\b((zeki)?tb.*\b) b/i],[h,[_,"Zeki"],[y,F]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[_,"Dragon Touch"],h,[y,F]],[/\b(ns-?\w{0,9}) b/i],[h,[_,"Insignia"],[y,F]],[/\b((nxa|next)-?\w{0,9}) b/i],[h,[_,"NextBook"],[y,F]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[_,"Voice"],h,[y,w]],[/\b(lvtel\-)?(v1[12]) b/i],[[_,"LvTel"],h,[y,w]],[/\b(ph-1) /i],[h,[_,"Essential"],[y,w]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[h,[_,"Envizen"],[y,F]],[/\b(trio[-\w\. ]+) b/i],[h,[_,"MachSpeed"],[y,F]],[/\btu_(1491) b/i],[h,[_,"Rotor"],[y,F]],[/(shield[\w ]+) b/i],[h,[_,"Nvidia"],[y,F]],[/(sprint) (\w+)/i],[_,h,[y,w]],[/(kin\.[onetw]{3})/i],[[h,/\./g," "],[_,ne],[y,w]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[h,[_,Te],[y,F]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[h,[_,Te],[y,w]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[_,h,[y,A]],[/droid.+; (shield) bui/i],[h,[_,"Nvidia"],[y,A]],[/(playstation [345portablevi]+)/i],[h,[_,ae],[y,A]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[h,[_,ne],[y,A]],[/smart-tv.+(samsung)/i],[_,[y,x]],[/hbbtv.+maple;(\d+)/i],[[h,/^/,"SmartTV"],[_,Le],[y,x]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[_,Y],[y,x]],[/(apple) ?tv/i],[_,[h,O+" TV"],[y,x]],[/crkey/i],[[h,K+"cast"],[_,W],[y,x]],[/droid.+aft(\w)( bui|\))/i],[h,[_,M],[y,x]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[h,[_,Ee],[y,x]],[/(bravia[\w ]+)( bui|\))/i],[h,[_,ae],[y,x]],[/(mitv-\w{5}) bui/i],[h,[_,pe],[y,x]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[_,ve],[h,ve],[y,x]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[y,x]],[/((pebble))app/i],[_,h,[y,I]],[/droid.+; (glass) \d/i],[h,[_,W],[y,I]],[/droid.+; (wt63?0{2,3})\)/i],[h,[_,Te],[y,I]],[/(quest( 2)?)/i],[h,[_,ze],[y,I]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[_,[y,R]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[h,[y,w]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[h,[y,F]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[y,F]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[y,w]],[/(android[-\w\. ]{0,9});.+buil/i],[h,[_,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[b,[E,V+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[b,[E,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[E,b],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[b,E]],os:[[/microsoft (windows) (vista|xp)/i],[E,b],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[E,[b,qe,ie]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[E,"Windows"],[b,qe,ie]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[b,/_/g,"."],[E,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[E,"Mac OS"],[b,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[b,E],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[E,b],[/\(bb(10);/i],[b,[E,U]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[b,[E,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[b,[E,G+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[b,[E,"webOS"]],[/crkey\/([\d\.]+)/i],[b,[E,K+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[E,"Chromium OS"],b],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[E,b],[/(sunos) ?([\w\.\d]*)/i],[[E,"Solaris"],b],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[E,b]]},De=function(se,fe){if(typeof se===f&&(fe=se,se=a),!(this instanceof De))return new De(se,fe).getResult();var de=se||(typeof r!==l&&r.navigator&&r.navigator.userAgent?r.navigator.userAgent:i),Me=fe?ce(me,fe):me;return this.getBrowser=function(){var Se={};return Se[E]=a,Se[b]=a,Ae.call(Se,de,Me.browser),Se.major=ke(Se.version),Se},this.getCPU=function(){var Se={};return Se[C]=a,Ae.call(Se,de,Me.cpu),Se},this.getDevice=function(){var Se={};return Se[_]=a,Se[h]=a,Se[y]=a,Ae.call(Se,de,Me.device),Se},this.getEngine=function(){var Se={};return Se[E]=a,Se[b]=a,Ae.call(Se,de,Me.engine),Se},this.getOS=function(){var Se={};return Se[E]=a,Se[b]=a,Ae.call(Se,de,Me.os),Se},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return de},this.setUA=function(Se){return de=typeof Se===p&&Se.length>P?ve(Se,P):Se,this},this.setUA(de),this};De.VERSION=n,De.BROWSER=ge([E,b,v]),De.CPU=ge([C]),De.DEVICE=ge([h,_,y,A,w,x,F,I,R]),De.ENGINE=De.OS=ge([E,b]),e.exports&&(t=e.exports=De),t.UAParser=De;var le=typeof r!==l&&(r.jQuery||r.Zepto);if(le&&!le.ua){var je=new De;le.ua=je.getResult(),le.ua.get=function(){return je.getUA()},le.ua.set=function(se){je.setUA(se);var fe=je.getResult();for(var de in fe)le.ua[de]=fe[de]}}})(typeof window=="object"?window:ut)})(aS,_i);var iS=_i,Bt="Unknown",oS={"Mac OS":"Mac OS X"};function sS(e){return oS[e]||e}function uS(e){if(!e)return{major:"",minor:""};var t=e.split(".");return{major:t[0],minor:t[1]}}var lS=new iS,It=lS.getResult(),cS=uS(It.browser.version),fS={browserArchitecture:It.cpu.architecture||Bt,browserFullVersion:It.browser.version||Bt,browserMinorVersion:cS.minor||Bt,browserName:It.browser.name||Bt,browserVersion:It.browser.major||Bt,deviceName:It.device.model||Bt,engineName:It.engine.name||Bt,engineVersion:It.engine.version||Bt,platformArchitecture:It.cpu.architecture||Bt,platformName:sS(It.os.name)||Bt,platformVersion:It.os.version||Bt,platformFullVersion:It.os.version||Bt},dS=fS,bi=He,bh=/\./,pS=/\|\|/,hS=/\s+\-\s+/,gS=/^(<=|<|=|>=|~>|~|>|)?\s*(.+)/,Tc=/^(\d*)(.*)/;function vS(e,t){var r=e.split(pS);return r.length>1?r.some(function(a){return Ah.contains(a,t)}):(e=r[0].trim(),mS(e,t))}function mS(e,t){var r=e.split(hS);if(r.length>0&&r.length<=2||bi(!1,'the "-" operator expects exactly 2 operands'),r.length===1)return $o(r[0],t);var a=r[0],n=r[1];return Fc(a)&&Fc(n)||bi(!1,'operands to the "-" operator must be simple (no modifiers)'),$o(">="+a,t)&&$o("<="+n,t)}function $o(e,t){if(e=e.trim(),e==="")return!0;var r=t.split(bh),a=wh(e),n=a.modifier,i=a.rangeComponents;switch(n){case"<":return Sh(r,i);case"<=":return yS(r,i);case">=":return Ch(r,i);case">":return _S(r,i);case"~":case"~>":return bS(r,i);default:return ES(r,i)}}function Sh(e,t){return Sa(e,t)===-1}function yS(e,t){var r=Sa(e,t);return r===-1||r===0}function ES(e,t){return Sa(e,t)===0}function Ch(e,t){var r=Sa(e,t);return r===1||r===0}function _S(e,t){return Sa(e,t)===1}function bS(e,t){var r=t.slice(),a=t.slice();a.length>1&&a.pop();var n=a.length-1,i=parseInt(a[n],10);return Rs(i)&&(a[n]=i+1+""),Ch(e,r)&&Sh(e,a)}function wh(e){var t=e.split(bh),r=t[0].match(gS);return r||bi(!1,"expected regex to match but it did not"),{modifier:r[1],rangeComponents:[r[2]].concat(t.slice(1))}}function Rs(e){return!isNaN(e)&&isFinite(e)}function Fc(e){return!wh(e).modifier}function Oc(e,t){for(var r=e.length;r<t;r++)e[r]="0"}function SS(e,t){e=e.slice(),t=t.slice(),Oc(e,t.length);for(var r=0;r<t.length;r++){var a=t[r].match(/^[x*]$/i);if(a&&(t[r]=e[r]="0",a[0]==="*"&&r===t.length-1))for(var n=r;n<e.length;n++)e[n]="0"}return Oc(t,e.length),[e,t]}function CS(e,t){var r=e.match(Tc)[1],a=t.match(Tc)[1],n=parseInt(r,10),i=parseInt(a,10);return Rs(n)&&Rs(i)&&n!==i?kc(n,i):kc(e,t)}function kc(e,t){return typeof e!=typeof t&&bi(!1,'"a" and "b" must be of the same type'),e>t?1:e<t?-1:0}function Sa(e,t){for(var r=SS(e,t),a=r[0],n=r[1],i=0;i<n.length;i++){var s=CS(a[i],n[i]);if(s)return s}return 0}var Ah={contains:function(t,r){return vS(t.trim(),r.trim())}},wS=Ah,AS=Object.prototype.hasOwnProperty;function DS(e,t,r){if(!e)return null;var a={};for(var n in e)AS.call(e,n)&&(a[n]=t.call(r,e[n],n,e));return a}var xS=DS;function TS(e){var t={};return function(r){return t.hasOwnProperty(r)||(t[r]=e.call(this,r)),t[r]}}var FS=TS,Xt=dS,OS=wS,kS=xS,BS=FS;function vn(e,t,r,a){if(e===r)return!0;if(!r.startsWith(e))return!1;var n=r.slice(e.length);return t?(n=a?a(n):n,OS.contains(n,t)):!1}function IS(e){return Xt.platformName==="Windows"?e.replace(/^\s*NT/,""):e}var MS={isBrowser:function(t){return vn(Xt.browserName,Xt.browserFullVersion,t)},isBrowserArchitecture:function(t){return vn(Xt.browserArchitecture,null,t)},isDevice:function(t){return vn(Xt.deviceName,null,t)},isEngine:function(t){return vn(Xt.engineName,Xt.engineVersion,t)},isPlatform:function(t){return vn(Xt.platformName,Xt.platformFullVersion,t,IS)},isPlatformArchitecture:function(t){return vn(Xt.platformArchitecture,null,t)}},wt=kS(MS,BS);function RS(e){return!e||!e.ownerDocument?document:e.ownerDocument}var Hi=RS;function PS(e){return!e||!e.ownerDocument?!1:e.nodeType===Node.ELEMENT_NODE}var Gr=PS,LS=Gr;function Dh(e){if(LS(e)){var t=e,r=t.getAttribute("data-offset-key");if(r)return r;for(var a=0;a<t.childNodes.length;a++){var n=Dh(t.childNodes[a]);if(n)return n}}return null}var xh=Dh,NS=Hi,$S=xh;function KS(e){for(var t=e;t&&t!==NS(e).documentElement;){var r=$S(t);if(r!=null)return r;t=t.parentNode}return null}var ji=KS;function zS(e){return!e||!e.ownerDocument||!e.ownerDocument.defaultView?window:e.ownerDocument.defaultView}var Th=zS;function ja(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var US=wt,HS=ji,jS=Th,WS=he,qS=He,VS=Ct,Bc=WS.Map,GS={subtree:!0,characterData:!0,childList:!0,characterDataOldValue:!1,attributes:!1},Ic=US.isBrowser("IE <= 11"),XS=function(){function e(r){var a=this;ja(this,"observer",void 0),ja(this,"container",void 0),ja(this,"mutations",void 0),ja(this,"onCharData",void 0),this.container=r,this.mutations=Bc();var n=jS(r);n.MutationObserver&&!Ic?this.observer=new n.MutationObserver(function(i){return a.registerMutations(i)}):this.onCharData=function(i){i.target instanceof Node||qS(!1,"Expected target to be an instance of Node"),a.registerMutation({type:"characterData",target:i.target})}}var t=e.prototype;return t.start=function(){this.observer?this.observer.observe(this.container,GS):this.container.addEventListener("DOMCharacterDataModified",this.onCharData)},t.stopAndFlushMutations=function(){var a=this.observer;a?(this.registerMutations(a.takeRecords()),a.disconnect()):this.container.removeEventListener("DOMCharacterDataModified",this.onCharData);var n=this.mutations;return this.mutations=Bc(),n},t.registerMutations=function(a){for(var n=0;n<a.length;n++)this.registerMutation(a[n])},t.getMutationTextContent=function(a){var n=a.type,i=a.target,s=a.removedNodes;if(n==="characterData"){if(i.textContent!=="")return Ic?i.textContent.replace(`
`,""):i.textContent}else if(n==="childList"){if(s&&s.length)return"";if(i.textContent!=="")return i.textContent}return null},t.registerMutation=function(a){var n=this.getMutationTextContent(a);if(n!=null){var i=VS(HS(a.target));this.mutations=this.mutations.set(i,n)}},e}(),YS=XS,Wa="-",ZS={encode:function(t,r,a){return t+Wa+r+Wa+a},decode:function(t){var r=t.split(Wa).reverse(),a=r[0],n=r[1],i=r.slice(2);return{blockKey:i.reverse().join(Wa),decoratorKey:parseInt(n,10),leafKey:parseInt(a,10)}}},hr=ZS,Wi={BACKSPACE:8,TAB:9,RETURN:13,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,COMMA:188,PERIOD:190,A:65,Z:90,ZERO:48,NUMPAD_0:96,NUMPAD_9:105},Fh={logBlockedSelectionEvent:function(){return null},logSelectionStateFailure:function(){return null}};function JS(e){return!e||!e.ownerDocument?!1:e.ownerDocument.defaultView?e instanceof e.ownerDocument.defaultView.HTMLElement:e instanceof HTMLElement}var Ca=JS,Mc=He,QS=Ca;function eC(e){var t=e.editorContainer;t||Mc(!1,"Missing editorNode"),QS(t.firstChild)||Mc(!1,"editorNode.firstChild is not an HTMLElement");var r=t.firstChild;return r}var Oh=eC,Rc=hr,tC=Ct;function rC(e,t,r,a,n){var i=tC(e.getSelection());if(!t||!a)return console.warn("Invalid selection state.",arguments,e.toJS()),i;var s=Rc.decode(t),u=s.blockKey,l=e.getBlockTree(u),f=l&&l.getIn([s.decoratorKey,"leaves",s.leafKey]),p=Rc.decode(a),v=p.blockKey,h=e.getBlockTree(v),E=h&&h.getIn([p.decoratorKey,"leaves",p.leafKey]);if(!f||!E)return console.warn("Invalid selection state.",arguments,e.toJS()),i;var y=f.get("start"),_=E.get("start"),b=f?y+r:null,C=E?_+n:null,A=i.getAnchorKey()===u&&i.getAnchorOffset()===b&&i.getFocusKey()===v&&i.getFocusOffset()===C;if(A)return i;var w=!1;if(u===v){var F=f.get("end"),x=E.get("end");_===y&&x===F?w=n<r:w=_<y}else{var I=e.getCurrentContent().getBlockMap().keySeq().skipUntil(function(R){return R===u||R===v}).first();w=I===v}return i.merge({anchorKey:u,anchorOffset:b,focusKey:v,focusOffset:C,isBackward:w})}var kh=rC,ra=ji,la=xh,Pc=kh,Ko=He,xu=Gr,Ur=Ct;function nC(e,t,r,a,n,i){var s=r.nodeType===Node.TEXT_NODE,u=n.nodeType===Node.TEXT_NODE;if(s&&u)return{selectionState:Pc(e,Ur(ra(r)),a,Ur(ra(n)),i),needsRecovery:!1};var l=null,f=null,p=!0;return s?(l={key:Ur(ra(r)),offset:a},f=qa(t,n,i)):u?(f={key:Ur(ra(n)),offset:i},l=qa(t,r,a)):(l=qa(t,r,a),f=qa(t,n,i),r===n&&a===i&&(p=!!r.firstChild&&r.firstChild.nodeName!=="BR")),{selectionState:Pc(e,l.key,l.offset,f.key,f.offset),needsRecovery:p}}function aC(e){for(;e.firstChild&&(xu(e.firstChild)&&e.firstChild.getAttribute("data-blocks")==="true"||la(e.firstChild));)e=e.firstChild;return e}function iC(e){for(;e.lastChild&&(xu(e.lastChild)&&e.lastChild.getAttribute("data-blocks")==="true"||la(e.lastChild));)e=e.lastChild;return e}function qa(e,t,r){var a=t,n=ra(a);if(n!=null||e&&(e===a||e.firstChild===a)||Ko(!1,"Unknown node in selection range."),e===a){a=a.firstChild,xu(a)||Ko(!1,"Invalid DraftEditorContents node.");var i=a;a=i,a.getAttribute("data-contents")!=="true"&&Ko(!1,"Invalid DraftEditorContents structure."),r>0&&(r=a.childNodes.length)}if(r===0){var s=null;if(n!=null)s=n;else{var u=aC(a);s=Ur(la(u))}return{key:s,offset:0}}var l=a.childNodes[r-1],f=null,p=null;if(!la(l))f=Ur(n),p=Lc(l);else{var v=iC(l);f=Ur(la(v)),p=Lc(v)}return{key:f,offset:p}}function Lc(e){var t=e.textContent;return t===`
`?0:t.length}var Bh=nC,oC=Bh;function sC(e,t){var r=t.ownerDocument.defaultView.getSelection(),a=r.anchorNode,n=r.anchorOffset,i=r.focusNode,s=r.focusOffset,u=r.rangeCount;return u===0||a==null||i==null?{selectionState:e.getSelection().set("hasFocus",!1),needsRecovery:!1}:oC(e,t,a,n,i,s)}var Ih=sC,uC=Fh,Nc=Xe,lC=Oh,cC=Ih;function fC(e){if(e._blockSelectEvents||e._latestEditorState!==e.props.editorState){if(e._blockSelectEvents){var t=e.props.editorState,r=t.getSelection();uC.logBlockedSelectionEvent({anonymizedDom:"N/A",extraParams:JSON.stringify({stacktrace:new Error().stack}),selectionState:JSON.stringify(r.toJS())})}return}var a=e.props.editorState,n=cC(a,lC(e)),i=n.selectionState;i!==a.getSelection()&&(n.needsRecovery?a=Nc.forceSelection(a,i):a=Nc.acceptSelection(a,i),e.update(a))}var Mh=fC;function dC(e){return e!=null&&e!=""}var Rh={notEmptyKey:dC},pC=Rh,hC=pC.notEmptyKey;function gC(e,t){var r;if(t.isCollapsed()){var a=t.getAnchorKey(),n=t.getAnchorOffset();return n>0?(r=e.getBlockForKey(a).getEntityAt(n-1),r!==e.getBlockForKey(a).getEntityAt(n)?null:$c(e.getEntityMap(),r)):null}var i=t.getStartKey(),s=t.getStartOffset(),u=e.getBlockForKey(i);return r=s===u.getLength()?null:u.getEntityAt(s),$c(e.getEntityMap(),r)}function $c(e,t){if(hC(t)){var r=e.__get(t);return r.getMutability()==="MUTABLE"?t:null}return null}var Tu=gC,vC=YS,mC=St,yC=hr,Xn=Xe,zo=Wi,EC=wt,_C=Mh,Ph=Oh,bC=Ih,SC=Tu,CC=Ct,wC=EC.isBrowser("IE"),AC=20,Uo=!1,Va=!1,ca=null;function DC(e){ca||(ca=new vC(Ph(e)),ca.start())}var Ps={onCompositionStart:function(t){Va=!0,DC(t)},onCompositionEnd:function(t){Uo=!1,Va=!1,setTimeout(function(){Uo||Ps.resolveComposition(t)},AC)},onSelect:_C,onKeyDown:function(t,r){if(!Va){Ps.resolveComposition(t),t._onKeyDown(r);return}(r.which===zo.RIGHT||r.which===zo.LEFT)&&r.preventDefault()},onKeyPress:function(t,r){r.which===zo.RETURN&&r.preventDefault()},resolveComposition:function(t){if(!Va){var r=CC(ca).stopAndFlushMutations();ca=null,Uo=!0;var a=Xn.set(t._latestEditorState,{inCompositionMode:!1});if(t.exitCurrentMode(),!r.size){t.update(a);return}var n=a.getCurrentContent();r.forEach(function(l,f){var p=yC.decode(f),v=p.blockKey,h=p.decoratorKey,E=p.leafKey,y=a.getBlockTree(v).getIn([h,"leaves",E]),_=y.start,b=y.end,C=a.getSelection().merge({anchorKey:v,focusKey:v,anchorOffset:_,focusOffset:b,isBackward:!1}),A=SC(n,C),w=n.getBlockForKey(v).getInlineStyleAt(_);n=mC.replaceText(n,C,l,w,A),a=Xn.set(a,{currentContent:n})});var i=bC(a,Ph(t)),s=i.selectionState;t.restoreEditorDOM();var u=wC?Xn.forceSelection(a,s):Xn.acceptSelection(a,s);t.update(Xn.push(u,n,"insert-characters"))}}},xC=Ps,Ho,Kc;function TC(){if(Kc)return Ho;Kc=1;var e=Wr;function t(){return t=e||function(l){for(var f=1;f<arguments.length;f++){var p=arguments[f];for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(l[v]=p[v])}return l},t.apply(this,arguments)}function r(l,f){l.prototype=Object.create(f.prototype),l.prototype.constructor=l,l.__proto__=f}var a=hr,n=T,i=Cu,s=zi,u=function(l){r(f,l);function f(){return l.apply(this,arguments)||this}var p=f.prototype;return p.render=function(){var h=this.props,E=h.block,y=h.children,_=h.contentState,b=h.decorator,C=h.decoratorKey,A=h.direction,w=h.leafSet,F=h.text,x=E.getKey(),I=w.get("leaves"),R=b.getComponentForKey(C),P=b.getPropsForKey(C),M=a.encode(x,parseInt(C,10),0),O=F.slice(I.first().get("start"),I.last().get("end")),N=s.getHTMLDirIfDifferent(i.getDirection(O),A);return n.createElement(R,t({},P,{contentState:_,decoratedText:O,dir:N,key:M,entityKey:E.getEntityAt(w.get("start")),offsetKey:M}),y)},f}(n.Component);return Ho=u,Ho}function zc(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FC(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function Uc(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var An=T,OC=wt,kC=He,BC=Gr,Fu=OC.isBrowser("IE <= 11");function IC(e){return Fu?e.textContent===`
`:e.tagName==="BR"}var MC=function(t){return Fu?An.createElement("span",{key:"A","data-text":"true",ref:t},`
`):An.createElement("br",{key:"A","data-text":"true",ref:t})},RC=function(t){return Fu?An.createElement("span",{key:"B","data-text":"true",ref:t},`
`):An.createElement("br",{key:"B","data-text":"true",ref:t})},PC=function(e){FC(t,e);function t(a){var n;return n=e.call(this,a)||this,Uc(zc(n),"_forceFlag",void 0),Uc(zc(n),"_node",void 0),n._forceFlag=!1,n}var r=t.prototype;return r.shouldComponentUpdate=function(n){var i=this._node,s=n.children==="";BC(i)||kC(!1,"node is not an Element");var u=i;return s?!IC(u):u.textContent!==n.children},r.componentDidMount=function(){this._forceFlag=!this._forceFlag},r.componentDidUpdate=function(){this._forceFlag=!this._forceFlag},r.render=function(){var n=this;return this.props.children===""?this._forceFlag?MC(function(i){return n._node=i}):RC(function(i){return n._node=i}):An.createElement("span",{key:this._forceFlag?"A":"B","data-text":"true",ref:function(s){return n._node=s}},this.props.children)},t}(An.Component),LC=PC,NC=Gr;function $C(e){return!e||!e.ownerDocument?!1:NC(e)&&e.nodeName==="BR"}var Lh=$C;function KC(e){var t=e?e.ownerDocument||e:document,r=t.defaultView||window;return!!(e&&(typeof r.Node=="function"?e instanceof r.Node:typeof e=="object"&&typeof e.nodeType=="number"&&typeof e.nodeName=="string"))}var zC=KC,UC=zC;function HC(e){return UC(e)&&e.nodeType==3}var jC=HC,Hc=jC;function Nh(e,t){return!e||!t?!1:e===t?!0:Hc(e)?!1:Hc(t)?Nh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1}var Ou=Nh;function WC(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var $h=WC,Ls=Fh,qC=wt,Kh=Ou,VC=$h,ku=Hi,GC=He,zh=Gr,XC=qC.isBrowser("IE");function YC(e,t){if(!e)return"[empty]";var r=Uh(e,t);if(r.nodeType===Node.TEXT_NODE)return r.textContent;zh(r)||GC(!1,"Node must be an Element if it is not a text node.");var a=r;return a.outerHTML}function Uh(e,t){var r=t!==void 0?t(e):[];if(e.nodeType===Node.TEXT_NODE){var a=e.textContent.length;return ku(e).createTextNode("[text "+a+(r.length?" | "+r.join(", "):"")+"]")}var n=e.cloneNode();n.nodeType===1&&r.length&&n.setAttribute("data-labels",r.join(", "));for(var i=e.childNodes,s=0;s<i.length;s++)n.appendChild(Uh(i[s],t));return n}function Ns(e,t){for(var r=e,a=r;r;){if(zh(r)&&a.hasAttribute("contenteditable"))return YC(r,t);r=r.parentNode,a=r}return"Could not find contentEditable parent of node"}function Hh(e){return e.nodeValue===null?e.childNodes.length:e.nodeValue.length}function ZC(e,t,r,a,n){var i=ku(t);if(Kh(i.documentElement,t)){var s=i.defaultView.getSelection(),u=e.getAnchorKey(),l=e.getAnchorOffset(),f=e.getFocusKey(),p=e.getFocusOffset(),v=e.getIsBackward();if(!s.extend&&v){var h=u,E=l;u=f,l=p,f=h,p=E,v=!1}var y=u===r&&a<=l&&n>=l,_=f===r&&a<=p&&n>=p;if(y&&_){s.removeAllRanges(),Ga(s,t,l-a,e),pi(s,t,p-a,e);return}if(!v)y&&(s.removeAllRanges(),Ga(s,t,l-a,e)),_&&pi(s,t,p-a,e);else if(_&&(s.removeAllRanges(),Ga(s,t,p-a,e)),y){var b=s.focusNode,C=s.focusOffset;s.removeAllRanges(),Ga(s,t,l-a,e),pi(s,b,C,e)}}}function pi(e,t,r,a){var n=VC(),i=e.extend;if(i&&t!=null&&Kh(n,t)){r>Hh(t)&&Ls.logSelectionStateFailure({anonymizedDom:Ns(t),extraParams:JSON.stringify({offset:r}),selectionState:JSON.stringify(a.toJS())});var s=t===e.focusNode;try{e.rangeCount>0&&e.extend&&e.extend(t,r)}catch(l){throw Ls.logSelectionStateFailure({anonymizedDom:Ns(t,function(f){var p=[];return f===n&&p.push("active element"),f===e.anchorNode&&p.push("selection anchor node"),f===e.focusNode&&p.push("selection focus node"),p}),extraParams:JSON.stringify({activeElementName:n?n.nodeName:null,nodeIsFocus:t===e.focusNode,nodeWasFocus:s,selectionRangeCount:e.rangeCount,selectionAnchorNodeName:e.anchorNode?e.anchorNode.nodeName:null,selectionAnchorOffset:e.anchorOffset,selectionFocusNodeName:e.focusNode?e.focusNode.nodeName:null,selectionFocusOffset:e.focusOffset,message:l?""+l:null,offset:r},null,2),selectionState:JSON.stringify(a.toJS(),null,2)}),l}}else if(t&&e.rangeCount>0){var u=e.getRangeAt(0);u.setEnd(t,r),e.addRange(u.cloneRange())}}function Ga(e,t,r,a){var n=ku(t).createRange();if(r>Hh(t)&&Ls.logSelectionStateFailure({anonymizedDom:Ns(t),extraParams:JSON.stringify({offset:r}),selectionState:JSON.stringify(a.toJS())}),n.setStart(t,r),XC)try{e.addRange(n)}catch(i){console.warn("Call to selection.addRange() threw exception: ",i)}else e.addRange(n)}var JC={setDraftEditorSelection:ZC,addFocusToSelection:pi},jc=Wr;function QC(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ew(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function tw(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var rw=LC,jo=T,Xa=He,nw=Lh,aw=JC.setDraftEditorSelection,iw=function(e){ew(t,e);function t(){for(var a,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return a=e.call.apply(e,[this].concat(i))||this,tw(QC(a),"leaf",void 0),a}var r=t.prototype;return r._setSelection=function(){var n=this.props.selection;if(!(n==null||!n.getHasFocus())){var i=this.props,s=i.block,u=i.start,l=i.text,f=s.getKey(),p=u+l.length;if(n.hasEdgeWithin(f,u,p)){var v=this.leaf;v||Xa(!1,"Missing node");var h=v.firstChild;h||Xa(!1,"Missing child");var E;h.nodeType===Node.TEXT_NODE?E=h:nw(h)?E=v:(E=h.firstChild,E||Xa(!1,"Missing targetNode")),aw(n,E,f,u,p)}}},r.shouldComponentUpdate=function(n){var i=this.leaf;i||Xa(!1,"Missing leafNode");var s=i.textContent!==n.text||n.styleSet!==this.props.styleSet||n.forceSelection;return s},r.componentDidUpdate=function(){this._setSelection()},r.componentDidMount=function(){this._setSelection()},r.render=function(){var n=this,i=this.props.block,s=this.props.text;s.endsWith(`
`)&&this.props.isLast&&(s+=`
`);var u=this.props,l=u.customStyleMap,f=u.customStyleFn,p=u.offsetKey,v=u.styleSet,h=v.reduce(function(y,_){var b={},C=l[_];return C!==void 0&&y.textDecoration!==C.textDecoration&&(b.textDecoration=[y.textDecoration,C.textDecoration].join(" ").trim()),jc(y,C,b)},{});if(f){var E=f(v,i);h=jc(h,E)}return jo.createElement("span",{"data-offset-key":p,ref:function(_){return n.leaf=_},style:h},jo.createElement(rw,null,s))},t}(jo.Component),jh=iw,Wo,Wc;function ow(){if(Wc)return Wo;Wc=1;function e(l,f){l.prototype=Object.create(f.prototype),l.prototype.constructor=l,l.__proto__=f}var t=TC(),r=jh,a=hr,n=he,i=T,s=Vr;n.List;var u=function(l){e(f,l);function f(){return l.apply(this,arguments)||this}var p=f.prototype;return p.render=function(){var h=this.props,E=h.block,y=h.contentState,_=h.customStyleFn,b=h.customStyleMap,C=h.decorator,A=h.direction,w=h.forceSelection,F=h.hasSelection,x=h.selection,I=h.tree,R=E.getKey(),P=E.getText(),M=I.size-1,O=this.props.children||I.map(function(N,U){var H=N.get("decoratorKey"),K=N.get("leaves"),V=K.size-1,G=K.map(function(W,J){var Y=a.encode(R,U,J),ne=W.get("start"),Q=W.get("end");return i.createElement(r,{key:Y,offsetKey:Y,block:E,start:ne,selection:F?x:null,forceSelection:w,text:P.slice(ne,Q),styleSet:E.getInlineStyleAt(ne),customStyleMap:b,customStyleFn:_,isLast:H===M&&J===V})}).toArray();return!H||!C?G:i.createElement(t,{block:E,children:G,contentState:y,decorator:C,decoratorKey:H,direction:A,leafSet:N,text:P,key:U})}).toArray();return i.createElement("div",{"data-offset-key":a.encode(R,0,0),className:s({"public/DraftStyleDefault/block":!0,"public/DraftStyleDefault/ltr":A==="LTR","public/DraftStyleDefault/rtl":A==="RTL"})},O)},f}(i.Component);return Wo=u,Wo}function Ya(e,t){return!!t&&(e===t.documentElement||e===t.body)}var sw={getTop:function(t){var r=t.ownerDocument;return Ya(t,r)?r.body.scrollTop||r.documentElement.scrollTop:t.scrollTop},setTop:function(t,r){var a=t.ownerDocument;Ya(t,a)?a.body.scrollTop=a.documentElement.scrollTop=r:t.scrollTop=r},getLeft:function(t){var r=t.ownerDocument;return Ya(t,r)?r.body.scrollLeft||r.documentElement.scrollLeft:t.scrollLeft},setLeft:function(t,r){var a=t.ownerDocument;Ya(t,a)?a.body.scrollLeft=a.documentElement.scrollLeft=r:t.scrollLeft=r}},Bu=sw,uw=/-(.)/g;function lw(e){return e.replace(uw,function(t,r){return r.toUpperCase()})}var cw=lw,fw=/([A-Z])/g;function dw(e){return e.replace(fw,"-$1").toLowerCase()}var pw=dw,qc=cw,Vc=pw;function Yn(e){return e==null?e:String(e)}function hw(e,t){var r;if(window.getComputedStyle&&(r=window.getComputedStyle(e,null),r))return Yn(r.getPropertyValue(Vc(t)));if(document.defaultView&&document.defaultView.getComputedStyle){if(r=document.defaultView.getComputedStyle(e,null),r)return Yn(r.getPropertyValue(Vc(t)));if(t==="display")return"none"}return e.currentStyle?Yn(t==="float"?e.currentStyle.cssFloat||e.currentStyle.styleFloat:e.currentStyle[qc(t)]):Yn(e.style&&e.style[qc(t)])}var gw=hw,vw=gw;function qo(e,t){var r=Wh.get(e,t);return r==="auto"||r==="scroll"}var Wh={get:vw,getScrollParent:function(t){if(!t)return null;for(var r=t.ownerDocument;t&&t!==r.body;){if(qo(t,"overflow")||qo(t,"overflowY")||qo(t,"overflowX"))return t;t=t.parentNode}return r.defaultView||r.parentWindow}},qi=Wh,mw=Ou;function yw(e){var t=e.ownerDocument.documentElement;if(!("getBoundingClientRect"in e)||!mw(t,e))return{left:0,right:0,top:0,bottom:0};var r=e.getBoundingClientRect();return{left:Math.round(r.left)-t.clientLeft,right:Math.round(r.right)-t.clientLeft,top:Math.round(r.top)-t.clientTop,bottom:Math.round(r.bottom)-t.clientTop}}var Ew=yw,_w=Ew;function bw(e){var t=_w(e);return{x:t.left,y:t.top,width:t.right-t.left,height:t.bottom-t.top}}var qh=bw,Sw=typeof navigator<"u"&&navigator.userAgent.indexOf("AppleWebKit")>-1;function Cw(e){return e=e||document,e.scrollingElement?e.scrollingElement:!Sw&&e.compatMode==="CSS1Compat"?e.documentElement:e.body}var ww=Cw;function Aw(e){return e.Window&&e instanceof e.Window?{x:e.pageXOffset||e.document.documentElement.scrollLeft,y:e.pageYOffset||e.document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}var Dw=Aw,xw=ww,Tw=Dw;function Fw(e){var t=xw(e.ownerDocument||e.document);e.Window&&e instanceof e.Window&&(e=t);var r=Tw(e),a=e===t?e.ownerDocument.documentElement:e,n=e.scrollWidth-a.clientWidth,i=e.scrollHeight-a.clientHeight;return r.x=Math.max(0,Math.min(r.x,n)),r.y=Math.max(0,Math.min(r.y,i)),r}var Vi=Fw;function Vh(){var e;return document.documentElement&&(e=document.documentElement.clientWidth),!e&&document.body&&(e=document.body.clientWidth),e||0}function Gh(){var e;return document.documentElement&&(e=document.documentElement.clientHeight),!e&&document.body&&(e=document.body.clientHeight),e||0}function Xh(){return{width:window.innerWidth||Vh(),height:window.innerHeight||Gh()}}Xh.withoutScrollbars=function(){return{width:Vh(),height:Gh()}};var Yh=Xh,Vo,Gc;function Ow(){if(Gc)return Vo;Gc=1;var e=Wr;function t(){return t=e||function(M){for(var O=1;O<arguments.length;O++){var N=arguments[O];for(var U in N)Object.prototype.hasOwnProperty.call(N,U)&&(M[U]=N[U])}return M},t.apply(this,arguments)}function r(M){if(M===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M}function a(M,O){M.prototype=Object.create(O.prototype),M.prototype.constructor=M,M.__proto__=O}function n(M){for(var O=1;O<arguments.length;O++){var N=arguments[O]!=null?arguments[O]:{},U=Object.keys(N);typeof Object.getOwnPropertySymbols=="function"&&(U=U.concat(Object.getOwnPropertySymbols(N).filter(function(H){return Object.getOwnPropertyDescriptor(N,H).enumerable}))),U.forEach(function(H){i(M,H,N[H])})}return M}function i(M,O,N){return O in M?Object.defineProperty(M,O,{value:N,enumerable:!0,configurable:!0,writable:!0}):M[O]=N,M}var s=ow(),u=hr,l=T,f=Bu,p=qi,v=qh,h=Vi,E=Yh,y=he,_=He,b=Ca,C=10;y.List;var A=function(O,N){return O.getAnchorKey()===N||O.getFocusKey()===N},w=function(O,N){var U=O.getNextSiblingKey();return U?N.getBlockForKey(U).getType()===O.getType():!1},F=function(O,N,U){var H=[],K=!0,V=!1,G=void 0;try{for(var W=U.reverse()[Symbol.iterator](),J;!(K=(J=W.next()).done);K=!0){var Y=J.value;if(Y.type!==N)break;H.push(Y)}}catch(we){V=!0,G=we}finally{try{!K&&W.return!=null&&W.return()}finally{if(V)throw G}}U.splice(U.indexOf(H[0]),H.length+1);var ne=H.reverse(),Q=ne[0].key;return U.push(l.cloneElement(O,{key:"".concat(Q,"-wrap"),"data-offset-key":u.encode(Q,0,0)},ne)),U},x=function(O,N){var U=N.get(O.getType())||N.get("unstyled"),H=U.wrapper,K=U.element||N.get("unstyled").element;return{Element:K,wrapperTemplate:H}},I=function(O,N){var U=N(O);if(!U)return{};var H=U.component,K=U.props,V=U.editable;return{CustomComponent:H,customProps:K,customEditable:V}},R=function(O,N,U,H,K,V){var G={"data-block":!0,"data-editor":N,"data-offset-key":U,key:O.getKey(),ref:V},W=H(O);return W&&(G.className=W),K.customEditable!==void 0&&(G=n({},G,{contentEditable:K.customEditable,suppressContentEditableWarning:!0})),G},P=function(M){a(O,M);function O(){for(var U,H=arguments.length,K=new Array(H),V=0;V<H;V++)K[V]=arguments[V];return U=M.call.apply(M,[this].concat(K))||this,i(r(U),"wrapperRef",l.createRef()),U}var N=O.prototype;return N.shouldComponentUpdate=function(H){var K=this.props,V=K.block,G=K.direction,W=K.tree,J=!V.getChildKeys().isEmpty(),Y=V!==H.block||W!==H.tree||G!==H.direction||A(H.selection,H.block.getKey())&&H.forceSelection;return J||Y},N.componentDidMount=function(){var H=this.props.selection,K=H.getEndKey();if(!(!H.getHasFocus()||K!==this.props.block.getKey())){var V=this.wrapperRef.current;if(V){var G=p.getScrollParent(V),W=h(G),J;if(G===window){var Y=v(V),ne=Y.y+Y.height,Q=E().height;J=ne-Q,J>0&&window.scrollTo(W.x,W.y+J+C)}else{b(V)||_(!1,"blockNode is not an HTMLElement");var we=V,Le=we.offsetHeight+we.offsetTop,Ee=G.offsetHeight+W.y;J=Le-Ee,J>0&&f.setTop(G,f.getTop(G)+J+C)}}}},N.render=function(){var H=this,K=this.props,V=K.block,G=K.blockRenderMap,W=K.blockRendererFn,J=K.blockStyleFn,Y=K.contentState,ne=K.decorator,Q=K.editorKey,we=K.editorState,Le=K.customStyleFn,Ee=K.customStyleMap,ae=K.direction,pe=K.forceSelection,Te=K.selection,ze=K.tree,ce=null;V.children.size&&(ce=V.children.reduce(function(ie,me){var De=u.encode(me,0,0),le=Y.getBlockForKey(me),je=I(le,W),se=je.CustomComponent||O,fe=x(le,G),de=fe.Element,Me=fe.wrapperTemplate,Se=R(le,Q,De,J,je,null),at=n({},H.props,{tree:we.getBlockTree(me),blockProps:je.customProps,offsetKey:De,block:le});return ie.push(l.createElement(de,Se,l.createElement(se,at))),!Me||w(le,Y)||F(Me,de,ie),ie},[]));var ge=V.getKey(),Pe=u.encode(ge,0,0),Ue=I(V,W),ke=Ue.CustomComponent,ve=ke!=null?l.createElement(ke,t({},this.props,{tree:we.getBlockTree(ge),blockProps:Ue.customProps,offsetKey:Pe,block:V})):l.createElement(s,{block:V,children:ce,contentState:Y,customStyleFn:Le,customStyleMap:Ee,decorator:ne,direction:ae,forceSelection:pe,hasSelection:A(Te,ge),selection:Te,tree:ze});if(V.getParentKey())return ve;var Ae=x(V,G),qe=Ae.Element,Fe=R(V,Q,Pe,J,Ue,this.wrapperRef);return l.createElement(qe,Fe,ve)},O}(l.Component);return Vo=P,Vo}var Go,Xc;function kw(){if(Xc)return Go;Xc=1;var e=Wr;function t(){return t=e||function(l){for(var f=1;f<arguments.length;f++){var p=arguments[f];for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(l[v]=p[v])}return l},t.apply(this,arguments)}function r(l,f){l.prototype=Object.create(f.prototype),l.prototype.constructor=l,l.__proto__=f}var a=Ow(),n=hr,i=T,s=Ct,u=function(l){r(f,l);function f(){return l.apply(this,arguments)||this}var p=f.prototype;return p.shouldComponentUpdate=function(h){var E=this.props.editorState,y=h.editorState,_=E.getDirectionMap(),b=y.getDirectionMap();if(_!==b)return!0;var C=E.getSelection().getHasFocus(),A=y.getSelection().getHasFocus();if(C!==A)return!0;var w=y.getNativelyRenderedContent(),F=E.isInCompositionMode(),x=y.isInCompositionMode();if(E===y||w!==null&&y.getCurrentContent()===w||F&&x)return!1;var I=E.getCurrentContent(),R=y.getCurrentContent(),P=E.getDecorator(),M=y.getDecorator();return F!==x||I!==R||P!==M||y.mustForceSelection()},p.render=function(){for(var h=this.props,E=h.blockRenderMap,y=h.blockRendererFn,_=h.blockStyleFn,b=h.customStyleMap,C=h.customStyleFn,A=h.editorState,w=h.editorKey,F=h.textDirectionality,x=A.getCurrentContent(),I=A.getSelection(),R=A.mustForceSelection(),P=A.getDecorator(),M=s(A.getDirectionMap()),O=x.getBlocksAsArray(),N=O[0],U=[],H=N;H;){var K=H.getKey(),V={blockRenderMap:E,blockRendererFn:y,blockStyleFn:_,contentState:x,customStyleFn:C,customStyleMap:b,decorator:P,editorKey:w,editorState:A,forceSelection:R,selection:I,block:H,direction:F||M.get(K),tree:A.getBlockTree(K)},G=E.get(H.getType())||E.get("unstyled"),W=G.wrapper;U.push({block:i.createElement(a,t({key:K},V)),wrapperTemplate:W,key:K,offsetKey:n.encode(K,0,0)});var J=H.getNextSiblingKey();H=J?x.getBlockForKey(J):null}for(var Y=[],ne=0;ne<U.length;){var Q=U[ne];if(Q.wrapperTemplate){var we=[];do we.push(U[ne].block),ne++;while(ne<U.length&&U[ne].wrapperTemplate===Q.wrapperTemplate);var Le=i.cloneElement(Q.wrapperTemplate,{key:Q.key+"-wrap","data-offset-key":Q.offsetKey},we);Y.push(Le)}else Y.push(Q.block),ne++}return i.createElement("div",{"data-contents":"true"},Y)},f}(i.Component);return Go=u,Go}var Bw=Wr;function $s(){return $s=Bw||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},$s.apply(this,arguments)}function Iw(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mw(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function Rw(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Pw=jh,Yc=hr,Za=T,Zc=Bu,Lw=qi,Nw=Cu,$w=zi,Kw=Vr,zw=qh,Uw=Vi,Hw=Yh,jw=He,Ww=Ca,qw=Ct,Jc=10,Qc=function(t,r){return t.getAnchorKey()===r||t.getFocusKey()===r},Vw=function(e){Mw(t,e);function t(){for(var a,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return a=e.call.apply(e,[this].concat(i))||this,Rw(Iw(a),"_node",void 0),a}var r=t.prototype;return r.shouldComponentUpdate=function(n){return this.props.block!==n.block||this.props.tree!==n.tree||this.props.direction!==n.direction||Qc(n.selection,n.block.getKey())&&n.forceSelection},r.componentDidMount=function(){if(!this.props.preventScroll){var n=this.props.selection,i=n.getEndKey();if(!(!n.getHasFocus()||i!==this.props.block.getKey())){var s=this._node;if(s!=null){var u=Lw.getScrollParent(s),l=Uw(u),f;if(u===window){var p=zw(s),v=p.y+p.height,h=Hw().height;f=v-h,f>0&&window.scrollTo(l.x,l.y+f+Jc)}else{Ww(s)||jw(!1,"blockNode is not an HTMLElement");var E=s.offsetHeight+s.offsetTop,y=u.offsetTop+u.offsetHeight,_=y+l.y;f=E-_,f>0&&Zc.setTop(u,Zc.getTop(u)+f+Jc)}}}}},r._renderChildren=function(){var n=this,i=this.props.block,s=i.getKey(),u=i.getText(),l=this.props.tree.size-1,f=Qc(this.props.selection,s);return this.props.tree.map(function(p,v){var h=p.get("leaves");if(h.size===0)return null;var E=h.size-1,y=h.map(function(O,N){var U=Yc.encode(s,v,N),H=O.get("start"),K=O.get("end");return Za.createElement(Pw,{key:U,offsetKey:U,block:i,start:H,selection:f?n.props.selection:null,forceSelection:n.props.forceSelection,text:u.slice(H,K),styleSet:i.getInlineStyleAt(H),customStyleMap:n.props.customStyleMap,customStyleFn:n.props.customStyleFn,isLast:v===l&&N===E})}).toArray(),_=p.get("decoratorKey");if(_==null||!n.props.decorator)return y;var b=qw(n.props.decorator),C=b.getComponentForKey(_);if(!C)return y;var A=b.getPropsForKey(_),w=Yc.encode(s,v,0),F=h.first().get("start"),x=h.last().get("end"),I=u.slice(F,x),R=i.getEntityAt(p.get("start")),P=$w.getHTMLDirIfDifferent(Nw.getDirection(I),n.props.direction),M={contentState:n.props.contentState,decoratedText:I,dir:P,start:F,end:x,blockKey:s,entityKey:R,offsetKey:w};return Za.createElement(C,$s({},A,M,{key:w}),y)}).toArray()},r.render=function(){var n=this,i=this.props,s=i.direction,u=i.offsetKey,l=Kw({"public/DraftStyleDefault/block":!0,"public/DraftStyleDefault/ltr":s==="LTR","public/DraftStyleDefault/rtl":s==="RTL"});return Za.createElement("div",{"data-offset-key":u,className:l,ref:function(p){return n._node=p}},this._renderChildren())},t}(Za.Component),Zh=Vw,Xo,ef;function Gw(){if(ef)return Xo;ef=1;function e(t){var r=t||"",a=arguments.length;if(a>1)for(var n=1;n<a;n++){var i=arguments[n];i&&(r=(r?r+" ":"")+i)}return r}return Xo=e,Xo}var Yo,tf;function Xw(){if(tf)return Yo;tf=1;var e=Wr;function t(){return t=e||function(E){for(var y=1;y<arguments.length;y++){var _=arguments[y];for(var b in _)Object.prototype.hasOwnProperty.call(_,b)&&(E[b]=_[b])}return E},t.apply(this,arguments)}function r(E){for(var y=1;y<arguments.length;y++){var _=arguments[y]!=null?arguments[y]:{},b=Object.keys(_);typeof Object.getOwnPropertySymbols=="function"&&(b=b.concat(Object.getOwnPropertySymbols(_).filter(function(C){return Object.getOwnPropertyDescriptor(_,C).enumerable}))),b.forEach(function(C){a(E,C,_[C])})}return E}function a(E,y,_){return y in E?Object.defineProperty(E,y,{value:_,enumerable:!0,configurable:!0,writable:!0}):E[y]=_,E}function n(E,y){E.prototype=Object.create(y.prototype),E.prototype.constructor=E,E.__proto__=y}var i=Zh,s=hr,u=T,l=Vr,f=Gw(),p=Ct,v=function(y,_,b,C){return l({"public/DraftStyleDefault/unorderedListItem":y==="unordered-list-item","public/DraftStyleDefault/orderedListItem":y==="ordered-list-item","public/DraftStyleDefault/reset":b,"public/DraftStyleDefault/depth0":_===0,"public/DraftStyleDefault/depth1":_===1,"public/DraftStyleDefault/depth2":_===2,"public/DraftStyleDefault/depth3":_===3,"public/DraftStyleDefault/depth4":_>=4,"public/DraftStyleDefault/listLTR":C==="LTR","public/DraftStyleDefault/listRTL":C==="RTL"})},h=function(E){n(y,E);function y(){return E.apply(this,arguments)||this}var _=y.prototype;return _.shouldComponentUpdate=function(C){var A=this.props.editorState,w=C.editorState,F=A.getDirectionMap(),x=w.getDirectionMap();if(F!==x)return!0;var I=A.getSelection().getHasFocus(),R=w.getSelection().getHasFocus();if(I!==R)return!0;var P=w.getNativelyRenderedContent(),M=A.isInCompositionMode(),O=w.isInCompositionMode();if(A===w||P!==null&&w.getCurrentContent()===P||M&&O)return!1;var N=A.getCurrentContent(),U=w.getCurrentContent(),H=A.getDecorator(),K=w.getDecorator();return M!==O||N!==U||H!==K||w.mustForceSelection()},_.render=function(){for(var C=this.props,A=C.blockRenderMap,w=C.blockRendererFn,F=C.blockStyleFn,x=C.customStyleMap,I=C.customStyleFn,R=C.editorState,P=C.editorKey,M=C.preventScroll,O=C.textDirectionality,N=R.getCurrentContent(),U=R.getSelection(),H=R.mustForceSelection(),K=R.getDecorator(),V=p(R.getDirectionMap()),G=N.getBlocksAsArray(),W=[],J=null,Y=null,ne=0;ne<G.length;ne++){var Q=G[ne],we=Q.getKey(),Le=Q.getType(),Ee=w(Q),ae=void 0,pe=void 0,Te=void 0;Ee&&(ae=Ee.component,pe=Ee.props,Te=Ee.editable);var ze=O||V.get(we),ce=s.encode(we,0,0),ge={contentState:N,block:Q,blockProps:pe,blockStyleFn:F,customStyleMap:x,customStyleFn:I,decorator:K,direction:ze,forceSelection:H,offsetKey:ce,preventScroll:M,selection:U,tree:R.getBlockTree(we)},Pe=A.get(Le)||A.get("unstyled"),Ue=Pe.wrapper,ke=Pe.element||A.get("unstyled").element,ve=Q.getDepth(),Ae="";if(F&&(Ae=F(Q)),ke==="li"){var qe=Y!==Ue||J===null||ve>J;Ae=f(Ae,v(Le,ve,qe,ze))}var Fe=ae||i,ie={className:Ae,"data-block":!0,"data-editor":P,"data-offset-key":ce,key:we};Te!==void 0&&(ie=r({},ie,{contentEditable:Te,suppressContentEditableWarning:!0}));var me=u.createElement(ke,ie,u.createElement(Fe,t({},ge,{key:we})));W.push({block:me,wrapperTemplate:Ue,key:we,offsetKey:ce}),Ue?J=Q.getDepth():J=null,Y=Ue}for(var De=[],le=0;le<W.length;){var je=W[le];if(je.wrapperTemplate){var se=[];do se.push(W[le].block),le++;while(le<W.length&&W[le].wrapperTemplate===je.wrapperTemplate);var fe=u.cloneElement(je.wrapperTemplate,{key:je.key+"-wrap","data-offset-key":je.offsetKey},se);De.push(fe)}else De.push(je.block),le++}return u.createElement("div",{"data-contents":"true"},De)},y}(u.Component);return Yo=h,Yo}var Yw=Or,Zw=Yw("draft_tree_data_support"),Jw=Zw?kw():Xw(),Jh={isImage:function(t){return rf(t)[0]==="image"},isJpeg:function(t){var r=rf(t);return Jh.isImage(t)&&(r[1]==="jpeg"||r[1]==="pjpeg")}};function rf(e){return e.split("/")}var Qw=Jh,Ja=He;function eA(e){var t=e.length;if(!Array.isArray(e)&&(typeof e=="object"||typeof e=="function")||Ja(!1,"toArray: Array-like object expected"),typeof t!="number"&&Ja(!1,"toArray: Object needs a length property"),t===0||t-1 in e||Ja(!1,"toArray: Object should have keys for indices"),typeof e.callee=="function"&&Ja(!1,"toArray: Object can't be `arguments`. Use rest params (function(...args) {}) or Array.from() instead."),e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch{}for(var r=Array(t),a=0;a<t;a++)r[a]=e[a];return r}function tA(e){return!!e&&(typeof e=="object"||typeof e=="function")&&"length"in e&&!("setInterval"in e)&&typeof e.nodeType!="number"&&(Array.isArray(e)||"callee"in e||"item"in e)}function rA(e){return tA(e)?Array.isArray(e)?e.slice():eA(e):[e]}var nA=rA;function Gi(e){return function(){return e}}var Xr=function(){};Xr.thatReturns=Gi;Xr.thatReturnsFalse=Gi(!1);Xr.thatReturnsTrue=Gi(!0);Xr.thatReturnsNull=Gi(null);Xr.thatReturnsThis=function(){return this};Xr.thatReturnsArgument=function(e){return e};var aA=Xr,iA=Qw,oA=nA,sA=aA,uA=new RegExp(`\r
`,"g"),lA=`
`,cA={"text/rtf":1,"text/html":1};function fA(e){if(e.kind=="file")return e.getAsFile()}var dA=function(){function e(r){this.data=r,this.types=r.types?oA(r.types):[]}var t=e.prototype;return t.isRichText=function(){return this.getHTML()&&this.getText()?!0:this.isImage()?!1:this.types.some(function(a){return cA[a]})},t.getText=function(){var a;return this.data.getData&&(this.types.length?this.types.indexOf("text/plain")!=-1&&(a=this.data.getData("text/plain")):a=this.data.getData("Text")),a?a.replace(uA,lA):null},t.getHTML=function(){if(this.data.getData)if(this.types.length){if(this.types.indexOf("text/html")!=-1)return this.data.getData("text/html")}else return this.data.getData("Text")},t.isLink=function(){return this.types.some(function(a){return a.indexOf("Url")!=-1||a.indexOf("text/uri-list")!=-1||a.indexOf("text/x-moz-url")})},t.getLink=function(){if(this.data.getData){if(this.types.indexOf("text/x-moz-url")!=-1){var a=this.data.getData("text/x-moz-url").split(`
`);return a[0]}return this.types.indexOf("text/uri-list")!=-1?this.data.getData("text/uri-list"):this.data.getData("url")}return null},t.isImage=function(){var a=this.types.some(function(u){return u.indexOf("application/x-moz-file")!=-1});if(a)return!0;for(var n=this.getFiles(),i=0;i<n.length;i++){var s=n[i].type;if(!iA.isImage(s))return!1}return!0},t.getCount=function(){return this.data.hasOwnProperty("items")?this.data.items.length:this.data.hasOwnProperty("mozItemCount")?this.data.mozItemCount:this.data.files?this.data.files.length:null},t.getFiles=function(){return this.data.items?Array.prototype.slice.call(this.data.items).map(fA).filter(sA.thatReturnsArgument):this.data.files?Array.prototype.slice.call(this.data.files):[]},t.hasFiles=function(){return this.getFiles().length>0},e}(),Qh=dA,pA=He,nf=/\.textClipping$/,hA={"text/plain":!0,"text/html":!0,"text/rtf":!0},gA=5e3;function vA(e,t){var r=0,a=[];e.forEach(function(n){mA(n,function(i){r++,i&&a.push(i.slice(0,gA)),r==e.length&&t(a.join("\r"))})})}function mA(e,t){if(!ut.FileReader||e.type&&!(e.type in hA)){t("");return}if(e.type===""){var r="";nf.test(e.name)&&(r=e.name.replace(nf,"")),t(r);return}var a=new FileReader;a.onload=function(){var n=a.result;typeof n!="string"&&pA(!1,'We should be calling "FileReader.readAsText" which returns a string'),t(n)},a.onerror=function(){t("")},a.readAsText(e)}var eg=vA;function yA(e){return e==="handled"||e===!0}var Xi=yA,EA=Qh,tg=St,rg=Xe,_A=ji,bA=Hi,SA=eg,CA=kh,wA=Th,af=Xi,Zo=Ct;function AA(e,t){var r=null,a=null,n=bA(e.currentTarget);if(typeof n.caretRangeFromPoint=="function"){var i=n.caretRangeFromPoint(e.x,e.y);r=i.startContainer,a=i.startOffset}else if(e.rangeParent)r=e.rangeParent,a=e.rangeOffset;else return null;r=Zo(r),a=Zo(a);var s=Zo(_A(r));return CA(t,s,a,s,a)}var DA={onDragEnd:function(t){t.exitCurrentMode(),of(t)},onDrop:function(t,r){var a=new EA(r.nativeEvent.dataTransfer),n=t._latestEditorState,i=AA(r.nativeEvent,n);if(r.preventDefault(),t._dragCount=0,t.exitCurrentMode(),i!=null){var s=a.getFiles();if(s.length>0){if(t.props.handleDroppedFiles&&af(t.props.handleDroppedFiles(i,s)))return;SA(s,function(l){l&&t.update(sf(n,i,l))});return}var u=t._internalDrag?"internal":"external";t.props.handleDrop&&af(t.props.handleDrop(i,a,u))||(t._internalDrag?t.update(xA(n,i)):t.update(sf(n,i,a.getText()))),of(t)}}};function of(e){e._internalDrag=!1;var t=e.editorContainer;if(t){var r=new MouseEvent("mouseup",{view:wA(t),bubbles:!0,cancelable:!0});t.dispatchEvent(r)}}function xA(e,t){var r=tg.moveText(e.getCurrentContent(),e.getSelection(),t);return rg.push(e,r,"insert-fragment")}function sf(e,t,r){var a=tg.insertText(e.getCurrentContent(),t,r,e.getCurrentInlineStyle());return rg.push(e,a,"insert-fragment")}var TA=DA;function FA(e){var t=e.getSelection(),r=t.getAnchorKey(),a=e.getBlockTree(r),n=t.getStartOffset(),i=!1;return a.some(function(s){return n===s.get("start")?(i=!0,!0):n<s.get("end")?s.get("leaves").some(function(u){var l=u.get("start");return n===l?(i=!0,!0):!1}):!1}),i}var OA=FA;(function(e,t){if(e.setImmediate)return;var r=1,a={},n=!1,i=e.document,s;function u(A){typeof A!="function"&&(A=new Function(""+A));for(var w=new Array(arguments.length-1),F=0;F<w.length;F++)w[F]=arguments[F+1];var x={callback:A,args:w};return a[r]=x,s(r),r++}function l(A){delete a[A]}function f(A){var w=A.callback,F=A.args;switch(F.length){case 0:w();break;case 1:w(F[0]);break;case 2:w(F[0],F[1]);break;case 3:w(F[0],F[1],F[2]);break;default:w.apply(t,F);break}}function p(A){if(n)setTimeout(p,0,A);else{var w=a[A];if(w){n=!0;try{f(w)}finally{l(A),n=!1}}}}function v(){s=function(A){process.nextTick(function(){p(A)})}}function h(){if(e.postMessage&&!e.importScripts){var A=!0,w=e.onmessage;return e.onmessage=function(){A=!1},e.postMessage("","*"),e.onmessage=w,A}}function E(){var A="setImmediate$"+Math.random()+"$",w=function(F){F.source===e&&typeof F.data=="string"&&F.data.indexOf(A)===0&&p(+F.data.slice(A.length))};e.addEventListener?e.addEventListener("message",w,!1):e.attachEvent("onmessage",w),s=function(F){e.postMessage(A+F,"*")}}function y(){var A=new MessageChannel;A.port1.onmessage=function(w){var F=w.data;p(F)},s=function(w){A.port2.postMessage(w)}}function _(){var A=i.documentElement;s=function(w){var F=i.createElement("script");F.onreadystatechange=function(){p(w),F.onreadystatechange=null,A.removeChild(F),F=null},A.appendChild(F)}}function b(){s=function(A){setTimeout(p,0,A)}}var C=Object.getPrototypeOf&&Object.getPrototypeOf(e);C=C&&C.setTimeout?C:e,{}.toString.call(e.process)==="[object process]"?v():h()?E():e.MessageChannel?y():i&&"onreadystatechange"in i.createElement("script")?_():b(),C.setImmediate=u,C.clearImmediate=l})(typeof self>"u"?typeof ut>"u"?ut:ut:self);var kA=ut.setImmediate,BA=St,Ks=Xe,IA=wt,uf=Tu,MA=Xi,RA=OA,lf=Ct,PA=kA,LA="'",NA="/",$A=IA.isBrowser("Firefox");function KA(e){return $A&&(e==LA||e==NA)}function cf(e,t,r,a,n){var i=BA.replaceText(e.getCurrentContent(),e.getSelection(),t,r,a);return Ks.push(e,i,"insert-characters",n)}function zA(e,t){e._pendingStateFromBeforeInput!==void 0&&(e.update(e._pendingStateFromBeforeInput),e._pendingStateFromBeforeInput=void 0);var r=e._latestEditorState,a=t.data;if(a){if(e.props.handleBeforeInput&&MA(e.props.handleBeforeInput(a,r,t.timeStamp))){t.preventDefault();return}var n=r.getSelection(),i=n.getStartOffset(),s=n.getAnchorKey();if(!n.isCollapsed()){t.preventDefault(),e.update(cf(r,a,r.getCurrentInlineStyle(),uf(r.getCurrentContent(),r.getSelection()),!0));return}var u=cf(r,a,r.getCurrentInlineStyle(),uf(r.getCurrentContent(),r.getSelection()),!1),l=!1;if(l||(l=RA(e._latestCommittedEditorState)),!l){var f=r.getBlockTree(s),p=u.getBlockTree(s);l=f.size!==p.size||f.zip(p).some(function(v){var h=v[0],E=v[1],y=h.get("start"),_=y+(y>=i?a.length:0),b=h.get("end"),C=b+(b>=i?a.length:0),A=E.get("start"),w=E.get("end"),F=E.get("decoratorKey");return h.get("decoratorKey")!==F||h.get("leaves").size!==E.get("leaves").size||_!==A||C!==w||F!=null&&w-A!==b-y})}if(l||(l=KA(a)),l||(l=lf(u.getDirectionMap()).get(s)!==lf(r.getDirectionMap()).get(s)),l){t.preventDefault(),u=Ks.set(u,{forceSelection:!0}),e.update(u);return}u=Ks.set(u,{nativelyRenderedContent:u.getCurrentContent()}),e._pendingStateFromBeforeInput=u,PA(function(){e._pendingStateFromBeforeInput!==void 0&&(e.update(e._pendingStateFromBeforeInput),e._pendingStateFromBeforeInput=void 0)})}}var UA=zA,HA=Xe,ff=Ou,jA=$h;function WA(e,t){var r=t.currentTarget.ownerDocument;if(!e.props.preserveSelectionOnBlur&&jA(r)===r.body){var a=r.defaultView.getSelection(),n=e.editor;a.rangeCount===1&&ff(n,a.anchorNode)&&ff(n,a.focusNode)&&a.removeAllRanges()}var i=e._latestEditorState,s=i.getSelection();if(s.getHasFocus()){var u=s.set("hasFocus",!1);e.props.onBlur&&e.props.onBlur(t),e.update(HA.acceptSelection(i,u))}}var qA=WA,VA=Xe;function GA(e,t){e.setMode("composite"),e.update(VA.set(e._latestEditorState,{inCompositionMode:!0})),e._onCompositionStart(t)}var XA=GA,YA=Li;function ZA(e){var t=e.getSelection();return t.isCollapsed()?null:YA(e.getCurrentContent(),t)}var ng=ZA,JA=ng;function QA(e,t){var r=e._latestEditorState,a=r.getSelection();if(a.isCollapsed()){t.preventDefault();return}e.setClipboard(JA(e._latestEditorState))}var eD=QA;function tD(e){if(!e||!("ownerDocument"in e))return!1;if("ownerDocument"in e){var t=e;if(!t.ownerDocument.defaultView)return t instanceof Node;if(t instanceof t.ownerDocument.defaultView.Node)return!0}return!1}var rD=tD,nD=St,aD=Xe,iD=qi,oD=ng,sD=Vi,uD=rD;function lD(e,t){var r=e._latestEditorState,a=r.getSelection(),n=t.target,i;if(a.isCollapsed()){t.preventDefault();return}if(uD(n)){var s=n;i=sD(iD.getScrollParent(s))}var u=oD(r);e.setClipboard(u),e.setMode("cut"),setTimeout(function(){e.restoreEditorDOM(i),e.exitCurrentMode(),e.update(cD(r))},0)}function cD(e){var t=nD.removeRange(e.getCurrentContent(),e.getSelection(),"forward");return aD.push(e,t,"remove-range")}var fD=lD;function dD(e,t){e.setMode("drag"),t.preventDefault()}var pD=dD;function hD(e){e._internalDrag=!0,e.setMode("drag")}var gD=hD,df=Xe,vD=wt;function mD(e,t){var r=e._latestEditorState,a=r.getSelection();if(!a.getHasFocus()){var n=a.set("hasFocus",!0);e.props.onFocus&&e.props.onFocus(t),vD.isBrowser("Chrome < 60.0.3081.0")?e.update(df.forceSelection(r,n)):e.update(df.acceptSelection(r,n))}}var yD=mD,ED=He,ag=55296,_D=56319,bD=56320,ig=57343,SD=/[\uD800-\uDFFF]/;function og(e){return ag<=e&&e<=ig}function CD(e,t){if(0<=t&&t<e.length||ED(!1,"isSurrogatePair: Invalid index %s for string length %s.",t,e.length),t+1===e.length)return!1;var r=e.charCodeAt(t),a=e.charCodeAt(t+1);return ag<=r&&r<=_D&&bD<=a&&a<=ig}function Iu(e){return SD.test(e)}function _n(e,t){return 1+og(e.charCodeAt(t))}function wD(e){if(!Iu(e))return e.length;for(var t=0,r=0;r<e.length;r+=_n(e,r))t++;return t}function sg(e,t,r){if(t=t||0,r=r===void 0?1/0:r||0,!Iu(e))return e.substr(t,r);var a=e.length;if(a<=0||t>a||r<=0)return"";var n=0;if(t>0){for(;t>0&&n<a;t--)n+=_n(e,n);if(n>=a)return""}else if(t<0){for(n=a;t<0&&0<n;t++)n-=_n(e,n-1);n<0&&(n=0)}var i=a;if(r<a)for(i=n;r>0&&i<a;r--)i+=_n(e,i);return e.substring(n,i)}function AD(e,t,r){t=t||0,r=r===void 0?1/0:r||0,t<0&&(t=0),r<0&&(r=0);var a=Math.abs(r-t);return t=t<r?t:r,sg(e,t,a)}function DD(e){for(var t=[],r=0;r<e.length;r+=_n(e,r))t.push(e.codePointAt(r));return t}var xD={getCodePoints:DD,getUTF16Length:_n,hasSurrogateUnit:Iu,isCodeUnitInSurrogateRange:og,isSurrogatePair:CD,strlen:wD,substring:AD,substr:sg},Yr=xD;function TD(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];var n=0,i="Warning: "+e.replace(/%s/g,function(){return r[n++]});typeof console<"u"&&console.error(i);try{throw new Error(i)}catch{}}var FD=function(e,t){if(t===void 0)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(!e){for(var r=arguments.length,a=new Array(r>2?r-2:0),n=2;n<r;n++)a[n-2]=arguments[n];TD.apply(void 0,[t].concat(a))}},Mu=FD,OD=Mu;function kD(e,t){var r=e.getSelection();OD(r.isCollapsed(),"moveSelectionBackward should only be called with a collapsed SelectionState");var a=e.getCurrentContent(),n=r.getStartKey(),i=r.getStartOffset(),s=n,u=0;if(t>i){var l=a.getKeyBefore(n);if(l==null)s=n;else{s=l;var f=a.getBlockForKey(l);u=f.getText().length}}else u=i-t;return r.merge({focusKey:s,focusOffset:u,isBackward:!0})}var Ru=kD,BD=St,ID=Or,pf=ID("draft_tree_data_support");function MD(e,t,r){var a=e.getSelection(),n=e.getCurrentContent(),i=a,s=a.getAnchorKey(),u=a.getFocusKey(),l=n.getBlockForKey(s);if(pf&&r==="forward"&&s!==u)return n;if(a.isCollapsed()){if(r==="forward"){if(e.isSelectionAtEndOfContent())return n;if(pf){var f=a.getAnchorOffset()===n.getBlockForKey(s).getLength();if(f){var p=n.getBlockForKey(l.nextSibling);if(!p||p.getLength()===0)return n}}}else if(e.isSelectionAtStartOfContent())return n;if(i=t(e),i===a)return n}return BD.removeRange(n,i,r)}var wa=MD,RD=Xe,PD=Yr,LD=Ru,ND=wa;function $D(e){var t=ND(e,function(a){var n=a.getSelection(),i=a.getCurrentContent(),s=n.getAnchorKey(),u=n.getAnchorOffset(),l=i.getBlockForKey(s).getText()[u-1];return LD(a,l?PD.getUTF16Length(l,0):1)},"backward");if(t===e.getCurrentContent())return e;var r=e.getSelection();return RD.push(e,t.set("selectionBefore",r),r.isCollapsed()?"backspace-character":"remove-range")}var ug=$D,KD=St,zD=hr,UD=Xe,HD=wt,jD=Rh,WD=jD.notEmptyKey,qD=ji,VD=ug,GD=Ct,XD=HD.isEngine("Gecko"),YD=`

`;function ZD(e,t){switch(e){case"deleteContentBackward":return VD(t)}return t}function JD(e,t){e._pendingStateFromBeforeInput!==void 0&&(e.update(e._pendingStateFromBeforeInput),e._pendingStateFromBeforeInput=void 0);var r=e.editor,a=r.ownerDocument.defaultView.getSelection(),n=a.anchorNode,i=a.isCollapsed,s=(n==null?void 0:n.nodeType)!==Node.TEXT_NODE&&(n==null?void 0:n.nodeType)!==Node.ELEMENT_NODE;if(!(n==null||s)){if(n.nodeType===Node.TEXT_NODE&&(n.previousSibling!==null||n.nextSibling!==null)){var u=n.parentNode;if(u==null)return;n.nodeValue=u.textContent;for(var l=u.firstChild;l!=null;l=l.nextSibling)l!==n&&u.removeChild(l)}var f=n.textContent,p=e._latestEditorState,v=GD(qD(n)),h=zD.decode(v),E=h.blockKey,y=h.decoratorKey,_=h.leafKey,b=p.getBlockTree(E).getIn([y,"leaves",_]),C=b.start,A=b.end,w=p.getCurrentContent(),F=w.getBlockForKey(E),x=F.getText().slice(C,A);if(f.endsWith(YD)&&(f=f.slice(0,-1)),f===x){var I=t.nativeEvent.inputType;if(I){var R=ZD(I,p);if(R!==p){e.restoreEditorDOM(),e.update(R);return}}return}var P=p.getSelection(),M=P.merge({anchorOffset:C,focusOffset:A,isBackward:!1}),O=F.getEntityAt(C),N=WD(O)?w.getEntity(O):null,U=N!=null?N.getMutability():null,H=U==="MUTABLE",K=H?"spellcheck-change":"apply-entity",V=KD.replaceText(w,M,f,F.getInlineStyleAt(C),H?F.getEntityAt(C):null),G,W,J,Y;if(XD)G=a.anchorOffset,W=a.focusOffset,J=C+Math.min(G,W),Y=J+Math.abs(G-W),G=J,W=Y;else{var ne=f.length-x.length;J=P.getStartOffset(),Y=P.getEndOffset(),G=i?Y+ne:J,W=Y+ne}var Q=V.merge({selectionBefore:w.getSelectionAfter(),selectionAfter:P.merge({anchorOffset:G,focusOffset:W})});e.update(UD.push(p,Q,K))}}var QD=JD,ex=Wi;function tx(e){return e.which===ex.RETURN&&(e.getModifierState("Shift")||e.getModifierState("Alt")||e.getModifierState("Control"))}var rx=tx,nx=wt,ax=rx,Jo=nx.isPlatform("Mac OS X"),lg={isCtrlKeyCommand:function(t){return!!t.ctrlKey&&!t.altKey},isOptionKeyCommand:function(t){return Jo&&t.altKey},usesMacOSHeuristics:function(){return Jo},hasCommandModifier:function(t){return Jo?!!t.metaKey&&!t.altKey:lg.isCtrlKeyCommand(t)},isSoftNewlineEvent:ax},Pu=lg,hf=St,gf=Xe,ix=Li,ox=Ct,Qo=null,sx={cut:function(t){var r=t.getCurrentContent(),a=t.getSelection(),n=null;if(a.isCollapsed()){var i=a.getAnchorKey(),s=r.getBlockForKey(i).getLength();if(s===a.getAnchorOffset()){var u=r.getKeyAfter(i);if(u==null)return t;n=a.set("focusKey",u).set("focusOffset",0)}else n=a.set("focusOffset",s)}else n=a;n=ox(n),Qo=ix(r,n);var l=hf.removeRange(r,n,"forward");return l===r?t:gf.push(t,l,"remove-range")},paste:function(t){if(!Qo)return t;var r=hf.replaceWithFragment(t.getCurrentContent(),t.getSelection(),Qo);return gf.push(t,r,"insert-fragment")}},ux=sx,lx=wt,cx=He,fx=lx.isBrowser("Chrome");function dx(e){for(var t=e.cloneRange(),r=[],a=e.endContainer;a!=null;a=a.parentNode){var n=a===e.commonAncestorContainer;n?t.setStart(e.startContainer,e.startOffset):t.setStart(t.endContainer,0);var i=Array.from(t.getClientRects());if(r.push(i),n){var s;return r.reverse(),(s=[]).concat.apply(s,r)}t.setEndBefore(a)}cx(!1,"Found an unexpected detached subtree when getting range client rects.")}var px=fx?dx:function(e){return Array.from(e.getClientRects())},cg=px,hx=Yr,gx=Hi,vf=cg,zs=He;function vx(e){var t=getComputedStyle(e),r=gx(e),a=r.createElement("div");a.style.fontFamily=t.fontFamily,a.style.fontSize=t.fontSize,a.style.fontStyle=t.fontStyle,a.style.fontWeight=t.fontWeight,a.style.lineHeight=t.lineHeight,a.style.position="absolute",a.textContent="M";var n=r.body;n||zs(!1,"Missing document.body"),n.appendChild(a);var i=a.getBoundingClientRect();return n.removeChild(a),i.height}function mf(e,t){for(var r=1/0,a=1/0,n=-1/0,i=-1/0,s=0;s<e.length;s++){var u=e[s];u.width===0||u.width===1||(r=Math.min(r,u.top),a=Math.min(a,u.bottom),n=Math.max(n,u.top),i=Math.max(i,u.bottom))}return n<=a&&n-r<t&&i-a<t}function mx(e){switch(e.nodeType){case Node.DOCUMENT_TYPE_NODE:return 0;case Node.TEXT_NODE:case Node.PROCESSING_INSTRUCTION_NODE:case Node.COMMENT_NODE:return e.length;default:return e.childNodes.length}}function yx(e){e.collapsed||zs(!1,"expandRangeToStartOfLine: Provided range is not collapsed."),e=e.cloneRange();var t=e.startContainer;t.nodeType!==1&&(t=t.parentNode);var r=vx(t),a=e.endContainer,n=e.endOffset;for(e.setStart(e.startContainer,0);mf(vf(e),r)&&(a=e.startContainer,n=e.startOffset,a.parentNode||zs(!1,"Found unexpected detached subtree when traversing."),e.setStartBefore(a),!(a.nodeType===1&&getComputedStyle(a).display!=="inline")););var i=a,s=n-1;do{for(var u=i.nodeValue,l=s;l>=0;l--)if(!(u!=null&&l>0&&hx.isSurrogatePair(u,l-1)))if(e.setStart(i,l),mf(vf(e),r))a=i,n=l;else break;if(l===-1||i.childNodes.length===0)break;i=i.childNodes[l],s=mx(i)}while(!0);return e.setStart(a,n),e}var Ex=yx,_x=Xe,bx=Ex,Sx=Bh,Cx=Ru,wx=wa;function Ax(e,t){var r=wx(e,function(a){var n=a.getSelection();if(n.isCollapsed()&&n.getAnchorOffset()===0)return Cx(a,1);var i=t.currentTarget.ownerDocument,s=i.defaultView.getSelection(),u=s.getRangeAt(0);return u=bx(u),Sx(a,null,u.endContainer,u.endOffset,u.startContainer,u.startOffset).selectionState},"backward");return r===e.getCurrentContent()?e:_x.push(e,r,"remove-range")}var Dx=Ax,xx=`[.,+*?$|#{}()'\\^\\-\\[\\]\\\\\\/!@%"~=<>_:;-----------]`,Tx={getPunctuation:function(){return xx}},Fx=Tx,Ox=Fx.getPunctuation(),fg="[']",bn="\\s|(?![_])"+Ox,kx="^(?:"+bn+")*(?:"+fg+"|(?!"+bn+").)*(?:(?!"+bn+").)",Bx=new RegExp(kx),Ix="(?:(?!"+bn+").)(?:"+fg+"|(?!"+bn+").)*(?:"+bn+")*$",Mx=new RegExp(Ix);function yf(e,t){var r=t?Mx.exec(e):Bx.exec(e);return r?r[0]:e}var Rx={getBackward:function(t){return yf(t,!0)},getForward:function(t){return yf(t,!1)}},dg=Rx,Px=dg,Lx=Xe,Ef=Ru,Nx=wa;function $x(e){var t=Nx(e,function(r){var a=r.getSelection(),n=a.getStartOffset();if(n===0)return Ef(r,1);var i=a.getStartKey(),s=r.getCurrentContent(),u=s.getBlockForKey(i).getText().slice(0,n),l=Px.getBackward(u);return Ef(r,l.length||1)},"backward");return t===e.getCurrentContent()?e:Lx.push(e,t,"remove-range")}var Kx=$x,zx=Mu;function Ux(e,t){var r=e.getSelection();zx(r.isCollapsed(),"moveSelectionForward should only be called with a collapsed SelectionState");var a=r.getStartKey(),n=r.getStartOffset(),i=e.getCurrentContent(),s=a,u,l=i.getBlockForKey(a);return t>l.getText().length-n?(s=i.getKeyAfter(a),u=0):u=n+t,r.merge({focusKey:s,focusOffset:u})}var pg=Ux,Hx=dg,jx=Xe,Wx=pg,qx=wa;function Vx(e){var t=qx(e,function(r){var a=r.getSelection(),n=a.getStartOffset(),i=a.getStartKey(),s=r.getCurrentContent(),u=s.getBlockForKey(i).getText().slice(n),l=Hx.getForward(u);return Wx(r,l.length||1)},"forward");return t===e.getCurrentContent()?e:jx.push(e,t,"remove-range")}var Gx=Vx,Xx=St,Yx=Xe;function Zx(e){var t=Xx.splitBlock(e.getCurrentContent(),e.getSelection());return Yx.push(e,t,"split-block")}var Jx=Zx,Qx=Xe;function eT(e){var t=e.getSelection(),r=t.getEndKey(),a=e.getCurrentContent(),n=a.getBlockForKey(r).getLength();return Qx.set(e,{selection:t.merge({anchorKey:r,anchorOffset:n,focusKey:r,focusOffset:n,isBackward:!1}),forceSelection:!0})}var tT=eT,rT=Xe;function nT(e){var t=e.getSelection(),r=t.getStartKey();return rT.set(e,{selection:t.merge({anchorKey:r,anchorOffset:0,focusKey:r,focusOffset:0,isBackward:!1}),forceSelection:!0})}var aT=nT,iT=Xe,oT=Yr,sT=pg,uT=wa;function lT(e){var t=uT(e,function(a){var n=a.getSelection(),i=a.getCurrentContent(),s=n.getAnchorKey(),u=n.getAnchorOffset(),l=i.getBlockForKey(s).getText()[u];return sT(a,l?oT.getUTF16Length(l,0):1)},"forward");if(t===e.getCurrentContent())return e;var r=e.getSelection();return iT.push(e,t.set("selectionBefore",r),r.isCollapsed()?"delete-character":"remove-range")}var cT=lT,_f=St,bf=Xe,fT=Li;function dT(e){var t=e.getSelection();if(!t.isCollapsed())return e;var r=t.getAnchorOffset();if(r===0)return e;var a=t.getAnchorKey(),n=e.getCurrentContent(),i=n.getBlockForKey(a),s=i.getLength();if(s<=1)return e;var u,l;r===s?(u=t.set("anchorOffset",r-1),l=t):(u=t.set("focusOffset",r+1),l=u.set("anchorOffset",r+1));var f=fT(n,u),p=_f.removeRange(n,u,"backward"),v=p.getSelectionAfter(),h=v.getAnchorOffset()-1,E=v.merge({anchorOffset:h,focusOffset:h}),y=_f.replaceWithFragment(p,E,f),_=bf.push(e,y,"insert-fragment");return bf.acceptSelection(_,l)}var pT=dT,es=Xe;function hT(e,t,r){var a=es.undo(t);if(t.getLastChangeType()==="spellcheck-change"){var n=a.getCurrentContent();r(es.set(a,{nativelyRenderedContent:n}));return}if(e.preventDefault(),!t.getNativelyRenderedContent()){r(a);return}r(es.set(t,{nativelyRenderedContent:null})),setTimeout(function(){r(a)},0)}var gT=hT,vT=St,hg=Xe,mT=Pu,or=Wi,Sf=ux,yT=wt,Cf=Xi,ET=Dx,_T=Kx,bT=Gx,ST=Jx,CT=tT,wT=aT,AT=ug,DT=cT,xT=pT,TT=gT,wf=mT.isOptionKeyCommand,Af=yT.isBrowser("Chrome");function FT(e,t,r){switch(e){case"redo":return hg.redo(t);case"delete":return DT(t);case"delete-word":return bT(t);case"backspace":return AT(t);case"backspace-word":return _T(t);case"backspace-to-start-of-line":return ET(t,r);case"split-block":return ST(t);case"transpose-characters":return xT(t);case"move-selection-to-start-of-block":return wT(t);case"move-selection-to-end-of-block":return CT(t);case"secondary-cut":return Sf.cut(t);case"secondary-paste":return Sf.paste(t);default:return t}}function OT(e,t){var r=t.which,a=e._latestEditorState;function n(l){var f=e.props[l];return f?(f(t),!0):!1}switch(r){case or.RETURN:if(t.preventDefault(),e.props.handleReturn&&Cf(e.props.handleReturn(t,a)))return;break;case or.ESC:if(t.preventDefault(),n("onEscape"))return;break;case or.TAB:if(n("onTab"))return;break;case or.UP:if(n("onUpArrow"))return;break;case or.RIGHT:if(n("onRightArrow"))return;break;case or.DOWN:if(n("onDownArrow"))return;break;case or.LEFT:if(n("onLeftArrow"))return;break;case or.SPACE:Af&&wf(t)&&t.preventDefault()}var i=e.props.keyBindingFn(t);if(i==null||i===""){if(r===or.SPACE&&Af&&wf(t)){var s=vT.replaceText(a.getCurrentContent(),a.getSelection(),"");e.update(hg.push(a,s,"insert-characters"))}return}if(i==="undo"){TT(t,a,e.update);return}if(t.preventDefault(),!(e.props.handleKeyCommand&&Cf(e.props.handleKeyCommand(i,a,t.timeStamp)))){var u=FT(i,a,t);u!==a&&e.update(u)}}var kT=OT;function BT(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var IT=function(){function e(r){BT(this,"_uri",void 0),this._uri=r}var t=e.prototype;return t.toString=function(){return this._uri},e}(),MT=IT,RT=wt,PT=He,LT=RT.isBrowser("IE <= 9");function NT(e){var t,r=null;return!LT&&document.implementation&&document.implementation.createHTMLDocument&&(t=document.implementation.createHTMLDocument("foo"),t.documentElement||PT(!1,"Missing doc.documentElement"),t.documentElement.innerHTML=e,r=t.getElementsByTagName("body")[0]),r}var gg=NT,$T=Gr;function KT(e){return!e||!e.ownerDocument?!1:$T(e)&&e.nodeName==="A"}var zT=KT,UT=Gr;function HT(e){return!e||!e.ownerDocument?!1:UT(e)&&e.nodeName==="IMG"}var jT=HT,Rr;function ts(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{},a=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(r).filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable}))),a.forEach(function(n){ct(e,n,r[n])})}return e}function ct(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var WT=Rt,qT=qr,VT=Pt,GT=Du,Df=Ni,vg=MT,Zn=Vr,xf=nr,XT=gg,mg=Or,Lu=he,yr=Lu.List,yg=Lu.Map,YT=Lu.OrderedSet,Eg=zT,ZT=Lh,Nu=Ca,_g=jT,Tf=mg("draft_tree_data_support"),JT="&nbsp;",bg=" ",QT=new RegExp("\r","g"),eF=new RegExp(`
`,"g"),tF=new RegExp(`^
`,"g"),rF=new RegExp(JT,"g"),nF=new RegExp("&#13;?","g"),aF=new RegExp("&#8203;?","g"),iF=["bold","bolder","500","600","700","800","900"],oF=["light","lighter","normal","100","200","300","400"],sF=["className","href","rel","target","title"],uF=["alt","className","height","src","width"],Ff=(Rr={},ct(Rr,Zn("public/DraftStyleDefault/depth0"),0),ct(Rr,Zn("public/DraftStyleDefault/depth1"),1),ct(Rr,Zn("public/DraftStyleDefault/depth2"),2),ct(Rr,Zn("public/DraftStyleDefault/depth3"),3),ct(Rr,Zn("public/DraftStyleDefault/depth4"),4),Rr),Of=yg({b:"BOLD",code:"CODE",del:"STRIKETHROUGH",em:"ITALIC",i:"ITALIC",s:"STRIKETHROUGH",strike:"STRIKETHROUGH",strong:"BOLD",u:"UNDERLINE",mark:"HIGHLIGHT"}),lF=function(t){var r={};return t.mapKeys(function(a,n){var i=[n.element];n.aliasedElements!==void 0&&i.push.apply(i,n.aliasedElements),i.forEach(function(s){r[s]===void 0?r[s]=a:typeof r[s]=="string"?r[s]=[r[s],a]:r[s].push(a)})}),yg(r)},cF=function(t){if(Nu(t)){var r=t;if(r.style.fontFamily.includes("monospace"))return"CODE"}return null},fF=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Object.keys(Ff).some(function(a){t.classList.contains(a)&&(r=Ff[a])}),r},dF=function(t){if(!Eg(t))return!1;var r=t;if(!r.href||r.protocol!=="http:"&&r.protocol!=="https:"&&r.protocol!=="mailto:"&&r.protocol!=="tel:")return!1;try{var a=new vg(r.href);return!0}catch{return!1}},pF=function(t){if(!_g(t))return!1;var r=t;return!!(r.attributes.getNamedItem("src")&&r.attributes.getNamedItem("src").value)},hF=function(t,r){if(!Nu(t))return r;var a=t,n=a.style.fontWeight,i=a.style.fontStyle,s=a.style.textDecoration;return r.withMutations(function(u){iF.indexOf(n)>=0?u.add("BOLD"):oF.indexOf(n)>=0&&u.remove("BOLD"),i==="italic"?u.add("ITALIC"):i==="normal"&&u.remove("ITALIC"),s==="underline"&&u.add("UNDERLINE"),s==="line-through"&&u.add("STRIKETHROUGH"),s==="none"&&(u.remove("UNDERLINE"),u.remove("STRIKETHROUGH"))})},rs=function(t){return t==="ul"||t==="ol"},gF=function(){function e(r,a){ct(this,"characterList",yr()),ct(this,"currentBlockType","unstyled"),ct(this,"currentDepth",0),ct(this,"currentEntity",null),ct(this,"currentText",""),ct(this,"wrapper",null),ct(this,"blockConfigs",[]),ct(this,"contentBlocks",[]),ct(this,"entityMap",Df),ct(this,"blockTypeMap",void 0),ct(this,"disambiguate",void 0),this.clear(),this.blockTypeMap=r,this.disambiguate=a}var t=e.prototype;return t.clear=function(){this.characterList=yr(),this.blockConfigs=[],this.currentBlockType="unstyled",this.currentDepth=0,this.currentEntity=null,this.currentText="",this.entityMap=Df,this.wrapper=null,this.contentBlocks=[]},t.addDOMNode=function(a){var n;return this.contentBlocks=[],this.currentDepth=0,(n=this.blockConfigs).push.apply(n,this._toBlockConfigs([a],YT())),this._trimCurrentText(),this.currentText!==""&&this.blockConfigs.push(this._makeBlockConfig()),this},t.getContentBlocks=function(){return this.contentBlocks.length===0&&(Tf?this._toContentBlocks(this.blockConfigs):this._toFlatContentBlocks(this.blockConfigs)),{contentBlocks:this.contentBlocks,entityMap:this.entityMap}},t._makeBlockConfig=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=a.key||xf(),i=ts({key:n,type:this.currentBlockType,text:this.currentText,characterList:this.characterList,depth:this.currentDepth,parent:null,children:yr(),prevSibling:null,nextSibling:null,childConfigs:[]},a);return this.characterList=yr(),this.currentBlockType="unstyled",this.currentText="",i},t._toBlockConfigs=function(a,n){for(var i=[],s=0;s<a.length;s++){var u=a[s],l=u.nodeName.toLowerCase();if(l==="body"||rs(l)){this._trimCurrentText(),this.currentText!==""&&i.push(this._makeBlockConfig());var f=this.currentDepth,p=this.wrapper;rs(l)&&(this.wrapper=l,rs(p)&&this.currentDepth++),i.push.apply(i,this._toBlockConfigs(Array.from(u.childNodes),n)),this.currentDepth=f,this.wrapper=p;continue}var v=this.blockTypeMap.get(l);if(v!==void 0){this._trimCurrentText(),this.currentText!==""&&i.push(this._makeBlockConfig());var h=this.currentDepth,E=this.wrapper;if(this.wrapper=l==="pre"?"pre":this.wrapper,typeof v!="string"&&(v=this.disambiguate(l,this.wrapper)||v[0]||"unstyled"),!Tf&&Nu(u)&&(v==="unordered-list-item"||v==="ordered-list-item")){var y=u;this.currentDepth=fF(y,this.currentDepth)}var _=xf(),b=this._toBlockConfigs(Array.from(u.childNodes),n);this._trimCurrentText(),i.push(this._makeBlockConfig({key:_,childConfigs:b,type:v})),this.currentDepth=h,this.wrapper=E;continue}if(l==="#text"){this._addTextNode(u,n);continue}if(l==="br"){this._addBreakNode(u,n);continue}if(pF(u)){this._addImgNode(u,n);continue}if(dF(u)){this._addAnchorNode(u,i,n);continue}var C=n;Of.has(l)&&(C=C.add(Of.get(l))),C=hF(u,C);var A=cF(u);A!=null&&(C=C.add(A)),i.push.apply(i,this._toBlockConfigs(Array.from(u.childNodes),C))}return i},t._appendText=function(a,n){var i;this.currentText+=a;var s=WT.create({style:n,entity:this.currentEntity});this.characterList=(i=this.characterList).push.apply(i,Array(a.length).fill(s))},t._trimCurrentText=function(){var a=this.currentText.length,n=a-this.currentText.trimLeft().length,i=this.currentText.trimRight().length,s=this.characterList.findEntry(function(u){return u.getEntity()!==null});n=s!==void 0?Math.min(n,s[0]):n,s=this.characterList.reverse().findEntry(function(u){return u.getEntity()!==null}),i=s!==void 0?Math.max(i,a-s[0]):i,n>i?(this.currentText="",this.characterList=yr()):(this.currentText=this.currentText.slice(n,i),this.characterList=this.characterList.slice(n,i))},t._addTextNode=function(a,n){var i=a.textContent,s=i.trim();s===""&&this.wrapper!=="pre"&&(i=" "),this.wrapper!=="pre"&&(i=i.replace(tF,""),i=i.replace(eF,bg)),this._appendText(i,n)},t._addBreakNode=function(a,n){ZT(a)&&this._appendText(`
`,n)},t._addImgNode=function(a,n){if(_g(a)){var i=a,s={};uF.forEach(function(u){var l=i.getAttribute(u);l&&(s[u]=l)}),this.currentEntity=this.entityMap.__create("IMAGE","IMMUTABLE",s),mg("draftjs_fix_paste_for_img")?i.getAttribute("role")!=="presentation"&&this._appendText("",n):this._appendText("",n),this.currentEntity=null}},t._addAnchorNode=function(a,n,i){if(Eg(a)){var s=a,u={};sF.forEach(function(l){var f=s.getAttribute(l);f&&(u[l]=f)}),u.url=new vg(s.href).toString(),this.currentEntity=this.entityMap.__create("LINK","MUTABLE",u||{}),n.push.apply(n,this._toBlockConfigs(Array.from(a.childNodes),i)),this.currentEntity=null}},t._toContentBlocks=function(a){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,i=a.length-1,s=0;s<=i;s++){var u=a[s];u.parent=n,u.prevSibling=s>0?a[s-1].key:null,u.nextSibling=s<i?a[s+1].key:null,u.children=yr(u.childConfigs.map(function(l){return l.key})),this.contentBlocks.push(new VT(ts({},u))),this._toContentBlocks(u.childConfigs,u.key)}},t._hoistContainersInBlockConfigs=function(a){var n=this,i=yr(a).flatMap(function(s){return s.type!=="unstyled"||s.text!==""?[s]:n._hoistContainersInBlockConfigs(s.childConfigs)});return i},t._toFlatContentBlocks=function(a){var n=this,i=this._hoistContainersInBlockConfigs(a);i.forEach(function(s){var u=n._extractTextFromBlockConfigs(s.childConfigs),l=u.text,f=u.characterList;n.contentBlocks.push(new qT(ts({},s,{text:s.text+l,characterList:s.characterList.concat(f)})))})},t._extractTextFromBlockConfigs=function(a){for(var n=a.length-1,i="",s=yr(),u=0;u<=n;u++){var l=a[u];i+=l.text,s=s.concat(l.characterList),i!==""&&l.type!=="unstyled"&&(i+=`
`,s=s.push(s.last()));var f=this._extractTextFromBlockConfigs(l.childConfigs);i+=f.text,s=s.concat(f.characterList)}return{text:i,characterList:s}},e}(),vF=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:XT,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:GT;t=t.trim().replace(QT,"").replace(rF,bg).replace(nF,"").replace(aF,"");var n=r(t);if(!n)return null;var i=lF(a),s=function(l,f){return l==="li"?f==="ol"?"ordered-list-item":"unordered-list-item":null};return new gF(i,s).addDOMNode(n).getContentBlocks()},Sg=vF;function mF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{},a=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(r).filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable}))),a.forEach(function(n){yF(e,n,r[n])})}return e}function yF(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var EF=qr,_F=Pt,bF=Sg,SF=nr,CF=gg,wF=Or,Cg=he,AF=ih,DF=Cg.List,xF=Cg.Repeat,wg=wF("draft_tree_data_support"),TF=wg?_F:EF,FF={processHTML:function(t,r){return bF(t,CF,r)},processText:function(t,r,a){return t.reduce(function(n,i,s){i=AF(i);var u=SF(),l={key:u,type:a,text:i,characterList:DF(xF(r,i.length))};if(wg&&s!==0){var f=s-1,p=n[f]=n[f].merge({nextSibling:u});l=mF({},l,{prevSibling:p.getKey()})}return n.push(new TF(l)),n},[])}},OF=FF;function kF(e,t,r,a){var n=t.getStartKey(),i=t.getEndKey(),s=e.getBlockMap(),u=s.toSeq().skipUntil(function(l,f){return f===n}).takeUntil(function(l,f){return f===i}).concat([[i,s.get(i)]]).map(function(l){var f=l.getDepth()+r;return f=Math.max(0,Math.min(f,a)),l.set("depth",f)});return s=s.merge(u),e.merge({blockMap:s,selectionBefore:t,selectionAfter:t})}var BF=kF,Pr=St,Vt=Xe,IF=BF,MF=Ct,Yt={currentBlockContainsLink:function(t){var r=t.getSelection(),a=t.getCurrentContent(),n=a.getEntityMap();return a.getBlockForKey(r.getAnchorKey()).getCharacterList().slice(r.getStartOffset(),r.getEndOffset()).some(function(i){var s=i.getEntity();return!!s&&n.__get(s).getType()==="LINK"})},getCurrentBlockType:function(t){var r=t.getSelection();return t.getCurrentContent().getBlockForKey(r.getStartKey()).getType()},getDataObjectForLinkURL:function(t){return{url:t.toString()}},handleKeyCommand:function(t,r,a){switch(r){case"bold":return Yt.toggleInlineStyle(t,"BOLD");case"italic":return Yt.toggleInlineStyle(t,"ITALIC");case"underline":return Yt.toggleInlineStyle(t,"UNDERLINE");case"code":return Yt.toggleCode(t);case"backspace":case"backspace-word":case"backspace-to-start-of-line":return Yt.onBackspace(t);case"delete":case"delete-word":case"delete-to-end-of-block":return Yt.onDelete(t);default:return null}},insertSoftNewline:function(t){var r=Pr.insertText(t.getCurrentContent(),t.getSelection(),`
`,t.getCurrentInlineStyle(),null),a=Vt.push(t,r,"insert-characters");return Vt.forceSelection(a,r.getSelectionAfter())},onBackspace:function(t){var r=t.getSelection();if(!r.isCollapsed()||r.getAnchorOffset()||r.getFocusOffset())return null;var a=t.getCurrentContent(),n=r.getStartKey(),i=a.getBlockBefore(n);if(i&&i.getType()==="atomic"){var s=a.getBlockMap().delete(i.getKey()),u=a.merge({blockMap:s,selectionAfter:r});if(u!==a)return Vt.push(t,u,"remove-range")}var l=Yt.tryToRemoveBlockStyle(t);return l?Vt.push(t,l,"change-block-type"):null},onDelete:function(t){var r=t.getSelection();if(!r.isCollapsed())return null;var a=t.getCurrentContent(),n=r.getStartKey(),i=a.getBlockForKey(n),s=i.getLength();if(r.getStartOffset()<s)return null;var u=a.getBlockAfter(n);if(!u||u.getType()!=="atomic")return null;var l=r.merge({focusKey:u.getKey(),focusOffset:u.getLength()}),f=Pr.removeRange(a,l,"forward");return f!==a?Vt.push(t,f,"remove-range"):null},onTab:function(t,r,a){var n=r.getSelection(),i=n.getAnchorKey();if(i!==n.getFocusKey())return r;var s=r.getCurrentContent(),u=s.getBlockForKey(i),l=u.getType();if(l!=="unordered-list-item"&&l!=="ordered-list-item")return r;t.preventDefault();var f=u.getDepth();if(!t.shiftKey&&f===a)return r;var p=IF(s,n,t.shiftKey?-1:1,a);return Vt.push(r,p,"adjust-depth")},toggleBlockType:function(t,r){var a=t.getSelection(),n=a.getStartKey(),i=a.getEndKey(),s=t.getCurrentContent(),u=a;if(n!==i&&a.getEndOffset()===0){var l=MF(s.getBlockBefore(i));i=l.getKey(),u=u.merge({anchorKey:n,anchorOffset:a.getStartOffset(),focusKey:i,focusOffset:l.getLength(),isBackward:!1})}var f=s.getBlockMap().skipWhile(function(v,h){return h!==n}).reverse().skipWhile(function(v,h){return h!==i}).some(function(v){return v.getType()==="atomic"});if(f)return t;var p=s.getBlockForKey(n).getType()===r?"unstyled":r;return Vt.push(t,Pr.setBlockType(s,u,p),"change-block-type")},toggleCode:function(t){var r=t.getSelection(),a=r.getAnchorKey(),n=r.getFocusKey();return r.isCollapsed()||a!==n?Yt.toggleBlockType(t,"code-block"):Yt.toggleInlineStyle(t,"CODE")},toggleInlineStyle:function(t,r){var a=t.getSelection(),n=t.getCurrentInlineStyle();if(a.isCollapsed())return Vt.setInlineStyleOverride(t,n.has(r)?n.remove(r):n.add(r));var i=t.getCurrentContent(),s;return n.has(r)?s=Pr.removeInlineStyle(i,a,r):s=Pr.applyInlineStyle(i,a,r),Vt.push(t,s,"change-inline-style")},toggleLink:function(t,r,a){var n=Pr.applyEntity(t.getCurrentContent(),r,a);return Vt.push(t,n,"apply-entity")},tryToRemoveBlockStyle:function(t){var r=t.getSelection(),a=r.getAnchorOffset();if(r.isCollapsed()&&a===0){var n=r.getAnchorKey(),i=t.getCurrentContent(),s=i.getBlockForKey(n),u=s.getType(),l=i.getBlockBefore(n);if(u==="code-block"&&l&&l.getType()==="code-block"&&l.getLength()!==0)return null;if(u!=="unstyled")return Pr.setBlockType(i,r,"unstyled")}return null}},Ag=Yt,RF=/\r\n?|\n/g;function PF(e){return e.split(RF)}var LF=PF,ns=va,kf=Rt,NF=Qh,Dg=St,as=OF,xg=Xe,Bf=Ag,If=Tu,$F=eg,Mf=Xi,Rf=LF;function KF(e,t){t.preventDefault();var r=new NF(t.clipboardData);if(!r.isRichText()){var a=r.getFiles(),n=r.getText();if(a.length>0){if(e.props.handlePastedFiles&&Mf(e.props.handlePastedFiles(a)))return;$F(a,function(I){if(I=I||n,!!I){var R=e._latestEditorState,P=Rf(I),M=kf.create({style:R.getCurrentInlineStyle(),entity:If(R.getCurrentContent(),R.getSelection())}),O=Bf.getCurrentBlockType(R),N=as.processText(P,M,O),U=ns.createFromArray(N),H=Dg.replaceWithFragment(R.getCurrentContent(),R.getSelection(),U);e.update(xg.push(R,H,"insert-fragment"))}});return}}var i=[],s=r.getText(),u=r.getHTML(),l=e._latestEditorState;if(e.props.formatPastedText){var f=e.props.formatPastedText(s,u),p=f.text,v=f.html;s=p,u=v}if(!(e.props.handlePastedText&&Mf(e.props.handlePastedText(s,u,l)))){if(s&&(i=Rf(s)),!e.props.stripPastedStyles){var h=e.getClipboard();if(!e.props.formatPastedText&&r.isRichText()&&h){var E;if(((E=u)===null||E===void 0?void 0:E.indexOf(e.getEditorKey()))!==-1||i.length===1&&h.size===1&&h.first().getText()===s){e.update(Qa(e._latestEditorState,h));return}}else if(h&&r.types.includes("com.apple.webarchive")&&!r.types.includes("text/html")&&zF(i,h)){e.update(Qa(e._latestEditorState,h));return}if(u){var y=as.processHTML(u,e.props.blockRenderMap);if(y){var _=y.contentBlocks,b=y.entityMap;if(_){var C=ns.createFromArray(_);e.update(Qa(e._latestEditorState,C,b));return}}}e.setClipboard(null)}if(i.length){var A=kf.create({style:l.getCurrentInlineStyle(),entity:If(l.getCurrentContent(),l.getSelection())}),w=Bf.getCurrentBlockType(l),F=as.processText(i,A,w),x=ns.createFromArray(F);e.update(Qa(e._latestEditorState,x))}}}function Qa(e,t,r){var a=Dg.replaceWithFragment(e.getCurrentContent(),e.getSelection(),t);return xg.push(e,a.set("entityMap",r),"insert-fragment")}function zF(e,t){return e.length===t.size&&t.valueSeq().every(function(r,a){return r.getText()===e[a]})}var UF=KF,Tg=wt,HF=UA,jF=qA,WF=XA,qF=eD,VF=fD,GF=pD,XF=gD,YF=yD,ZF=QD,JF=kT,QF=UF,Fg=Mh,e2=Tg.isBrowser("Chrome"),t2=Tg.isBrowser("Firefox"),Pf=e2||t2?Fg:function(e){},r2={onBeforeInput:HF,onBlur:jF,onCompositionStart:WF,onCopy:qF,onCut:VF,onDragOver:GF,onDragStart:XF,onFocus:YF,onInput:ZF,onKeyDown:JF,onPaste:QF,onSelect:Fg,onMouseUp:Pf,onKeyUp:Pf},n2=r2,a2=sy,i2=a2.unstable_flushControlled,o2=i2;function s2(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var is=T,Lf=Vr,u2=function(e){s2(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.shouldComponentUpdate=function(n){return this.props.text!==n.text||this.props.editorState.getSelection().getHasFocus()!==n.editorState.getSelection().getHasFocus()},r.render=function(){var n=this.props.editorState.getSelection().getHasFocus(),i=Lf({"public/DraftEditorPlaceholder/root":!0,"public/DraftEditorPlaceholder/hasFocus":n}),s={whiteSpace:"pre-wrap"};return is.createElement("div",{className:i},is.createElement("div",{className:Lf("public/DraftEditorPlaceholder/inner"),id:this.props.accessibilityID,style:s},this.props.text))},t}(is.Component),l2=u2,Og=Pu,Jn=Wi,kg=wt,Sr=kg.isPlatform("Mac OS X"),Nf=Sr&&kg.isBrowser("Firefox < 29"),br=Og.hasCommandModifier,ur=Og.isCtrlKeyCommand;function Bg(e){return Sr&&e.altKey||ur(e)}function c2(e){return br(e)?e.shiftKey?"redo":"undo":null}function f2(e){return!Sr&&e.shiftKey?null:Bg(e)?"delete-word":"delete"}function d2(e){return br(e)&&Sr?"backspace-to-start-of-line":Bg(e)?"backspace-word":"backspace"}function p2(e){switch(e.keyCode){case 66:return br(e)?"bold":null;case 68:return ur(e)?"delete":null;case 72:return ur(e)?"backspace":null;case 73:return br(e)?"italic":null;case 74:return br(e)?"code":null;case 75:return Sr&&ur(e)?"secondary-cut":null;case 77:return ur(e)?"split-block":null;case 79:return ur(e)?"split-block":null;case 84:return Sr&&ur(e)?"transpose-characters":null;case 85:return br(e)?"underline":null;case 87:return Sr&&ur(e)?"backspace-word":null;case 89:return ur(e)?Sr?"secondary-paste":"redo":null;case 90:return c2(e)||null;case Jn.RETURN:return"split-block";case Jn.DELETE:return f2(e);case Jn.BACKSPACE:return d2(e);case Jn.LEFT:return Nf&&br(e)?"move-selection-to-start-of-block":null;case Jn.RIGHT:return Nf&&br(e)?"move-selection-to-end-of-block":null;default:return null}}var Ig=p2,h2=Wr;function Us(){return Us=h2||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Us.apply(this,arguments)}function os(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{},a=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(r).filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable}))),a.forEach(function(n){oe(e,n,r[n])})}return e}function ue(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mg(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var g2=Du,v2=_h,m2=xC,y2=Jw,E2=TA,_2=n2,$f=o2,b2=l2,S2=Xe,_r=T,C2=Bu,w2=qi,A2=wt,ss=Vr,D2=nr,x2=Ig,T2=Vi,F2=Or,Kf=He,zf=Ca,O2=Ct,Rg=A2.isBrowser("IE"),k2=!Rg,Uf={edit:_2,composite:m2,drag:E2,cut:null,render:null},Hf=!1,B2=function(e){Mg(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){return null},r.componentDidMount=function(){this._update()},r.componentDidUpdate=function(){this._update()},r._update=function(){var n=this.props.editor;n._latestEditorState=this.props.editorState,n._blockSelectEvents=!0},t}(_r.Component),Pg=function(e){Mg(t,e);function t(a){var n;return n=e.call(this,a)||this,oe(ue(n),"_blockSelectEvents",void 0),oe(ue(n),"_clipboard",void 0),oe(ue(n),"_handler",void 0),oe(ue(n),"_dragCount",void 0),oe(ue(n),"_internalDrag",void 0),oe(ue(n),"_editorKey",void 0),oe(ue(n),"_placeholderAccessibilityID",void 0),oe(ue(n),"_latestEditorState",void 0),oe(ue(n),"_latestCommittedEditorState",void 0),oe(ue(n),"_pendingStateFromBeforeInput",void 0),oe(ue(n),"_onBeforeInput",void 0),oe(ue(n),"_onBlur",void 0),oe(ue(n),"_onCharacterData",void 0),oe(ue(n),"_onCompositionEnd",void 0),oe(ue(n),"_onCompositionStart",void 0),oe(ue(n),"_onCopy",void 0),oe(ue(n),"_onCut",void 0),oe(ue(n),"_onDragEnd",void 0),oe(ue(n),"_onDragOver",void 0),oe(ue(n),"_onDragStart",void 0),oe(ue(n),"_onDrop",void 0),oe(ue(n),"_onInput",void 0),oe(ue(n),"_onFocus",void 0),oe(ue(n),"_onKeyDown",void 0),oe(ue(n),"_onKeyPress",void 0),oe(ue(n),"_onKeyUp",void 0),oe(ue(n),"_onMouseDown",void 0),oe(ue(n),"_onMouseUp",void 0),oe(ue(n),"_onPaste",void 0),oe(ue(n),"_onSelect",void 0),oe(ue(n),"editor",void 0),oe(ue(n),"editorContainer",void 0),oe(ue(n),"focus",void 0),oe(ue(n),"blur",void 0),oe(ue(n),"setMode",void 0),oe(ue(n),"exitCurrentMode",void 0),oe(ue(n),"restoreEditorDOM",void 0),oe(ue(n),"setClipboard",void 0),oe(ue(n),"getClipboard",void 0),oe(ue(n),"getEditorKey",void 0),oe(ue(n),"update",void 0),oe(ue(n),"onDragEnter",void 0),oe(ue(n),"onDragLeave",void 0),oe(ue(n),"_handleEditorContainerRef",function(i){n.editorContainer=i,n.editor=i!==null?i.firstChild:null}),oe(ue(n),"focus",function(i){var s=n.props.editorState,u=s.getSelection().getHasFocus(),l=n.editor;if(l){var f=w2.getScrollParent(l),p=i||T2(f),v=p.x,h=p.y;zf(l)||Kf(!1,"editorNode is not an HTMLElement"),l.focus(),f===window?window.scrollTo(v,h):C2.setTop(f,h),u||n.update(S2.forceSelection(s,s.getSelection()))}}),oe(ue(n),"blur",function(){var i=n.editor;i&&(zf(i)||Kf(!1,"editorNode is not an HTMLElement"),i.blur())}),oe(ue(n),"setMode",function(i){var s=n.props,u=s.onPaste,l=s.onCut,f=s.onCopy,p=os({},Uf.edit);u&&(p.onPaste=u),l&&(p.onCut=l),f&&(p.onCopy=f);var v=os({},Uf,{edit:p});n._handler=v[i]}),oe(ue(n),"exitCurrentMode",function(){n.setMode("edit")}),oe(ue(n),"restoreEditorDOM",function(i){n.setState({contentsKey:n.state.contentsKey+1},function(){n.focus(i)})}),oe(ue(n),"setClipboard",function(i){n._clipboard=i}),oe(ue(n),"getClipboard",function(){return n._clipboard}),oe(ue(n),"update",function(i){n._latestEditorState=i,n.props.onChange(i)}),oe(ue(n),"onDragEnter",function(){n._dragCount++}),oe(ue(n),"onDragLeave",function(){n._dragCount--,n._dragCount===0&&n.exitCurrentMode()}),n._blockSelectEvents=!1,n._clipboard=null,n._handler=null,n._dragCount=0,n._editorKey=a.editorKey||D2(),n._placeholderAccessibilityID="placeholder-"+n._editorKey,n._latestEditorState=a.editorState,n._latestCommittedEditorState=a.editorState,n._onBeforeInput=n._buildHandler("onBeforeInput"),n._onBlur=n._buildHandler("onBlur"),n._onCharacterData=n._buildHandler("onCharacterData"),n._onCompositionEnd=n._buildHandler("onCompositionEnd"),n._onCompositionStart=n._buildHandler("onCompositionStart"),n._onCopy=n._buildHandler("onCopy"),n._onCut=n._buildHandler("onCut"),n._onDragEnd=n._buildHandler("onDragEnd"),n._onDragOver=n._buildHandler("onDragOver"),n._onDragStart=n._buildHandler("onDragStart"),n._onDrop=n._buildHandler("onDrop"),n._onInput=n._buildHandler("onInput"),n._onFocus=n._buildHandler("onFocus"),n._onKeyDown=n._buildHandler("onKeyDown"),n._onKeyPress=n._buildHandler("onKeyPress"),n._onKeyUp=n._buildHandler("onKeyUp"),n._onMouseDown=n._buildHandler("onMouseDown"),n._onMouseUp=n._buildHandler("onMouseUp"),n._onPaste=n._buildHandler("onPaste"),n._onSelect=n._buildHandler("onSelect"),n.getEditorKey=function(){return n._editorKey},["onDownArrow","onEscape","onLeftArrow","onRightArrow","onTab","onUpArrow"].forEach(function(i){a.hasOwnProperty(i)&&console.warn("Supplying an `".concat(i,"` prop to `DraftEditor` has ")+"been deprecated. If your handler needs access to the keyboard event, supply a custom `keyBindingFn` prop that falls back to the default one (eg. https://is.gd/wHKQ3W).")}),n.state={contentsKey:0},n}var r=t.prototype;return r._buildHandler=function(n){var i=this;return function(s){if(!i.props.readOnly){var u=i._handler&&i._handler[n];u&&($f?$f(function(){return u(i,s)}):u(i,s))}}},r._showPlaceholder=function(){return!!this.props.placeholder&&!this.props.editorState.isInCompositionMode()&&!this.props.editorState.getCurrentContent().hasText()},r._renderPlaceholder=function(){if(this._showPlaceholder()){var n={text:O2(this.props.placeholder),editorState:this.props.editorState,textAlignment:this.props.textAlignment,accessibilityID:this._placeholderAccessibilityID};return _r.createElement(b2,n)}return null},r._renderARIADescribedBy=function(){var n=this.props.ariaDescribedBy||"",i=this._showPlaceholder()?this._placeholderAccessibilityID:"";return n.replace("{{editor_id_placeholder}}",i)||void 0},r.render=function(){var n=this.props,i=n.blockRenderMap,s=n.blockRendererFn,u=n.blockStyleFn,l=n.customStyleFn,f=n.customStyleMap,p=n.editorState,v=n.preventScroll,h=n.readOnly,E=n.textAlignment,y=n.textDirectionality,_=ss({"DraftEditor/root":!0,"DraftEditor/alignLeft":E==="left","DraftEditor/alignRight":E==="right","DraftEditor/alignCenter":E==="center"}),b={outline:"none",userSelect:"text",WebkitUserSelect:"text",whiteSpace:"pre-wrap",wordWrap:"break-word"},C=this.props.role||"textbox",A=C==="combobox"?!!this.props.ariaExpanded:null,w={blockRenderMap:i,blockRendererFn:s,blockStyleFn:u,customStyleMap:os({},v2,f),customStyleFn:l,editorKey:this._editorKey,editorState:p,preventScroll:v,textDirectionality:y};return _r.createElement("div",{className:_},this._renderPlaceholder(),_r.createElement("div",{className:ss("DraftEditor/editorContainer"),ref:this._handleEditorContainerRef},_r.createElement("div",{"aria-activedescendant":h?null:this.props.ariaActiveDescendantID,"aria-autocomplete":h?null:this.props.ariaAutoComplete,"aria-controls":h?null:this.props.ariaControls,"aria-describedby":this._renderARIADescribedBy(),"aria-expanded":h?null:A,"aria-label":this.props.ariaLabel,"aria-labelledby":this.props.ariaLabelledBy,"aria-multiline":this.props.ariaMultiline,"aria-owns":h?null:this.props.ariaOwneeID,autoCapitalize:this.props.autoCapitalize,autoComplete:this.props.autoComplete,autoCorrect:this.props.autoCorrect,className:ss({notranslate:!h,"public/DraftEditor/content":!0}),contentEditable:!h,"data-testid":this.props.webDriverTestID,onBeforeInput:this._onBeforeInput,onBlur:this._onBlur,onCompositionEnd:this._onCompositionEnd,onCompositionStart:this._onCompositionStart,onCopy:this._onCopy,onCut:this._onCut,onDragEnd:this._onDragEnd,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,onDragOver:this._onDragOver,onDragStart:this._onDragStart,onDrop:this._onDrop,onFocus:this._onFocus,onInput:this._onInput,onKeyDown:this._onKeyDown,onKeyPress:this._onKeyPress,onKeyUp:this._onKeyUp,onMouseUp:this._onMouseUp,onPaste:this._onPaste,onSelect:this._onSelect,ref:this.props.editorRef,role:h?null:C,spellCheck:k2&&this.props.spellCheck,style:b,suppressContentEditableWarning:!0,tabIndex:this.props.tabIndex},_r.createElement(B2,{editor:this,editorState:p}),_r.createElement(y2,Us({},w,{key:"contents"+this.state.contentsKey})))))},r.componentDidMount=function(){this._blockSelectEvents=!1,!Hf&&F2("draft_ods_enabled")&&(Hf=!0),this.setMode("edit"),Rg&&(this.editor?this.editor.ownerDocument.execCommand("AutoUrlDetect",!1,!1):ut.execCommand("AutoUrlDetect",!1,!1))},r.componentDidUpdate=function(){this._blockSelectEvents=!1,this._latestEditorState=this.props.editorState,this._latestCommittedEditorState=this.props.editorState},t}(_r.Component);oe(Pg,"defaultProps",{ariaDescribedBy:"{{editor_id_placeholder}}",blockRenderMap:g2,blockRendererFn:function(){return null},blockStyleFn:function(){return""},keyBindingFn:x2,readOnly:!1,spellCheck:!1,stripPastedStyles:!1});var I2=Pg,M2={},R2={stringify:function(t){return"_"+String(t)},unstringify:function(t){return t.slice(1)}},Lg=R2,P2=Lg,L2=Yr,jf=L2.strlen;function N2(e,t){var r=[];return e.findEntityRanges(function(a){return!!a.getEntity()},function(a,n){var i=e.getText(),s=e.getEntityAt(a);r.push({offset:jf(i.slice(0,a)),length:jf(i.slice(a,n)),key:Number(t[P2.stringify(s)])})}),r}var $2=N2,Wf=Yr,K2=ma,z2=function(t,r){return t===r},U2=function(t){return!!t},H2=[];function j2(e,t,r){var a=[],n=t.map(function(i){return i.has(r)}).toList();return K2(n,z2,U2,function(i,s){var u=e.getText();a.push({offset:Wf.strlen(u.slice(0,i)),length:Wf.strlen(u.slice(i,s)),style:r})}),a}function W2(e){var t=e.getCharacterList().map(function(a){return a.getStyle()}).toList(),r=t.flatten().toSet().map(function(a){return j2(e,t,a)});return Array.prototype.concat.apply(H2,r.toJS())}var q2=W2;function V2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{},a=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(r).filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable}))),a.forEach(function(n){G2(e,n,r[n])})}return e}function G2(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var X2=qr,Y2=Pt,Ng=Lg,Z2=$2,J2=q2,Q2=He,qf=function(t,r){return{key:t.getKey(),text:t.getText(),type:t.getType(),depth:t.getDepth(),inlineStyleRanges:J2(t),entityRanges:Z2(t,r),data:t.getData().toObject()}},eO=function(t,r,a,n){if(t instanceof X2){a.push(qf(t,r));return}t instanceof Y2||Q2(!1,"block is not a BlockNode");var i=t.getParentKey(),s=n[t.getKey()]=V2({},qf(t,r),{children:[]});if(i){n[i].children.push(s);return}a.push(s)},tO=function(t,r){var a=r.entityMap,n=[],i={},s={},u=0;return t.getBlockMap().forEach(function(l){l.findEntityRanges(function(f){return f.getEntity()!==null},function(f){var p=l.getEntityAt(f),v=Ng.stringify(p);s[v]||(s[v]=p,a[v]="".concat(u),u++)}),eO(l,a,n,i)}),{blocks:n,entityMap:a}},rO=function(t,r){var a=r.blocks,n=r.entityMap,i={};return Object.keys(n).forEach(function(s,u){var l=t.getEntity(Ng.unstringify(s));i[u]={type:l.getType(),mutability:l.getMutability(),data:l.getData()}}),{blocks:a,entityMap:i}},nO=function(t){var r={entityMap:{},blocks:[]};return r=tO(t,r),r=rO(t,r),r},aO=nO;function na(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{},a=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(r).filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable}))),a.forEach(function(n){iO(e,n,r[n])})}return e}function iO(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var oO=nr,$g=He,sO=function(t,r){for(var a=[].concat(t).reverse();a.length;){var n=a.pop();r(n);var i=n.children;Array.isArray(i)||$g(!1,"Invalid tree raw block"),a=a.concat([].concat(i.reverse()))}},Vf=function(t){if(!(t&&t.type))return!1;var r=t.type;return r==="unordered-list-item"||r==="ordered-list-item"},uO=function(t){Array.isArray(t.children)&&(t.children=t.children.map(function(r){return r.type===t.type?na({},r,{depth:(t.depth||0)+1}):r}))},lO={fromRawTreeStateToRawState:function(t){var r=t.blocks,a=[];return Array.isArray(r)||$g(!1,"Invalid raw state"),!Array.isArray(r)||!r.length?t:(sO(r,function(n){var i=na({},n);Vf(n)&&(i.depth=i.depth||0,uO(n),n.children!=null&&n.children.length>0)||(delete i.children,a.push(i))}),t.blocks=a,na({},t,{blocks:a}))},fromRawStateToRawTreeState:function(t){var r=[],a=[];return t.blocks.forEach(function(n){var i=Vf(n),s=n.depth||0,u=na({},n,{children:[]});if(!i){r.push(u);return}var l=a[0];if(l==null&&s===0)r.push(u);else if(l==null||l.depth<s-1){var f={key:oO(),text:"",depth:s-1,type:n.type,children:[],entityRanges:[],inlineStyleRanges:[]};a.unshift(f),s===1?r.push(f):l!=null&&l.children.push(f),f.children.push(u)}else if(l.depth===s-1)l.children.push(u);else{for(;l!=null&&l.depth>=s;)a.shift(),l=a[0];s>0?l.children.push(u):r.push(u)}}),na({},t,{blocks:r})}},cO=lO,sr=Mu,fO={isValidBlock:function(t,r){var a=t.getKey(),n=t.getParentKey();if(n!=null){var i=r.get(n);if(!i.getChildKeys().includes(a))return sr(!0,"Tree is missing parent -> child pointer on %s",a),!1}var s=t.getChildKeys().map(function(v){return r.get(v)});if(!s.every(function(v){return v.getParentKey()===a}))return sr(!0,"Tree is missing child -> parent pointer on %s",a),!1;var u=t.getPrevSiblingKey();if(u!=null){var l=r.get(u);if(l.getNextSiblingKey()!==a)return sr(!0,"Tree is missing nextSibling pointer on %s's prevSibling",a),!1}var f=t.getNextSiblingKey();if(f!=null){var p=r.get(f);if(p.getPrevSiblingKey()!==a)return sr(!0,"Tree is missing prevSibling pointer on %s's nextSibling",a),!1}return f!==null&&u!==null&&u===f?(sr(!0,"Tree has a two-node cycle at %s",a),!1):t.text!=""&&t.getChildKeys().size>0?(sr(!0,"Leaf node %s has children",a),!1):!0},isConnectedTree:function(t){var r=t.toArray().filter(function(h){return h.getParentKey()==null&&h.getPrevSiblingKey()==null});if(r.length!==1)return sr(!0,"Tree is not connected. More or less than one first node"),!1;for(var a=r.shift(),n=0,i=a.getKey(),s=[];i!=null;){var u=t.get(i),l=u.getChildKeys(),f=u.getNextSiblingKey();if(l.size>0){f!=null&&s.unshift(f);var p=l.map(function(h){return t.get(h)}),v=p.find(function(h){return h.getPrevSiblingKey()==null});if(v==null)return sr(!0,"%s has no first child",i),!1;i=v.getKey()}else u.getNextSiblingKey()!=null?i=u.getNextSiblingKey():i=s.shift();n++}return n!==t.size?(sr(!0,"Tree is not connected. %s nodes were seen instead of %s",n,t.size),!1):!0},isValidTree:function(t){var r=this,a=t.toArray();return a.every(function(n){return r.isValidBlock(n,t)})?this.isConnectedTree(t):!1}},dO=fO,pO=Rt,hO=he,gO=hO.List;function vO(e,t){var r=e.map(function(a,n){var i=t[n];return pO.create({style:a,entity:i})});return gO(r)}var mO=vO,yO=Yr,Gf=yO.substr;function EO(e,t){var r=Array(e.length).fill(null);return t&&t.forEach(function(a){for(var n=Gf(e,0,a.offset).length,i=n+Gf(e,a.offset,a.length).length,s=n;s<i;s++)r[s]=a.key}),r}var _O=EO,bO=Yr,SO=he,CO=SO.OrderedSet,Xf=bO.substr,wO=CO();function AO(e,t){var r=Array(e.length).fill(wO);return t&&t.forEach(function(a){for(var n=Xf(e,0,a.offset).length,i=n+Xf(e,a.offset,a.length).length;n<i;)r[n]=r[n].add(a.style),n++}),r}var DO=AO;function da(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{},a=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(r).filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable}))),a.forEach(function(n){xO(e,n,r[n])})}return e}function xO(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var TO=qr,Yf=Pt,FO=bu,OO=Ni,Zf=cO,kO=dO,Jf=$i,BO=mO,IO=_O,MO=DO,Kg=nr,RO=Or,$u=he,Si=He,Qf=RO("draft_tree_data_support"),ed=$u.List,PO=$u.Map,zg=$u.OrderedMap,Hs=function(t,r){var a=t.key,n=t.type,i=t.data,s=t.text,u=t.depth,l={text:s,depth:u||0,type:n||"unstyled",key:a||Kg(),data:PO(i),characterList:LO(t,r)};return l},LO=function(t,r){var a=t.text,n=t.entityRanges,i=t.inlineStyleRanges,s=n||[],u=i||[];return BO(MO(a,u),IO(a,s.filter(function(l){return r.hasOwnProperty(l.key)}).map(function(l){return da({},l,{key:r[l.key]})})))},us=function(t){return da({},t,{key:t.key||Kg()})},td=function(t,r,a){var n=r.map(function(i){return da({},i,{parentRef:a})});return t.concat(n.reverse())},NO=function(t,r){return t.map(us).reduce(function(a,n,i){Array.isArray(n.children)||Si(!1,"invalid RawDraftContentBlock can not be converted to ContentBlockNode");var s=n.children.map(us),u=new Yf(da({},Hs(n,r),{prevSibling:i===0?null:t[i-1].key,nextSibling:i===t.length-1?null:t[i+1].key,children:ed(s.map(function(b){return b.key}))}));a=a.set(u.getKey(),u);for(var l=td([],s,u);l.length>0;){var f=l.pop(),p=f.parentRef,v=p.getChildKeys(),h=v.indexOf(f.key),E=Array.isArray(f.children);if(!E){E||Si(!1,"invalid RawDraftContentBlock can not be converted to ContentBlockNode");break}var y=f.children.map(us),_=new Yf(da({},Hs(f,r),{parent:p.getKey(),children:ed(y.map(function(b){return b.key})),prevSibling:h===0?null:v.get(h-1),nextSibling:h===v.size-1?null:v.get(h+1)}));a=a.set(_.getKey(),_),l=td(l,y,_)}return a},zg())},$O=function(t,r){return zg(t.map(function(a){var n=new TO(Hs(a,r));return[n.getKey(),n]}))},KO=function(t,r){var a=t.blocks.find(function(s){return Array.isArray(s.children)&&s.children.length>0}),n=Qf&&!a?Zf.fromRawStateToRawTreeState(t).blocks:t.blocks;if(!Qf)return $O(a?Zf.fromRawTreeStateToRawState(t).blocks:n,r);var i=NO(n,r);return kO.isValidTree(i)||Si(!1,"Should be a valid tree"),i},zO=function(t){var r=t.entityMap,a={};return Object.keys(r).forEach(function(n){var i=r[n],s=i.type,u=i.mutability,l=i.data;a[n]=OO.__create(s,u,l||{})}),a},UO=function(t){Array.isArray(t.blocks)||Si(!1,"invalid RawDraftContentState");var r=zO(t),a=KO(t,r),n=a.isEmpty()?new Jf:Jf.createEmpty(a.first().getKey());return new FO({blockMap:a,entityMap:r,selectionBefore:n,selectionAfter:n})},HO=UO,jO=cg;function WO(e){var t=jO(e),r=0,a=0,n=0,i=0;if(t.length){if(t.length>1&&t[0].width===0){var s=t[1];r=s.top,a=s.right,n=s.bottom,i=s.left}else{var u=t[0];r=u.top,a=u.right,n=u.bottom,i=u.left}for(var l=1;l<t.length;l++){var f=t[l];f.height!==0&&f.width!==0&&(r=Math.min(r,f.top),a=Math.max(a,f.right),n=Math.max(n,f.bottom),i=Math.min(i,f.left))}}return{top:r,right:a,bottom:n,left:i,width:a-i,height:n-r}}var qO=WO,VO=qO;function GO(e){var t=e.getSelection();if(!t.rangeCount)return null;var r=t.getRangeAt(0),a=VO(r),n=a.top,i=a.right,s=a.bottom,u=a.left;return n===0&&i===0&&s===0&&u===0?null:a}var XO=GO,YO=Hb,ZO=va,JO=Rt,QO=Yb,ek=qr,tk=bu,rk=Du,nk=_h,ak=I2,ik=Zh,ok=Ni,sk=St,uk=ah,lk=Xe,ck=Pu,fk=M2,dk=Ag,pk=$i,hk=aO,gk=HO,vk=nr,mk=Ig,yk=XO,Ek=Sg,_k={Editor:ak,EditorBlock:ik,EditorState:lk,CompositeDecorator:QO,Entity:ok,EntityInstance:uk,BlockMapBuilder:ZO,CharacterMetadata:JO,ContentBlock:ek,ContentState:tk,RawDraftContentState:fk,SelectionState:pk,AtomicBlockUtils:YO,KeyBindingUtil:ck,Modifier:sk,RichUtils:dk,DefaultDraftBlockRenderMap:rk,DefaultDraftInlineStyle:nk,convertFromHTML:Ek,convertFromRaw:gk,convertToRaw:hk,genKey:vk,getDefaultKeyBinding:mk,getVisibleSelectionRect:yk},Ce=_k;function bk(e){return wk(e)||Ck(e)||Sk()}function Sk(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function Ck(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}function wk(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}function rd(e,t){var r=Object.keys(e);return Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(e)),t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r}function nd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rd(r,!0).forEach(function(a){Ak(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rd(r).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Ak(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dk(e,t){return Fk(e)||Tk(e,t)||xk()}function xk(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function Tk(e,t){var r=[],a=!0,n=!1,i=void 0;try{for(var s=e[Symbol.iterator](),u;!(a=(u=s.next()).done)&&(r.push(u.value),!(t&&r.length===t));a=!0);}catch(l){n=!0,i=l}finally{try{!a&&s.return!=null&&s.return()}finally{if(n)throw i}}return r}function Fk(e){if(Array.isArray(e))return e}function Ok(e,t){if(e==null)return t;for(var r=Dk(t,2),a=r[0],n=r[1],i=nd({},a),s=bk(n),u=0,l=Object.keys(e);u<l.length;u++){var f=l[u];if(a.hasOwnProperty(f)){var p=a[f];i[f]=nd({},p,{},e[f])}else i[f]=e[f],s.push(f)}return[i,s]}var ad={acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"};function ls(e){if(e==null)return e;for(var t={},r=!1,a=0,n=Object.keys(e);a<n.length;a++){var i=n[a],s=i;ad.hasOwnProperty(i)&&(s=ad[i],r=!0),t[s]=e[i]}return r?t:e}var kk=/^(moz|ms|o|webkit)-/,Bk=/^\d+$/,Ik=/([A-Z])/g,Mk={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};function Rk(e){return e.replace(Ik,"-$1").toLowerCase().replace(kk,"-$1-")}function Pk(e,t){var r;return typeof t=="string"?r=Bk.test(t):(r=!0,t=String(t)),!r||t==="0"||Mk[e]===!0?t:t+"px"}function ei(e){return Object.keys(e).map(function(t){var r=Pk(t,e[t]),a=Rk(t);return"".concat(a,": ").concat(r)}).join("; ")}var Ke={UNSTYLED:"unstyled",HEADER_ONE:"header-one",HEADER_TWO:"header-two",HEADER_THREE:"header-three",HEADER_FOUR:"header-four",HEADER_FIVE:"header-five",HEADER_SIX:"header-six",UNORDERED_LIST_ITEM:"unordered-list-item",ORDERED_LIST_ITEM:"ordered-list-item",BLOCKQUOTE:"blockquote",PULLQUOTE:"pullquote",CODE:"code-block",ATOMIC:"atomic"},Ar={LINK:"LINK",IMAGE:"IMAGE",EMBED:"embed"},Jt={BOLD:"BOLD",CODE:"CODE",ITALIC:"ITALIC",STRIKETHROUGH:"STRIKETHROUGH",UNDERLINE:"UNDERLINE"},cs=new he.OrderedSet;function Lk(e,t){for(var r=null,a=null,n=[],i=0,s=0,u=e.length;s<u;s++){a=r;var l=t.get(s);r=l?l.getEntity():null,s>0&&r!==a&&(n.push([a,id(e.slice(i,s),t.slice(i,s))]),i=s)}return n.push([r,id(e.slice(i),t.slice(i))]),n}function id(e,t){for(var r=cs,a=cs,n=[],i=0,s=0,u=e.length;s<u;s++){a=r;var l=t.get(s);r=l?l.getStyle():cs,s>0&&!he.is(r,a)&&(n.push([e.slice(i,s),a]),i=s)}return n.push([e.slice(i),r]),n}var Lr,ti,ri;function od(e,t){var r=Object.keys(e);return Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(e)),t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r}function ni(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?od(r,!0).forEach(function(a){nt(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):od(r).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function fs(e,t){return Kk(e)||$k(e,t)||Nk()}function Nk(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function $k(e,t){var r=[],a=!0,n=!1,i=void 0;try{for(var s=e[Symbol.iterator](),u;!(a=(u=s.next()).done)&&(r.push(u.value),!(t&&r.length===t));a=!0);}catch(l){n=!0,i=l}finally{try{!a&&s.return!=null&&s.return()}finally{if(n)throw i}}return r}function Kk(e){if(Array.isArray(e))return e}function zk(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sd(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Uk(e,t,r){return t&&sd(e.prototype,t),r&&sd(e,r),e}function nt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ug=Jt.BOLD,Ku=Jt.CODE,Hg=Jt.ITALIC,jg=Jt.STRIKETHROUGH,Wg=Jt.UNDERLINE,Hk="  ",qg="<br>",ud=/^data-([a-z0-9-]+)$/,jk=(Lr={},nt(Lr,Ug,{element:"strong"}),nt(Lr,Ku,{element:"code"}),nt(Lr,Hg,{element:"em"}),nt(Lr,jg,{element:"del"}),nt(Lr,Wg,{element:"u"}),Lr),Wk=[Ug,Hg,Wg,jg,Ku],ai=(ti={},nt(ti,Ar.LINK,{url:"href",href:"href",rel:"rel",target:"target",title:"title",className:"class"}),nt(ti,Ar.IMAGE,{src:"src",height:"height",width:"width",alt:"alt",className:"class"}),ti),ii=(ri={},nt(ri,Ar.LINK,function(e,t){for(var r=ai.hasOwnProperty(e)?ai[e]:{},a=t.getData(),n={},i=0,s=Object.keys(a);i<s.length;i++){var u=s[i],l=a[u];if(r.hasOwnProperty(u)){var f=r[u];n[f]=l}else ud.test(u)&&(n[u]=l)}return n}),nt(ri,Ar.IMAGE,function(e,t){for(var r=ai.hasOwnProperty(e)?ai[e]:{},a=t.getData(),n={},i=0,s=Object.keys(a);i<s.length;i++){var u=s[i],l=a[u];if(r.hasOwnProperty(u)){var f=r[u];n[f]=l}else ud.test(u)&&(n[u]=l)}return n}),ri);function ld(e,t){switch(e){case Ke.HEADER_ONE:return["h1"];case Ke.HEADER_TWO:return["h2"];case Ke.HEADER_THREE:return["h3"];case Ke.HEADER_FOUR:return["h4"];case Ke.HEADER_FIVE:return["h5"];case Ke.HEADER_SIX:return["h6"];case Ke.UNORDERED_LIST_ITEM:case Ke.ORDERED_LIST_ITEM:return["li"];case Ke.BLOCKQUOTE:return["blockquote"];case Ke.CODE:return["pre","code"];case Ke.ATOMIC:return["figure"];default:return t===null?[]:[t||"p"]}}function qk(e){switch(e){case Ke.UNORDERED_LIST_ITEM:return"ul";case Ke.ORDERED_LIST_ITEM:return"ol";default:return null}}var Vk=function(){function e(t,r){zk(this,e),nt(this,"blocks",void 0),nt(this,"contentState",void 0),nt(this,"currentBlock",void 0),nt(this,"indentLevel",void 0),nt(this,"output",void 0),nt(this,"totalBlocks",void 0),nt(this,"wrapperTag",void 0),nt(this,"options",void 0),nt(this,"inlineStyles",void 0),nt(this,"inlineStyleFn",void 0),nt(this,"styleOrder",void 0),r==null&&(r={}),this.contentState=t,this.options=r;var a=Ok(r.inlineStyles,[jk,Wk]),n=fs(a,2),i=n[0],s=n[1];this.inlineStyles=i,this.inlineStyleFn=r.inlineStyleFn,this.styleOrder=s}return Uk(e,[{key:"generate",value:function(){for(this.output=[],this.blocks=this.contentState.getBlocksAsArray(),this.totalBlocks=this.blocks.length,this.currentBlock=0,this.indentLevel=0,this.wrapperTag=null;this.currentBlock<this.totalBlocks;)this.processBlock();return this.closeWrapperTag(),this.output.join("").trim()}},{key:"processBlock",value:function(){var r=this.options,a=r.blockRenderers,n=r.defaultBlockTag,i=this.blocks[this.currentBlock],s=i.getType(),u=qk(s);this.wrapperTag!==u&&(this.wrapperTag&&this.closeWrapperTag(),u&&this.openWrapperTag(u)),this.indent();var l=a!=null&&a.hasOwnProperty(s)?a[s]:null,f=l?l(i):null;if(f!=null){this.output.push(f),this.output.push(`
`),this.currentBlock+=1;return}this.writeStartTag(i,n),this.output.push(this.renderBlockContent(i));var p=this.getNextBlock();if(Gk(s)&&p&&p.getDepth()===i.getDepth()+1){this.output.push(`
`);var v=this.wrapperTag;this.wrapperTag=null,this.indentLevel+=1,this.currentBlock+=1,this.processBlocksAtDepth(p.getDepth()),this.wrapperTag=v,this.indentLevel-=1,this.indent()}else this.currentBlock+=1;this.writeEndTag(i,n)}},{key:"processBlocksAtDepth",value:function(r){for(var a=this.blocks[this.currentBlock];a&&a.getDepth()===r;)this.processBlock(),a=this.blocks[this.currentBlock];this.closeWrapperTag()}},{key:"getNextBlock",value:function(){return this.blocks[this.currentBlock+1]}},{key:"writeStartTag",value:function(r,a){var n=ld(r.getType(),a),i;if(this.options.blockStyleFn){var s=this.options.blockStyleFn(r)||{},u=s.attributes,l=s.style;if(u=ls(u),l!=null){var f=ei(l);u=u==null?{style:f}:ni({},u,{style:f})}i=mn(u)}else i="";var p=!0,v=!1,h=void 0;try{for(var E=n[Symbol.iterator](),y;!(p=(y=E.next()).done);p=!0){var _=y.value;this.output.push("<".concat(_).concat(i,">"))}}catch(b){v=!0,h=b}finally{try{!p&&E.return!=null&&E.return()}finally{if(v)throw h}}}},{key:"writeEndTag",value:function(r,a){var n=ld(r.getType(),a);if(n.length===1)this.output.push("</".concat(n[0],`>
`));else{var i=[],s=!0,u=!1,l=void 0;try{for(var f=n[Symbol.iterator](),p;!(s=(p=f.next()).done);s=!0){var v=p.value;i.unshift("</".concat(v,">"))}}catch(h){u=!0,l=h}finally{try{!s&&f.return!=null&&f.return()}finally{if(u)throw l}}this.output.push(i.join("")+`
`)}}},{key:"openWrapperTag",value:function(r){this.wrapperTag=r,this.indent(),this.output.push("<".concat(r,`>
`)),this.indentLevel+=1}},{key:"closeWrapperTag",value:function(){var r=this.wrapperTag;r&&(this.indentLevel-=1,this.indent(),this.output.push("</".concat(r,`>
`)),this.wrapperTag=null)}},{key:"indent",value:function(){this.output.push(Hk.repeat(this.indentLevel))}},{key:"withCustomInlineStyles",value:function(r,a){if(!this.inlineStyleFn)return r;var n=this.inlineStyleFn(a);if(!n)return r;var i=n.element,s=i===void 0?"span":i,u=n.attributes,l=n.style,f=mn(ni({},u,{style:l&&ei(l)}));return"<".concat(s).concat(f,">").concat(r,"</").concat(s,">")}},{key:"renderBlockContent",value:function(r){var a=this,n=r.getType(),i=r.getText();if(i==="")return qg;i=this.preserveWhitespace(i);var s=r.getCharacterList(),u=Lk(i,s);return u.map(function(l){var f=fs(l,2),p=f[0],v=f[1],h=v.map(function(O){var N=fs(O,2),U=N[0],H=N[1],K=Xk(U),V=!0,G=!1,W=void 0;try{for(var J=a.styleOrder[Symbol.iterator](),Y;!(V=(Y=J.next()).done);V=!0){var ne=Y.value;if(!(ne===Ku&&n===Ke.CODE)&&H.has(ne)){var Q=a.inlineStyles[ne],we=Q.element,Le=Q.attributes,Ee=Q.style;if(we==null&&(we="span"),Le=ls(Le),Ee!=null){var ae=ei(Ee);Le=Le==null?{style:ae}:ni({},Le,{style:ae})}var pe=mn(Le);K="<".concat(we).concat(pe,">").concat(K,"</").concat(we,">")}}}catch(Te){G=!0,W=Te}finally{try{!V&&J.return!=null&&J.return()}finally{if(G)throw W}}return a.withCustomInlineStyles(K,H)}).join(""),E=p?a.contentState.getEntity(p):null,y=E==null?null:E.getType().toUpperCase(),_;if(E!=null&&a.options.entityStyleFn&&(_=a.options.entityStyleFn(E))){var b=_,C=b.element,A=b.attributes,w=b.style;if(C==null&&(C="span"),A=ls(A),w!=null){var F=ei(w);A=A==null?{style:F}:ni({},A,{style:F})}var x=mn(A);return"<".concat(C).concat(x,">").concat(h,"</").concat(C,">")}else if(y!=null&&y===Ar.LINK){var I=ii.hasOwnProperty(y)?ii[y](y,E):null,R=mn(I);return"<a".concat(R,">").concat(h,"</a>")}else if(y!=null&&y===Ar.IMAGE){var P=ii.hasOwnProperty(y)?ii[y](y,E):null,M=mn(P);return"<img".concat(M,"/>")}else return h}).join("")}},{key:"preserveWhitespace",value:function(r){for(var a=r.length,n=new Array(a),i=0;i<a;i++)r[i]===" "&&(i===0||i===a-1||r[i-1]===" ")?n[i]="":n[i]=r[i];return n.join("")}}]),e}();function mn(e){if(e==null)return"";for(var t=[],r=0,a=Object.keys(e);r<a.length;r++){var n=a[r],i=e[n];i!=null&&t.push(" ".concat(n,'="').concat(Yk(i+""),'"'))}return t.join("")}function Gk(e){switch(e){case Ke.UNORDERED_LIST_ITEM:case Ke.ORDERED_LIST_ITEM:return!0;default:return!1}}function Xk(e){return e.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;").split("").join("&nbsp;").split(`
`).join(qg+`
`)}function Yk(e){return e.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;").split('"').join("&quot;")}function Zk(e,t){return new Vk(e,t).generate()}function cd(e,t,r){for(var a=e.text,n=e.characterMeta,i=t.length,s=r.length,u=[],l=n.slice(0,0),f=0,p=a.indexOf(t);p!==-1;)u.push(a.slice(f,p)+r),l=l.concat(n.slice(f,p),Jk(n.slice(p,p+1),s)),f=p+i,p=a.indexOf(t,f);return u.push(a.slice(f)),l=l.concat(n.slice(f)),{text:u.join(""),characterMeta:l}}function Jk(e,t){for(var r=e.slice(0,0);t-- >0;)r=r.concat(e);return r}var Qk=1,eB=3,tB={a:1,abbr:1,area:1,audio:1,b:1,bdi:1,bdo:1,br:1,button:1,canvas:1,cite:1,code:1,command:1,datalist:1,del:1,dfn:1,em:1,embed:1,i:1,iframe:1,img:1,input:1,ins:1,kbd:1,keygen:1,label:1,map:1,mark:1,meter:1,noscript:1,object:1,output:1,progress:1,q:1,ruby:1,s:1,samp:1,script:1,select:1,small:1,span:1,strong:1,sub:1,sup:1,textarea:1,time:1,u:1,var:1,video:1,wbr:1,acronym:1,applet:1,basefont:1,big:1,font:1,isindex:1,strike:1,style:1,tt:1},rB={area:1,base:1,br:1,col:1,colgroup:1,command:1,dl:1,embed:1,head:1,hgroup:1,hr:1,iframe:1,img:1,input:1,keygen:1,link:1,meta:1,ol:1,optgroup:1,option:1,param:1,script:1,select:1,source:1,style:1,table:1,tbody:1,textarea:1,tfoot:1,thead:1,title:1,tr:1,track:1,ul:1,wbr:1,basefont:1,dialog:1,dir:1,isindex:1},nB={img:1};function hi(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?hi=function(r){return typeof r}:hi=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},hi(e)}function fd(e,t){var r=Object.keys(e);return Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(e)),t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r}function aB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fd(r,!0).forEach(function(a){Nr(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fd(r).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function iB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dd(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function oB(e,t,r){return t&&dd(e.prototype,t),r&&dd(e,r),e}function Nr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var sB=/^data:/i,uB=he.OrderedSet(),lB=null,cB=new Ce.ContentBlock({key:Ce.genKey(),text:"",type:Ke.UNSTYLED,characterList:he.List(),depth:0}),fB=/(\r\n|\r|\n)/g,Cr="\r",dB="",pB=/^data-([a-z0-9-]+)$/,pd={a:{href:"url",rel:"rel",target:"target",title:"title"},img:{src:"src",alt:"alt",width:"width",height:"height"}},hd=function(t,r){var a={};if(pd.hasOwnProperty(t))for(var n=pd[t],i=0;i<r.attributes.length;i++){var s=r.attributes[i],u=s.name,l=s.value;if(typeof l=="string"){var f=l;if(n.hasOwnProperty(u)){var p=n[u];a[p]=f}else pB.test(u)&&(a[u]=f)}}return a},gd={a:function(t,r,a){var n=hd(r,a);if(wB(n.url))return t.createEntity(Ar.LINK,n)},img:function(t,r,a){var n=hd(r,a);if(n.src!=null)return t.createEntity(Ar.IMAGE,n)}},hB=function(){function e(){var t=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};iB(this,e),Nr(this,"contentStateForEntities",void 0),Nr(this,"blockStack",void 0),Nr(this,"blockList",void 0),Nr(this,"depth",void 0),Nr(this,"options",void 0),Nr(this,"inlineCreators",{Style:function(a){function n(i){return a.apply(this,arguments)}return n.toString=function(){return a.toString()},n}(function(a){return{type:"STYLE",style:a}}),Entity:function(n,i){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"MUTABLE";return{type:"ENTITY",entityKey:t.createEntity(n,CB(i),s)}}}),this.options=r,this.contentStateForEntities=Ce.ContentState.createFromBlockArray([]),this.blockStack=[],this.blockList=[],this.depth=0}return oB(e,[{key:"process",value:function(r){this.processBlockElement(r);var a=[];return this.blockList.forEach(function(n){var i=_B(n.textFragments),s=i.text,u=i.characterMeta,l=!1;if(s===Cr&&(l=!0,s=""),n.tagName==="pre"){var f=gB(s,u);s=f.text,u=f.characterMeta}else{var p=yB(s,u);s=p.text,u=p.characterMeta}s=s.split(Cr).join(`
`),(s.length||l)&&a.push(new Ce.ContentBlock({key:Ce.genKey(),text:s,type:n.type,characterList:u.toList(),depth:n.depth,data:n.data?he.Map(n.data):he.Map()}))}),a.length||(a=[cB]),Ce.ContentState.createFromBlockArray(a,this.contentStateForEntities.getEntityMap())}},{key:"getBlockTypeFromTagName",value:function(r){var a=this.options.blockTypes;if(a&&a[r])return a[r];switch(r){case"li":{var n=this.blockStack.slice(-1)[0];return n.tagName==="ol"?Ke.ORDERED_LIST_ITEM:Ke.UNORDERED_LIST_ITEM}case"blockquote":return Ke.BLOCKQUOTE;case"h1":return Ke.HEADER_ONE;case"h2":return Ke.HEADER_TWO;case"h3":return Ke.HEADER_THREE;case"h4":return Ke.HEADER_FOUR;case"h5":return Ke.HEADER_FIVE;case"h6":return Ke.HEADER_SIX;case"pre":return Ke.CODE;case"figure":return Ke.ATOMIC;default:return Ke.UNSTYLED}}},{key:"processBlockElement",value:function(r){if(r){var a=this.options.customBlockFn,n=r.nodeName.toLowerCase(),i,s;if(a){var u=a(r);u!=null&&(i=u.type,s=u.data)}var l=!0;if(i==null&&(l=!1,i=this.getBlockTypeFromTagName(n)),i===Ke.CODE){var f=r.getAttribute("data-language");f&&(s=aB({},s,{language:f}))}var p=EB(i),v=!rB.hasOwnProperty(n);if(!l&&!SB(i)){var h=this.blockStack.slice(-1)[0];h&&(i=h.type)}var E={tagName:n,textFragments:[],type:i,styleStack:[uB],entityStack:[lB],depth:p?this.depth:0,data:s};v&&(this.blockList.push(E),p&&(this.depth+=1)),this.blockStack.push(E),r.childNodes!=null&&Array.from(r.childNodes).forEach(this.processNode,this),this.blockStack.pop(),v&&p&&(this.depth-=1)}}},{key:"processInlineElement",value:function(r){var a=r.nodeName.toLowerCase();if(a==="br"){this.processText(Cr);return}var n=this.blockStack.slice(-1)[0],i=n.styleStack.slice(-1)[0],s=n.entityStack.slice(-1)[0],u=this.options.customInlineFn,l=u?u(r,this.inlineCreators):null;if(l!=null)switch(l.type){case"STYLE":{i=i.add(l.style);break}case"ENTITY":{s=l.entityKey;break}}else i=bB(i,a,this.options.elementStyles),gd.hasOwnProperty(a)&&(s=gd[a](this,a,r)||s);n.styleStack.push(i),n.entityStack.push(s),r.childNodes!=null&&Array.from(r.childNodes).forEach(this.processNode,this),nB.hasOwnProperty(a)&&this.processText(""),n.entityStack.pop(),n.styleStack.pop()}},{key:"processTextNode",value:function(r){var a=r.nodeValue;a=a.replace(fB,`
`),a=a.split(dB).join(Cr),this.processText(a)}},{key:"processText",value:function(r){var a=this.blockStack.slice(-1)[0],n=a.styleStack.slice(-1)[0],i=a.entityStack.slice(-1)[0],s=Ce.CharacterMetadata.create({style:n,entity:i}),u=he.Repeat(s,r.length);a.textFragments.push({text:r,characterMeta:u})}},{key:"processNode",value:function(r){if(r.nodeType===Qk){var a=r,n=a.nodeName.toLowerCase();tB.hasOwnProperty(n)?this.processInlineElement(a):this.processBlockElement(a)}else r.nodeType===eB&&this.processTextNode(r)}},{key:"createEntity",value:function(r,a){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"MUTABLE";return this.contentStateForEntities=this.contentStateForEntities.createEntity(r,n,a),this.contentStateForEntities.getLastCreatedEntityKey()}}]),e}();function gB(e,t){return e.charAt(0)===`
`&&(e=e.slice(1),t=t.slice(1)),{text:e,characterMeta:t}}function vB(e,t){for(;e.charAt(0)===" ";)e=e.slice(1),t=t.slice(1);return{text:e,characterMeta:t}}function mB(e,t){for(;e.slice(-1)===" ";)e=e.slice(0,-1),t=t.slice(0,-1);return{text:e,characterMeta:t}}function yB(e,t){e=e.replace(/[ \t\n]/g," ");var r=vB(e,t);e=r.text,t=r.characterMeta;var a=mB(e,t);e=a.text,t=a.characterMeta;for(var n=e.length;n--;)e.charAt(n)===" "&&e.charAt(n-1)===" "&&(e=e.slice(0,n)+e.slice(n+1),t=t.slice(0,n).concat(t.slice(n+1)));var i=cd({text:e,characterMeta:t},Cr+" ",Cr);e=i.text,t=i.characterMeta;var s=cd({text:e,characterMeta:t}," "+Cr,Cr);return e=s.text,t=s.characterMeta,{text:e,characterMeta:t}}function EB(e){switch(e){case Ke.UNORDERED_LIST_ITEM:case Ke.ORDERED_LIST_ITEM:return!0;default:return!1}}function _B(e){var t="",r=he.Seq();return e.forEach(function(a){t=t+a.text,r=r.concat(a.characterMeta)}),{text:t,characterMeta:r}}function bB(e,t,r){switch(t){case"b":case"strong":return e.add(Jt.BOLD);case"i":case"em":return e.add(Jt.ITALIC);case"u":case"ins":return e.add(Jt.UNDERLINE);case"code":return e.add(Jt.CODE);case"s":case"del":return e.add(Jt.STRIKETHROUGH);default:return r&&r[t]?e.add(r[t]):e}}function SB(e){return e!==Ke.UNSTYLED}function CB(e){var t={};if(e!==null&&hi(e)==="object"&&!Array.isArray(e))for(var r=e,a=0,n=Object.keys(r);a<n.length;a++){var i=n[a],s=r[i];typeof s=="string"&&(t[i]=s)}return t}function wB(e){return!(e==null||e.match(sB))}function AB(e,t){return new hB(t).process(e)}function DB(e){var t;if(typeof DOMParser<"u"){var r=new DOMParser;t=r.parseFromString(e,"text/html")}else t=document.implementation.createHTMLDocument(""),t.documentElement&&(t.documentElement.innerHTML=e);return t.body||t.createElement("body")}function xB(e,t){if(e==null)return{};var r=TB(e,t),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function TB(e,t){if(e==null)return{};var r={},a=Object.keys(e),n,i;for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&(r[n]=e[n]);return r}var FB={};function vd(e,t){var r=t||FB,a=r.parser,n=xB(r,["parser"]);a==null&&(a=DB);var i=a(e);return AB(i,n)}function Qt(){return Qt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Qt.apply(this,arguments)}function OB(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,js(e,t)}function js(e,t){return js=Object.setPrototypeOf||function(a,n){return a.__proto__=n,a},js(e,t)}function Ws(e,t){if(e==null)return{};var r={},a=Object.keys(e),n,i;for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&(r[n]=e[n]);return r}function kB(e){return Ce.getDefaultKeyBinding(e)}function BB(e,t,r,a){var n=a.setEditorState,i;switch(e){case"backspace":case"backspace-word":case"backspace-to-start-of-line":i=Ce.RichUtils.onBackspace(t);break;case"delete":case"delete-word":case"delete-to-end-of-block":i=Ce.RichUtils.onDelete(t);break;default:return"not-handled"}return i!=null?(n(i),"handled"):"not-handled"}var IB=["props"],MB=["props"];function RB(e){return e.startsWith("handle")}function PB(e){return e.startsWith("on")}function LB(e){return e.endsWith("Fn")}function NB(e,t){return function(r){var a={props:{}};return e.forEach(function(n){if(typeof n.blockRendererFn=="function"){var i=n.blockRendererFn(r,t);if(i!=null){var s=i.props,u=Ws(i,IB),l=a,f=l.props,p=Ws(l,MB);a=Qt({},p,u,{props:Qt({},f,s)})}}}),a.component?a:!1}}function $B(e,t){return function(r){var a=[];return e.forEach(function(n){if(typeof n.blockStyleFn=="function"){var i=n.blockStyleFn(r,t);i!=null&&a.push(i)}}),a.join(" ")}}function KB(e,t){return function(r,a){var n,i=e.some(function(s){return typeof s.customStyleFn!="function"?!1:(n=s.customStyleFn(r,a,t),n!==void 0)});return i&&n?n:{}}}function zB(e,t){return function(r){var a=null,n=e.some(function(i){return typeof i.keyBindingFn!="function"?!1:(a=i.keyBindingFn(r,t),a!==void 0)});return n?a:null}}function UB(e,t,r){return function(){for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return t.some(function(s){var u=s[e];return typeof u=="function"&&u.apply(void 0,n.concat([r]))==="handled"})?"handled":"not-handled"}}function HB(e,t,r){return function(){for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return t.some(function(s){var u=s[e];return typeof u=="function"&&u.apply(void 0,n.concat([r]))===!0})}}function jB(e,t){var r={},a=new Set(["onChange"]);return e.forEach(function(n){Object.keys(n).forEach(function(i){a.has(i)||(a.add(i),PB(i)?r[i]=HB(i,e,t):RB(i)?r[i]=UB(i,e,t):LB(i)&&(i==="blockRendererFn"?r.blockRendererFn=NB(e,t):i==="blockStyleFn"?r.blockStyleFn=$B(e,t):i==="customStyleFn"?r.customStyleFn=KB(e,t):i==="keyBindingFn"&&(r.keyBindingFn=zB(e,t))))})}),r}function WB(e,t,r){var a=he.List(e).map(function(n){var i=n.component,s=function(l){return z.createElement(i,Qt({},l,{getEditorState:t,setEditorState:r}))};return Qt({},n,{component:s})}).toJS();return new Ce.CompositeDecorator(a)}var oi="-",qB=function(){function e(r){this.decorators=void 0,this.decorators=ec.List(r)}var t=e.prototype;return t.getDecorations=function(a,n){var i=new Array(a.getText().length).fill(null);return this.decorators.forEach(function(s,u){var l=s.getDecorations(a,n);l.forEach(function(f,p){f&&(i[p]=u+oi+f)})}),ec.List(i)},t.getComponentForKey=function(a){var n=this.getDecoratorForKey(a);return n.getComponentForKey(e.getInnerKey(a))},t.getPropsForKey=function(a){var n=this.getDecoratorForKey(a);return n.getPropsForKey(e.getInnerKey(a))},t.getDecoratorForKey=function(a){var n=a.split(oi),i=Number(n[0]);return this.decorators.get(i)},e.getInnerKey=function(a){var n=a.split(oi);return n.slice(1).join(oi)},e}(),md=function(t){return typeof t.getDecorations=="function"&&typeof t.getComponentForKey=="function"&&typeof t.getPropsForKey=="function"},VB=function(t){var r=t.decorators,a=t.plugins,n=a===void 0?[]:a;return he.List([{decorators:r}].concat(n)).filter(function(i){return(i==null?void 0:i.decorators)!==void 0}).flatMap(function(i){return i==null?void 0:i.decorators})};function GB(e,t,r){var a=VB(e),n=WB(a.filter(function(s){return!md(s)}),t,r),i=a.filter(function(s){return md(s)});return new qB(i.push(n))}var XB=["keyBindingFn"],yd=function(t){if((t==null?void 0:t.decorators)!=null){var r;return(r=t.decorators)==null?void 0:r.size}else if((t==null?void 0:t._decorators)!=null){var a;return(a=t._decorators)==null?void 0:a.length}},zu=function(e){OB(t,e);function t(a){var n;n=e.call(this,a)||this,n.editor=null,n.state={readOnly:!1},n.onChange=function(s){var u=s;n.resolvePlugins().forEach(function(l){l.onChange&&(u=l.onChange(u,n.getPluginMethods()))}),n.props.onChange&&n.props.onChange(u)},n.getPlugins=function(){return[].concat(n.props.plugins)},n.getProps=function(){return Qt({},n.props)},n.getReadOnly=function(){return n.props.readOnly||n.state.readOnly},n.setReadOnly=function(s){s!==n.state.readOnly&&n.setState({readOnly:s})},n.getEditorRef=function(){return n.editor},n.getEditorState=function(){return n.props.editorState},n.getPluginMethods=function(){return{getPlugins:n.getPlugins,getProps:n.getProps,setEditorState:n.onChange,getEditorState:n.getEditorState,getReadOnly:n.getReadOnly,setReadOnly:n.setReadOnly,getEditorRef:n.getEditorRef}},n.createPluginHooks=function(){var s=[n.props].concat(n.resolvePlugins());return jB(s,n.getPluginMethods())},n.resolvePlugins=function(){var s=n.getPlugins();return n.props.defaultKeyBindings===!0&&s.push({keyBindingFn:kB}),n.props.defaultKeyCommands===!0&&s.push({handleKeyCommand:BB}),s},n.resolveCustomStyleMap=function(){var s=n.props.plugins.filter(function(u){return u.customStyleMap!==void 0}).map(function(u){return u.customStyleMap});return s.concat([n.props.customStyleMap]).reduce(function(u,l){return Qt({},u,l)},{})},n.resolveblockRenderMap=function(){var s=n.props.plugins.filter(function(u){return u.blockRenderMap!==void 0}).reduce(function(u,l){return u.merge(l.blockRenderMap)},he.Map({}));return n.props.defaultBlockRenderMap&&(s=Ce.DefaultDraftBlockRenderMap.merge(s)),n.props.blockRenderMap&&(s=s.merge(n.props.blockRenderMap)),s},n.resolveAccessibilityProps=function(){var s={};return n.resolvePlugins().forEach(function(u){if(typeof u.getAccessibilityProps=="function"){var l=u.getAccessibilityProps(),f={};s.ariaHasPopup===void 0?f.ariaHasPopup=l.ariaHasPopup:l.ariaHasPopup==="true"&&(f.ariaHasPopup="true"),s.ariaExpanded===void 0?f.ariaExpanded=l.ariaExpanded:l.ariaExpanded===!0&&(f.ariaExpanded=!0),s=Qt({},s,l,f)}}),s};var i=[n.props].concat(n.resolvePlugins());return i.forEach(function(s){s&&typeof s.initialize=="function"&&s.initialize(n.getPluginMethods())}),n}var r=t.prototype;return r.focus=function(){this.editor&&this.editor.focus()},r.blur=function(){this.editor&&this.editor.blur()},r.componentDidMount=function(){var n=GB(this.props,this.getEditorState,this.onChange),i=Ce.EditorState.set(this.props.editorState,{decorator:n});this.onChange(Ce.EditorState.moveSelectionToEnd(i))},r.componentDidUpdate=function(n){var i=this.props,s=n.editorState.getDecorator(),u=i.editorState.getDecorator();if(s&&s!==u&&!(s&&u&&yd(s)===yd(u))){var l=Ce.EditorState.set(i.editorState,{decorator:s});this.onChange(Ce.EditorState.moveSelectionToEnd(l))}},r.componentWillUnmount=function(){var n=this;this.resolvePlugins().forEach(function(i){i.willUnmount&&i.willUnmount({getEditorState:n.getEditorState,setEditorState:n.onChange})})},r.render=function(){var n=this,i=this.createPluginHooks(),s=this.resolveCustomStyleMap(),u=this.resolveAccessibilityProps(),l=this.resolveblockRenderMap(),f=this.props;f.keyBindingFn;var p=Ws(f,XB);return z.createElement(Ce.Editor,Qt({},p,u,i,{readOnly:this.props.readOnly||this.state.readOnly,customStyleMap:s,blockRenderMap:l,onChange:this.onChange,editorState:this.props.editorState,ref:function(h){n.editor=h}}))},t}(T.Component);zu.propTypes={editorState:q.object.isRequired,onChange:q.func.isRequired,plugins:q.array,defaultKeyBindings:q.bool,defaultKeyCommands:q.bool,defaultBlockRenderMap:q.bool,customStyleMap:q.object,decorators:q.array};zu.defaultProps={defaultBlockRenderMap:!0,defaultKeyBindings:!0,defaultKeyCommands:!0,customStyleMap:{},plugins:[],decorators:[]};var YB=zu;function Vg(e){var t,r,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=Vg(e[t]))&&(a&&(a+=" "),a+=r);else for(t in e)e[t]&&(a&&(a+=" "),a+=t);return a}function Dr(){for(var e,t,r=0,a="";r<arguments.length;)(e=arguments[r++])&&(t=Vg(e))&&(a&&(a+=" "),a+=t);return a}var ZB=typeof global=="object"&&global&&global.Object===Object&&global;const JB=ZB;var QB=typeof self=="object"&&self&&self.Object===Object&&self,eI=JB||QB||Function("return this")();const tI=eI;var rI=tI.Symbol;const Dn=rI;function nI(e,t){for(var r=-1,a=e==null?0:e.length,n=Array(a);++r<a;)n[r]=t(e[r],r,e);return n}var aI=Array.isArray;const iI=aI;var Gg=Object.prototype,oI=Gg.hasOwnProperty,sI=Gg.toString,Qn=Dn?Dn.toStringTag:void 0;function uI(e){var t=oI.call(e,Qn),r=e[Qn];try{e[Qn]=void 0;var a=!0}catch{}var n=sI.call(e);return a&&(t?e[Qn]=r:delete e[Qn]),n}var lI=Object.prototype,cI=lI.toString;function fI(e){return cI.call(e)}var dI="[object Null]",pI="[object Undefined]",Ed=Dn?Dn.toStringTag:void 0;function hI(e){return e==null?e===void 0?pI:dI:Ed&&Ed in Object(e)?uI(e):fI(e)}function gI(e){return e!=null&&typeof e=="object"}var vI="[object Symbol]";function Xg(e){return typeof e=="symbol"||gI(e)&&hI(e)==vI}var mI=1/0,_d=Dn?Dn.prototype:void 0,bd=_d?_d.toString:void 0;function Yg(e){if(typeof e=="string")return e;if(iI(e))return nI(e,Yg)+"";if(Xg(e))return bd?bd.call(e):"";var t=e+"";return t=="0"&&1/e==-mI?"-0":t}function yI(e){return e==null?"":Yg(e)}var Zg=/[\\^$.*+?()[\]{}|]/g,EI=RegExp(Zg.source);function Jg(e){return e=yI(e),e&&EI.test(e)?e.replace(Zg,"\\$&"):e}var _I=/\s/;function bI(e){for(var t=e.length;t--&&_I.test(e.charAt(t)););return t}var SI=/^\s+/;function CI(e){return e&&e.slice(0,bI(e)+1).replace(SI,"")}function Sd(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Cd=0/0,wI=/^[-+]0x[0-9a-f]+$/i,AI=/^0b[01]+$/i,DI=/^0o[0-7]+$/i,xI=parseInt;function TI(e){if(typeof e=="number")return e;if(Xg(e))return Cd;if(Sd(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Sd(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=CI(e);var r=AI.test(e);return r||DI.test(e)?xI(e.slice(2),r?2:8):wI.test(e)?Cd:+e}var wd=1/0,FI=17976931348623157e292;function OI(e){if(!e)return e===0?e:0;if(e=TI(e),e===wd||e===-wd){var t=e<0?-1:1;return t*FI}return e===e?e:0}function kI(e){var t=OI(e),r=t%1;return t===t?r?t-r:t:0}var BI="Expected a function";function II(e,t){var r;if(typeof t!="function")throw new TypeError(BI);return e=kI(e),function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=void 0),r}}function MI(e){return II(2,e)}function Hr(){return Hr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Hr.apply(this,arguments)}function RI(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,qs(e,t)}function qs(e,t){return qs=Object.setPrototypeOf||function(a,n){return a.__proto__=n,a},qs(e,t)}function Qg(e,t){if(e==null)return{};var r={},a=Object.keys(e),n,i;for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&(r[n]=e[n]);return r}function PI(e,t){if(e){if(typeof e=="string")return Ad(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ad(e,t)}}function Ad(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function LI(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=PI(e))||t&&e&&typeof e.length=="number"){r&&(e=r);var a=0;return function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NI(e){var t=e.mention,r=e.children,a=e.className;return z.createElement("a",{href:t.link,className:a,spellCheck:!1,"data-testid":"mentionLink"},r)}function $I(e){var t=e.children,r=e.className;return z.createElement("span",{className:r,spellCheck:!1,"data-testid":"mentionText"},t)}function KI(e){var t=e.entityKey,r=e.theme,a=r===void 0?{}:r,n=e.mentionComponent,i=e.children,s=e.decoratedText,u=e.className,l=e.contentState,f=Dr(a.mention,u),p=l.getEntity(t).getData().mention,v=n||(p.link?NI:$I);return z.createElement(v,{entityKey:t,mention:p,theme:a,className:f,decoratedText:s},i)}function zI(e,t,r){for(var a=e.substr(0,t),n=r.map(function(b){return Jg(b)}).join("|"),i=new RegExp("(\\s|^)("+n+")","g"),s=a.matchAll(i),u=0,l=0,f=LI(s),p;!(p=f()).done;){var v=p.value,h=v[1].length,E=v[2].length;u=(v.index||0)+h,l=u+E}var y=a.slice(l),_=a.length;return{begin:u,end:_,matchingString:y}}var ev=function(e,t,r){var a=t.getAnchorKey(),n=t.getAnchorOffset(),i=e.getCurrentContent(),s=i.getBlockForKey(a),u=s.getText();return zI(u,n,r)};function tv(e){return e==="@"?"mention":e+"mention"}function UI(e,t,r,a,n){var i=e.getCurrentContent().createEntity(tv(a),n,{mention:t}),s=i.getLastCreatedEntityKey(),u=e.getSelection(),l=ev(e,u,[a]),f=l.begin,p=l.end,v=u.merge({anchorOffset:f,focusOffset:p}),h=Ce.Modifier.replaceText(e.getCurrentContent(),v,""+r+t.name,e.getCurrentInlineStyle(),s),E=v.getAnchorKey(),y=e.getCurrentContent().getBlockForKey(E).getLength();y===p&&(h=Ce.Modifier.insertText(h,h.getSelectionAfter()," "));var _=Ce.EditorState.push(e,h,"insert-fragment");return Ce.EditorState.forceSelection(_,h.getSelectionAfter())}var HI=function(t){var r=t.split("-"),a=r[0],n=r[1],i=r[2];return{blockKey:a,decoratorKey:parseInt(n,10),leafKey:parseInt(i,10)}},jI=HI;function ds(e){return e!==void 0}function WI(e,t,r){var a=e.getSelection(),n=a.getAnchorKey(),i=a.getAnchorOffset();if(!a.isCollapsed()||!a.getHasFocus())return null;var s=t.map(function(E){return jI(E)}),u=s.filter(function(E){return E.blockKey===n}).map(function(E){return e.getBlockTree(E.blockKey).getIn([E.decoratorKey])});if(u.every(function(E){return E===void 0}))return null;var l=e.getCurrentContent().getBlockForKey(n).getText(),f=u.filter(ds).map(function(E){var y=E.start,_=E.end;return r.map(function(b){return y===0&&i>=y+b.length&&l.substr(0,b.length)===b&&i<=_||r.length>1&&i>=y+b.length&&(l.substr(y+1,b.length)===b||l.substr(y,b.length)===b)&&i<=_||r.length===1&&i>=y+b.length&&i<=_?b:void 0}).filter(ds)[0]}).filter(ds);if(f.isEmpty())return null;var p=f.entrySeq().first(),v=p[0],h=p[1];return{activeOffsetKey:v,activeTrigger:h}}var qI=function e(t){if(!t)return null;var r=window.getComputedStyle(t).getPropertyValue("position");return r!=="static"?t:e(t.parentElement)};function VI(e){var t=e.decoratorRect,r=e.popover,a=e.props,n=qI(r.parentElement),i;if(n){var s=n.getBoundingClientRect();i={scrollLeft:n.scrollLeft,scrollTop:n.scrollTop,left:t.left-s.left,top:t.bottom-s.top}}else i={scrollTop:window.pageYOffset||document.documentElement.scrollTop,scrollLeft:window.pageXOffset||document.documentElement.scrollLeft,top:t.bottom,left:t.left};var u=i.left+i.scrollLeft,l=i.top+i.scrollTop,f,p;return a.open&&(a.suggestions.length>0?(f="scale(1)",p="all 0.25s cubic-bezier(.3,1.2,.2,1)"):(f="scale(0)",p="all 0.35s cubic-bezier(.3,1,.2,1)")),{left:u+"px",top:l+"px",transform:f,transformOrigin:"1em 0%",transition:p}}var GI=MI(function(e){console.warn(e)});function XI(e){var t=e.mention,r=e.theme,a=r===void 0?{}:r;return t.avatar?z.createElement("img",{src:t.avatar,className:a.mentionSuggestionsEntryAvatar,role:"presentation"}):null}var YI=["mention","theme","isFocused","searchValue","selectMention"];function Dd(e){var t=e.mention,r=e.theme;e.isFocused,e.searchValue,e.selectMention;var a=Qg(e,YI);return z.createElement("div",a,z.createElement(XI,{mention:t,theme:r}),z.createElement("span",{className:r==null?void 0:r.mentionSuggestionsEntryText},t.name))}var rv=function(t){var r=t.onMentionSelect,a=t.mention,n=t.theme,i=t.index,s=t.onMentionFocus,u=t.isFocused,l=t.id,f=t.searchValue,p=t.entryComponent,v=T.useRef(!1),h=T.useRef(null);T.useEffect(function(){u&&requestAnimationFrame(function(){var C;return(C=h.current)==null?void 0:C.scrollIntoView({behavior:"smooth",block:"nearest"})})},[u]),T.useEffect(function(){v.current=!1});var E=function(){v.current&&(r(a),v.current=!1)},y=function(A){A.preventDefault(),v.current=!0},_=function(){s(i)},b=u?n.mentionSuggestionsEntryFocused:n.mentionSuggestionsEntry;return z.createElement("div",{ref:h},z.createElement(p,{className:b,onMouseDown:y,onMouseUp:E,onMouseEnter:_,role:"option",id:l,"aria-selected":u?"true":void 0,theme:n,mention:a,isFocused:u,searchValue:f,selectMention:r}))};rv.propTypes={entryComponent:q.any.isRequired,searchValue:q.string,onMentionSelect:q.func};var xd=rv;function ZI(e){var t=e.store,r=e.children,a=e.theme,n=e.popperOptions,i=n===void 0?{placement:"bottom-start"}:n,s=T.useState(function(){return Dr(a.mentionSuggestions,a.mentionSuggestionsPopup)}),u=s[0],l=s[1],f=T.useState(null),p=f[0],v=f[1],h=uy(t.getReferenceElement(),p,i),E=h.styles,y=h.attributes;return T.useEffect(function(){requestAnimationFrame(function(){return l(Dr(a.mentionSuggestions,a.mentionSuggestionsPopup,a.mentionSuggestionsPopupVisible))})},[a]),z.createElement("div",Hr({ref:v,style:E.popper},y.popper,{className:u}),r)}var JI=["entryComponent","popoverComponent","popperOptions","popoverContainer","onOpenChange","onAddMention","onSearchChange","suggestions","ariaProps","callbacks","theme","store","entityMutability","positionSuggestions","mentionTriggers","mentionPrefix"],nv=function(e){RI(t,e);function t(a){var n;return n=e.call(this,a)||this,n.state={focusedOptionIndex:0},n.key=Ce.genKey(),n.popover=void 0,n.activeOffsetKey=void 0,n.lastSearchValue=void 0,n.lastActiveTrigger="",n.lastSelectionIsInsideWord=void 0,n.onEditorStateChange=function(i){var s=n.props.store.getAllSearches();if(s.size===0)return i;var u=function(){return n.props.store.resetEscapedSearch(),n.closeDropdown(),i},l=WI(i,s,n.props.mentionTriggers);if(!l)return u();var f=n.activeOffsetKey;return n.activeOffsetKey=l.activeOffsetKey,n.onSearchChange(i,i.getSelection(),n.activeOffsetKey,f,l.activeTrigger),n.props.store.isEscaped(n.activeOffsetKey||"")||n.props.store.resetEscapedSearch(),!n.props.open&&!n.props.store.isEscaped(n.activeOffsetKey||"")&&n.openDropdown(),f!==n.activeOffsetKey&&n.setState({focusedOptionIndex:0}),i},n.onSearchChange=function(i,s,u,l,f){var p=ev(i,s,[f]),v=p.matchingString;(n.lastActiveTrigger!==f||n.lastSearchValue!==v||u!==l)&&(n.lastActiveTrigger=f,n.lastSearchValue=v,n.props.onSearchChange({trigger:f,value:v}),n.setState({focusedOptionIndex:0}))},n.onDownArrow=function(i){i.preventDefault();var s=n.state.focusedOptionIndex+1;n.onMentionFocus(s>=n.props.suggestions.length?0:s)},n.onTab=function(i){i.preventDefault(),n.commitSelection()},n.onUpArrow=function(i){if(i.preventDefault(),n.props.suggestions.length>0){var s=n.state.focusedOptionIndex-1;n.onMentionFocus(s<0?n.props.suggestions.length-1:s)}},n.onEscape=function(i){i.preventDefault(),n.props.store.escapeSearch(n.activeOffsetKey||""),n.closeDropdown(),n.props.store.setEditorState(n.props.store.getEditorState())},n.onMentionSelect=function(i){if(i){n.props.onAddMention&&n.props.onAddMention(i),n.closeDropdown();var s=UI(n.props.store.getEditorState(),i,n.props.mentionPrefix,n.lastActiveTrigger||"",n.props.entityMutability);n.props.store.setEditorState(s)}},n.onMentionFocus=function(i){var s="mention-option-"+n.key+"-"+i;n.props.ariaProps.ariaActiveDescendantID=s,n.setState({focusedOptionIndex:i}),n.props.store.setEditorState(n.props.store.getEditorState())},n.commitSelection=function(){var i=n.props.suggestions[n.state.focusedOptionIndex];return!n.props.store.getIsOpened()||!i?"not-handled":(n.onMentionSelect(i),"handled")},n.openDropdown=function(){n.props.callbacks.handleReturn=n.commitSelection,n.props.callbacks.keyBindingFn=function(s){s.keyCode===40&&n.onDownArrow(s),s.keyCode===38&&n.onUpArrow(s),s.keyCode===27&&n.onEscape(s),s.keyCode===9&&n.onTab(s)};var i="mention-option-"+n.key+"-"+n.state.focusedOptionIndex;n.props.ariaProps.ariaActiveDescendantID=i,n.props.ariaProps.ariaOwneeID="mentions-list-"+n.key,n.props.ariaProps.ariaHasPopup="true",n.props.ariaProps.ariaExpanded=!0,n.props.onOpenChange(!0)},n.closeDropdown=function(){n.props.callbacks.handleReturn=void 0,n.props.callbacks.keyBindingFn=void 0,n.props.ariaProps.ariaHasPopup="false",n.props.ariaProps.ariaExpanded=!1,n.props.ariaProps.ariaActiveDescendantID=void 0,n.props.ariaProps.ariaOwneeID=void 0,n.props.onOpenChange(!1)},n.props.callbacks.onChange=n.onEditorStateChange,n}var r=t.prototype;return r.componentDidUpdate=function(){if(this.popover){var n=this.props.suggestions.length;if(n>0&&this.state.focusedOptionIndex>=n&&this.setState({focusedOptionIndex:n-1}),!this.props.store.getAllSearches().has(this.activeOffsetKey))return;for(var i=this.props.store.getPortalClientRect(this.activeOffsetKey),s=this.props.positionSuggestions||VI,u=s({decoratorRect:i,props:this.props,popover:this.popover}),l=0,f=Object.entries(u);l<f.length;l++){var p=f[l],v=p[0],h=p[1];this.popover.style[v]=h}}},r.componentWillUnmount=function(){this.props.callbacks.onChange=void 0},r.render=function(){var n=this;if(!this.props.open)return null;var i=this.props,s=i.entryComponent,u=i.popoverComponent,l=i.popperOptions,f=i.popoverContainer,p=f===void 0?ZI:f;i.onOpenChange,i.onAddMention,i.onSearchChange,i.suggestions,i.ariaProps,i.callbacks;var v=i.theme,h=v===void 0?{}:v;i.store,i.entityMutability;var E=i.positionSuggestions;i.mentionTriggers,i.mentionPrefix;var y=Qg(i,JI);return u||E?(GI("The properties `popoverComponent` and `positionSuggestions` are deprecated and will be removed in @draft-js-plugins/mentions 6.0 . Use `popperOptions` instead"),z.cloneElement(u||z.createElement("div",null),Hr({},y,{className:h.mentionSuggestions,role:"listbox",id:"mentions-list-"+this.key,ref:function(b){n.popover=b}}),this.props.suggestions.map(function(_,b){return z.createElement(xd,{key:_.id!=null?_.id:_.name,onMentionSelect:n.onMentionSelect,onMentionFocus:n.onMentionFocus,isFocused:n.state.focusedOptionIndex===b,mention:_,index:b,id:"mention-option-"+n.key+"-"+b,theme:h,searchValue:n.lastSearchValue,entryComponent:s||Dd})}))):!this.props.renderEmptyPopup&&this.props.suggestions.length===0?null:z.createElement(p,{store:this.props.store,popperOptions:l,theme:h},this.props.suggestions.map(function(_,b){return z.createElement(xd,{key:_.id!=null?_.id:_.name,onMentionSelect:n.onMentionSelect,onMentionFocus:n.onMentionFocus,isFocused:n.state.focusedOptionIndex===b,mention:_,index:b,id:"mention-option-"+n.key+"-"+b,theme:h,searchValue:n.lastSearchValue,entryComponent:s||Dd})}))},t}(T.Component);nv.propTypes={open:q.bool.isRequired,onOpenChange:q.func.isRequired,entityMutability:q.oneOf(["SEGMENTED","IMMUTABLE","MUTABLE"]),entryComponent:q.func,onAddMention:q.func,suggestions:q.array.isRequired};var QI=nv,eM=typeof window<"u"?T.useLayoutEffect:T.useEffect;function tM(e){var t=T.useRef(),r=function(i){t.current=i,e.store.setReferenceElement(i)},a=function(i){i.store.updatePortalClientRect(i.offsetKey,function(){return t.current.getBoundingClientRect()})};return eM(function(){return e.store.register(e.offsetKey),e.store.setIsOpened(!0),a(e),e.store.setEditorState(e.store.getEditorState()),function(){e.store.unregister(e.offsetKey),e.store.setIsOpened(!1),e.store.setReferenceElement(null)}},[]),T.useEffect(function(){a(e)}),z.createElement("span",{ref:r},e.children)}var rM="[\\w---------------]",nM={mention:"m6zwb4v",mentionSuggestions:"mnw6qvm",mentionSuggestionsPopup:"m1ymsnxd",mentionSuggestionsPopupVisible:"m126ak5t",mentionSuggestionsEntry:"mtiwdxc",mentionSuggestionsEntryFocused:"myz2dw1",mentionSuggestionsEntryText:"mpqdcgq",mentionSuggestionsEntryAvatar:"m1mfvffo"},aM=function(t){return function(r,a,n){r.findEntityRanges(function(i){var s=i.getEntity();return s!==null&&t.some(function(u){return n.getEntity(s).getType()===tv(u)})},a)}},iM=aM,av=/\s/;function oM(e,t){return t===0?!0:av.test(e[t-1])}function sM(e,t,r,a){for(var n,i,s=e.lastIndex;(n=e.exec(t))!==null&&e.lastIndex!==s;){s=e.lastIndex,i=r+n.index;var u=i+n[0].length;av.test(t[i])&&(i+=1),a(i,u)}}function uM(e,t,r,a){for(var n,i,s=e.lastIndex;(n=e.exec(t))!==null&&e.lastIndex!==s;){s=e.lastIndex,i=r+n.index;var u=i+n[0].length;oM(t,n.index)&&a(i,u)}}var lM=function(t,r,a,n){var i=r.getText();r.findEntityRanges(function(s){return!s.getEntity()},function(s,u){var l=i.slice(s,u);a?uM(t,l,s,n):sM(t,l,s,n)})},cM=function(e,t,r){var a="("+e.map(function(i){return Jg(i)}).join("|")+")",n=t?new RegExp(a+"("+r+"|\\s)*","g"):new RegExp("(\\s|^)"+a+r+"*","g");return function(i,s){lM(n,i,t,s)}},fM=function(e){e===void 0&&(e={});var t={keyBindingFn:void 0,handleKeyCommand:void 0,handleReturn:void 0,onChange:void 0},r={ariaHasPopup:"false",ariaExpanded:!1,ariaOwneeID:void 0,ariaActiveDescendantID:void 0},a=he.Map(),n,i=he.Map(),s=!1,u,l={getEditorState:void 0,setEditorState:void 0,getPortalClientRect:function(W){return i.get(W)()},getAllSearches:function(){return a},isEscaped:function(W){return n===W},escapeSearch:function(W){n=W},resetEscapedSearch:function(){n=void 0},register:function(W){a=a.set(W,W)},updatePortalClientRect:function(W,J){i=i.set(W,J)},unregister:function(W){a=a.delete(W),i=i.delete(W)},getIsOpened:function(){return s},setIsOpened:function(W){s=W},getReferenceElement:function(){return u},setReferenceElement:function(W){u=W}},f=e,p=f.mentionPrefix,v=p===void 0?"":p,h=f.theme,E=h===void 0?nM:h,y=f.positionSuggestions,_=f.mentionComponent,b=f.mentionSuggestionsComponent,C=b===void 0?QI:b,A=f.entityMutability,w=A===void 0?"SEGMENTED":A,F=f.mentionTrigger,x=F===void 0?"@":F,I=f.mentionRegExp,R=I===void 0?rM:I,P=f.supportWhitespace,M=P===void 0?!1:P,O=f.popperOptions,N=typeof x=="string"?[x]:x,U={ariaProps:r,callbacks:t,theme:E,store:l,entityMutability:w,positionSuggestions:y,mentionTriggers:N,mentionPrefix:v,popperOptions:O},H=function(W){return z.createElement(C,Hr({},W,U))},K=function(W){return z.createElement(KI,Hr({},W,{theme:E,mentionComponent:_}))},V=function(W){return z.createElement(tM,Hr({},W,{store:l}))};return{MentionSuggestions:H,decorators:[{strategy:iM(N),component:K},{strategy:cM(N,M,R),component:V}],getAccessibilityProps:function(){return{role:"combobox",ariaAutoComplete:"list",ariaHasPopup:r.ariaHasPopup,ariaExpanded:r.ariaExpanded,ariaActiveDescendantID:r.ariaActiveDescendantID,ariaOwneeID:r.ariaOwneeID}},initialize:function(W){var J=W.getEditorState,Y=W.setEditorState;l.getEditorState=J,l.setEditorState=Y},keyBindingFn:function(W){return t.keyBindingFn&&t.keyBindingFn(W)},handleReturn:function(W){return t.handleReturn&&t.handleReturn(W)},onChange:function(W){return t.onChange?t.onChange(W):W}}};function Vs(){return Vs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Vs.apply(this,arguments)}function dM(e){e===void 0&&(e={});var t=e,r={};return{subscribeToItem:function(n,i){r[n]=r[n]||[],r[n].push(i)},unsubscribeFromItem:function(n,i){var s=r[n];s&&(r[n]=s.filter(function(u){return u!==i}))},updateItem:function(n,i){var s;t=Vs({},t,(s={},s[n]=i,s));var u=r[n];u&&u.forEach(function(l){return l(t[n])})},getItem:function(n){return t[n]}}}function xn(){return xn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},xn.apply(this,arguments)}function Yi(e){var t=e.alignment,r=e.children;return function(n){var i=function(E){E.preventDefault(),n.setAlignment({alignment:t})},s=function(E){E.preventDefault()},u=function(){return n.alignment===t},l=n.theme,f=n.buttonProps,p=f===void 0?{}:f,v=u()?Dr(l.button,l.active):l.button;return z.createElement("div",{className:l.buttonWrapper,onMouseDown:s},z.createElement("button",xn({children:r},p,{className:v,onClick:i,type:"button",role:"button","aria-label":"block align text "+t})))}}Yi({alignment:"center",children:z.createElement("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},z.createElement("path",{d:"M3,21 L21,21 L21,19 L3,19 L3,21 Z M3,3 L3,5 L21,5 L21,3 L3,3 Z M5,7 L5,17 L19,17 L19,7 L5,7 Z"}),z.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))});Yi({alignment:"default",children:z.createElement("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},z.createElement("path",{d:"M3,21 L21,21 L21,19 L3,19 L3,21 Z M3,3 L3,5 L21,5 L21,3 L3,3 Z M3,7 L3,17 L17,17 L17,7 L3,7 Z"}),z.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))});Yi({alignment:"left",children:z.createElement("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},z.createElement("path",{d:"M21,15 L15,15 L15,17 L21,17 L21,15 Z M21,7 L15,7 L15,9 L21,9 L21,7 Z M15,13 L21,13 L21,11 L15,11 L15,13 Z M3,21 L21,21 L21,19 L3,19 L3,21 Z M3,3 L3,5 L21,5 L21,3 L3,3 Z M3,7 L3,17 L13,17 L13,7 L3,7 Z"}),z.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))});Yi({alignment:"right",children:z.createElement("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},z.createElement("path",{d:"M9,15 L3,15 L3,17 L9,17 L9,15 Z M9,7 L3,7 L3,9 L9,9 L9,7 Z M3,13 L9,13 L9,11 L3,11 L3,13 Z M3,21 L21,21 L21,19 L3,19 L3,21 Z M3,3 L3,5 L21,5 L21,3 L3,3 Z M11,7 L11,17 L21,17 L21,7 L11,7 Z"}),z.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))});function Uu(e){var t=e.alignment,r=e.children;return function(n){var i=function(E){if(n.getEditorState){E.preventDefault();var y=["left","center","right"],_=y.filter(function(N){return N!==t}),b=n.getEditorState(),C=n.getEditorState().getCurrentContent(),A=n.getEditorState().getSelection(),w=C.getBlockForKey(A.getFocusKey()),F=C.getBlockForKey(A.getAnchorKey()),x=A.getIsBackward(),I={anchorOffset:0,focusOffset:w.getLength()};x&&(I={focusOffset:0,anchorOffset:F.getLength()});var R=A.merge(I),P=Ce.Modifier.applyInlineStyle(C,R,t),M=_.reduce(function(N,U){return Ce.Modifier.removeInlineStyle(N,R,U)},P),O=Ce.EditorState.push(b,M,"change-inline-style");n.setEditorState(O)}},s=function(E){E.preventDefault()},u=function(){return n.getEditorState&&n.getEditorState().getCurrentInlineStyle().has(t)},l=n.theme,f=n.buttonProps,p=f===void 0?{}:f,v=u()?Dr(l.button,l.active):l.button;return z.createElement("div",{className:l.buttonWrapper,onMouseDown:s},z.createElement("button",xn({children:r},p,{className:v,onClick:i,type:"button",role:"button","aria-label":"text align "+t})))}}Uu({alignment:"center",children:z.createElement("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},z.createElement("path",{d:"M7 15v2h10v-2H7zm-4 6h18v-2H3v2zm0-8h18v-2H3v2zm4-6v2h10V7H7zM3 3v2h18V3H3z"}),z.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))});Uu({alignment:"left",children:z.createElement("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},z.createElement("path",{d:"M15 15H3v2h12v-2zm0-8H3v2h12V7zM3 13h18v-2H3v2zm0 8h18v-2H3v2zM3 3v2h18V3H3z"}),z.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))});Uu({alignment:"right",children:z.createElement("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},z.createElement("path",{d:"M3 21h18v-2H3v2zm6-4h12v-2H9v2zm-6-4h18v-2H3v2zm6-4h12V7H9v2zM3 3v2h18V3H3z"}),z.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))});function Zr(e){var t=e.blockType,r=e.children;return function(n){var i=function(E){E.preventDefault(),n.setEditorState(Ce.RichUtils.toggleBlockType(n.getEditorState(),t))},s=function(E){E.preventDefault()},u=function(){if(!n.getEditorState)return!1;var E=n.getEditorState(),y=E.getCurrentContent().getBlockForKey(E.getSelection().getStartKey()).getType();return y===t},l=n.theme,f=n.buttonProps,p=f===void 0?{}:f,v=u()?Dr(l.button,l.active):l.button;return z.createElement("div",{className:l.buttonWrapper,onMouseDown:s},z.createElement("button",xn({children:r},p,{className:v,onClick:i,type:"button",role:"button","aria-label":"create "+t})))}}Zr({blockType:"blockquote",children:z.createElement("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},z.createElement("path",{d:"M6 17h3l2-4V7H5v6h3zm8 0h3l2-4V7h-6v6h3z"}),z.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))});function kn(e){var t=e.style,r=e.children;return function(n){var i=function(E){E.preventDefault(),n.setEditorState(Ce.RichUtils.toggleInlineStyle(n.getEditorState(),t))},s=function(E){E.preventDefault()},u=function(){return n.getEditorState&&n.getEditorState().getCurrentInlineStyle().has(t)},l=n.theme,f=n.buttonProps,p=f===void 0?{}:f,v=u()?Dr(l.button,l.active):l.button;return z.createElement("div",{className:l.buttonWrapper,onMouseDown:s},z.createElement("button",xn({children:r},p,{className:v,onClick:i,type:"button",role:"button","aria-label":t+" text"})))}}var iv=kn({style:"BOLD",children:z.createElement("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},z.createElement("path",{d:"M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42zM10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3v-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5z"}),z.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))});Zr({blockType:"code-block",children:z.createElement("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},z.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),z.createElement("path",{d:"M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"}))});var pM=kn({style:"CODE",children:z.createElement("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},z.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),z.createElement("path",{d:"M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"}))}),hM=Zr({blockType:"header-one",children:"H1"});Zr({blockType:"header-three",children:"H3"});var gM=Zr({blockType:"header-two",children:"H2"}),ov=kn({style:"ITALIC",children:z.createElement("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},z.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),z.createElement("path",{d:"M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z"}))}),vM=Zr({blockType:"ordered-list-item",children:z.createElement("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},z.createElement("path",{d:"M2 17h2v.5H3v1h1v.5H2v1h3v-4H2v1zm1-9h1V4H2v1h1v3zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2v1zm5-6v2h14V5H7zm0 14h14v-2H7v2zm0-6h14v-2H7v2z"}),z.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))});kn({style:"SUBSCRIPT",children:z.createElement("div",null,"x",z.createElement("sub",null,"2"))});kn({style:"SUPERSCRIPT",children:z.createElement("div",null,"x",z.createElement("sup",null,"2"))});var sv=kn({style:"UNDERLINE",children:z.createElement("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},z.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),z.createElement("path",{d:"M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6zm-7 2v2h14v-2H5z"}))}),mM=Zr({blockType:"unordered-list-item",children:z.createElement("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},z.createElement("path",{d:"M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z"}),z.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}))});function Gs(){return Gs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Gs.apply(this,arguments)}function yM(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Xs(e,t)}function Xs(e,t){return Xs=Object.setPrototypeOf||function(a,n){return a.__proto__=n,a},Xs(e,t)}var uv=function(e){yM(t,e);function t(){for(var a,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return a=e.call.apply(e,[this].concat(i))||this,a.state={overrideContent:void 0},a.onOverrideContent=function(u){return a.setState({overrideContent:u})},a.renderDefaultButtons=function(u){return z.createElement("div",null,z.createElement(ov,u),z.createElement(iv,u),z.createElement(sv,u),z.createElement(pM,u))},a}var r=t.prototype;return r.render=function(){var n=this.props,i=n.theme,s=n.store,u=this.state.overrideContent,l={theme:i.buttonStyles,getEditorState:s.getItem("getEditorState"),setEditorState:s.getItem("setEditorState"),onOverrideContent:this.onOverrideContent};return z.createElement("div",{className:i.toolbarStyles.toolbar},u?z.createElement(u,l):(this.props.children||this.renderDefaultButtons)(l))},t}(z.Component);uv.propTypes={children:q.func};var EM="s6m29i4";function Td(e){var t=e.className,r=t===void 0?EM:t;return z.createElement("div",{className:r})}var _M={buttonWrapper:"bi09khh",button:"bc4rxid",active:"akzb7t5"},bM={toolbar:"t16lpgj"},SM={buttonStyles:_M,toolbarStyles:bM},CM=function(e){e===void 0&&(e={});var t=dM(),r=e,a=r.theme,n=a===void 0?SM:a,i=function(u){return z.createElement(uv,Gs({},u,{store:t,theme:n}))};return{initialize:function(u){var l=u.getEditorState,f=u.setEditorState;t.updateItem("getEditorState",l),t.updateItem("setEditorState",f)},onChange:function(u){return t.updateItem("selection",u.getSelection()),u},Toolbar:i}},ps,Fd;function wM(){return Fd||(Fd=1,ps=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/),ps}var hs,Od;function AM(){return Od||(Od=1,hs=/[\0-\x1F\x7F-\x9F]/),hs}var gs,kd;function DM(){return kd||(kd=1,gs=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/),gs}var vs,Bd;function xM(){return Bd||(Bd=1,vs=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4E\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/),vs}var ms,Id;function TM(){return Id||(Id=1,ms=function(e){var t={};t.src_Any=wM().source,t.src_Cc=AM().source,t.src_Z=DM().source,t.src_P=xM().source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");var r="[><]";return t.src_pseudo_letter="(?:(?!"+r+"|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|"+r+"|"+t.src_ZPCc+")(?!-|_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|"+r+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-]).|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+t.src_ZCc+"|[.]).|"+(e&&e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+t.src_ZCc+").|;(?!"+t.src_ZCc+").|\\!+(?!"+t.src_ZCc+"|[!]).|\\?(?!"+t.src_ZCc+"|[?]).)+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy="(^|"+r+'|"|\\(|'+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+t.src_ZPCc+"))((?![$+<=>^`|])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+t.src_ZPCc+"))((?![$+<=>^`|])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}),ms}function Ys(e){var t=Array.prototype.slice.call(arguments,1);return t.forEach(function(r){r&&Object.keys(r).forEach(function(a){e[a]=r[a]})}),e}function Zi(e){return Object.prototype.toString.call(e)}function FM(e){return Zi(e)==="[object String]"}function OM(e){return Zi(e)==="[object Object]"}function kM(e){return Zi(e)==="[object RegExp]"}function Md(e){return Zi(e)==="[object Function]"}function BM(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var lv={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function IM(e){return Object.keys(e||{}).reduce(function(t,r){return t||lv.hasOwnProperty(r)},!1)}var MM={"http:":{validate:function(e,t,r){var a=e.slice(t);return r.re.http||(r.re.http=new RegExp("^\\/\\/"+r.re.src_auth+r.re.src_host_port_strict+r.re.src_path,"i")),r.re.http.test(a)?a.match(r.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,r){var a=e.slice(t);return r.re.no_http||(r.re.no_http=new RegExp("^"+r.re.src_auth+"(?:localhost|(?:(?:"+r.re.src_domain+")\\.)+"+r.re.src_domain_root+")"+r.re.src_port+r.re.src_host_terminator+r.re.src_path,"i")),r.re.no_http.test(a)?t>=3&&e[t-3]===":"||t>=3&&e[t-3]==="/"?0:a.match(r.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,r){var a=e.slice(t);return r.re.mailto||(r.re.mailto=new RegExp("^"+r.re.src_email_name+"@"+r.re.src_host_strict,"i")),r.re.mailto.test(a)?a.match(r.re.mailto)[0].length:0}}},RM="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",PM="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");function LM(e){e.__index__=-1,e.__text_cache__=""}function NM(e){return function(t,r){var a=t.slice(r);return e.test(a)?a.match(e)[0].length:0}}function Rd(){return function(e,t){t.normalize(e)}}function Ci(e){var t=e.re=TM()(e.__opts__),r=e.__tlds__.slice();e.onCompile(),e.__tlds_replaced__||r.push(RM),r.push(t.src_xn),t.src_tlds=r.join("|");function a(u){return u.replace("%TLDS%",t.src_tlds)}t.email_fuzzy=RegExp(a(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(a(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(a(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(a(t.tpl_host_fuzzy_test),"i");var n=[];e.__compiled__={};function i(u,l){throw new Error('(LinkifyIt) Invalid schema "'+u+'": '+l)}Object.keys(e.__schemas__).forEach(function(u){var l=e.__schemas__[u];if(l!==null){var f={validate:null,link:null};if(e.__compiled__[u]=f,OM(l)){kM(l.validate)?f.validate=NM(l.validate):Md(l.validate)?f.validate=l.validate:i(u,l),Md(l.normalize)?f.normalize=l.normalize:l.normalize?i(u,l):f.normalize=Rd();return}if(FM(l)){n.push(u);return}i(u,l)}}),n.forEach(function(u){e.__compiled__[e.__schemas__[u]]&&(e.__compiled__[u].validate=e.__compiled__[e.__schemas__[u]].validate,e.__compiled__[u].normalize=e.__compiled__[e.__schemas__[u]].normalize)}),e.__compiled__[""]={validate:null,normalize:Rd()};var s=Object.keys(e.__compiled__).filter(function(u){return u.length>0&&e.__compiled__[u]}).map(BM).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><]|"+t.src_ZPCc+"))("+s+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><]|"+t.src_ZPCc+"))("+s+")","ig"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),LM(e)}function $M(e,t){var r=e.__index__,a=e.__last_index__,n=e.__text_cache__.slice(r,a);this.schema=e.__schema__.toLowerCase(),this.index=r+t,this.lastIndex=a+t,this.raw=n,this.text=n,this.url=n}function Pd(e,t){var r=new $M(e,t);return e.__compiled__[r.schema].normalize(r,e),r}function Mt(e,t){if(!(this instanceof Mt))return new Mt(e,t);t||IM(e)&&(t=e,e={}),this.__opts__=Ys({},lv,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=Ys({},MM,e),this.__compiled__={},this.__tlds__=PM,this.__tlds_replaced__=!1,this.re={},Ci(this)}Mt.prototype.add=function(t,r){return this.__schemas__[t]=r,Ci(this),this};Mt.prototype.set=function(t){return this.__opts__=Ys(this.__opts__,t),this};Mt.prototype.test=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return!1;var r,a,n,i,s,u,l,f,p;if(this.re.schema_test.test(t)){for(l=this.re.schema_search,l.lastIndex=0;(r=l.exec(t))!==null;)if(i=this.testSchemaAt(t,r[2],l.lastIndex),i){this.__schema__=r[2],this.__index__=r.index+r[1].length,this.__last_index__=r.index+r[0].length+i;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(f=t.search(this.re.host_fuzzy_test),f>=0&&(this.__index__<0||f<this.__index__)&&(a=t.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(s=a.index+a[1].length,(this.__index__<0||s<this.__index__)&&(this.__schema__="",this.__index__=s,this.__last_index__=a.index+a[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(p=t.indexOf("@"),p>=0&&(n=t.match(this.re.email_fuzzy))!==null&&(s=n.index+n[1].length,u=n.index+n[0].length,(this.__index__<0||s<this.__index__||s===this.__index__&&u>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=s,this.__last_index__=u))),this.__index__>=0};Mt.prototype.pretest=function(t){return this.re.pretest.test(t)};Mt.prototype.testSchemaAt=function(t,r,a){return this.__compiled__[r.toLowerCase()]?this.__compiled__[r.toLowerCase()].validate(t,a,this):0};Mt.prototype.match=function(t){var r=0,a=[];this.__index__>=0&&this.__text_cache__===t&&(a.push(Pd(this,r)),r=this.__last_index__);for(var n=r?t.slice(r):t;this.test(n);)a.push(Pd(this,r)),n=n.slice(this.__last_index__),r+=this.__last_index__;return a.length?a:null};Mt.prototype.tlds=function(t,r){return t=Array.isArray(t)?t:[t],r?(this.__tlds__=this.__tlds__.concat(t).sort().filter(function(a,n,i){return a!==i[n-1]}).reverse(),Ci(this),this):(this.__tlds__=t.slice(),this.__tlds_replaced__=!0,Ci(this),this)};Mt.prototype.normalize=function(t){t.schema||(t.url="http://"+t.url),t.schema==="mailto:"&&!/^mailto:/i.test(t.url)&&(t.url="mailto:"+t.url)};Mt.prototype.onCompile=function(){};var KM=Mt;const zM=["aaa","aarp","abarth","abb","abbott","abbvie","abc","able","abogado","abudhabi","ac","academy","accenture","accountant","accountants","aco","actor","ad","ads","adult","ae","aeg","aero","aetna","af","afl","africa","ag","agakhan","agency","ai","aig","airbus","airforce","airtel","akdn","al","alfaromeo","alibaba","alipay","allfinanz","allstate","ally","alsace","alstom","am","amazon","americanexpress","americanfamily","amex","amfam","amica","amsterdam","analytics","android","anquan","anz","ao","aol","apartments","app","apple","aq","aquarelle","ar","arab","aramco","archi","army","arpa","art","arte","as","asda","asia","associates","at","athleta","attorney","au","auction","audi","audible","audio","auspost","author","auto","autos","avianca","aw","aws","ax","axa","az","azure","ba","baby","baidu","banamex","bananarepublic","band","bank","bar","barcelona","barclaycard","barclays","barefoot","bargains","baseball","basketball","bauhaus","bayern","bb","bbc","bbt","bbva","bcg","bcn","bd","be","beats","beauty","beer","bentley","berlin","best","bestbuy","bet","bf","bg","bh","bharti","bi","bible","bid","bike","bing","bingo","bio","biz","bj","black","blackfriday","blockbuster","blog","bloomberg","blue","bm","bms","bmw","bn","bnpparibas","bo","boats","boehringer","bofa","bom","bond","boo","book","booking","bosch","bostik","boston","bot","boutique","box","br","bradesco","bridgestone","broadway","broker","brother","brussels","bs","bt","build","builders","business","buy","buzz","bv","bw","by","bz","bzh","ca","cab","cafe","cal","call","calvinklein","cam","camera","camp","canon","capetown","capital","capitalone","car","caravan","cards","care","career","careers","cars","casa","case","cash","casino","cat","catering","catholic","cba","cbn","cbre","cbs","cc","cd","center","ceo","cern","cf","cfa","cfd","cg","ch","chanel","channel","charity","chase","chat","cheap","chintai","christmas","chrome","church","ci","cipriani","circle","cisco","citadel","citi","citic","city","cityeats","ck","cl","claims","cleaning","click","clinic","clinique","clothing","cloud","club","clubmed","cm","cn","co","coach","codes","coffee","college","cologne","com","comcast","commbank","community","company","compare","computer","comsec","condos","construction","consulting","contact","contractors","cooking","cookingchannel","cool","coop","corsica","country","coupon","coupons","courses","cpa","cr","credit","creditcard","creditunion","cricket","crown","crs","cruise","cruises","cu","cuisinella","cv","cw","cx","cy","cymru","cyou","cz","dabur","dad","dance","data","date","dating","datsun","day","dclk","dds","de","deal","dealer","deals","degree","delivery","dell","deloitte","delta","democrat","dental","dentist","desi","design","dev","dhl","diamonds","diet","digital","direct","directory","discount","discover","dish","diy","dj","dk","dm","dnp","do","docs","doctor","dog","domains","dot","download","drive","dtv","dubai","dunlop","dupont","durban","dvag","dvr","dz","earth","eat","ec","eco","edeka","edu","education","ee","eg","email","emerck","energy","engineer","engineering","enterprises","epson","equipment","er","ericsson","erni","es","esq","estate","et","etisalat","eu","eurovision","eus","events","exchange","expert","exposed","express","extraspace","fage","fail","fairwinds","faith","family","fan","fans","farm","farmers","fashion","fast","fedex","feedback","ferrari","ferrero","fi","fiat","fidelity","fido","film","final","finance","financial","fire","firestone","firmdale","fish","fishing","fit","fitness","fj","fk","flickr","flights","flir","florist","flowers","fly","fm","fo","foo","food","foodnetwork","football","ford","forex","forsale","forum","foundation","fox","fr","free","fresenius","frl","frogans","frontdoor","frontier","ftr","fujitsu","fun","fund","furniture","futbol","fyi","ga","gal","gallery","gallo","gallup","game","games","gap","garden","gay","gb","gbiz","gd","gdn","ge","gea","gent","genting","george","gf","gg","ggee","gh","gi","gift","gifts","gives","giving","gl","glass","gle","global","globo","gm","gmail","gmbh","gmo","gmx","gn","godaddy","gold","goldpoint","golf","goo","goodyear","goog","google","gop","got","gov","gp","gq","gr","grainger","graphics","gratis","green","gripe","grocery","group","gs","gt","gu","guardian","gucci","guge","guide","guitars","guru","gw","gy","hair","hamburg","hangout","haus","hbo","hdfc","hdfcbank","health","healthcare","help","helsinki","here","hermes","hgtv","hiphop","hisamitsu","hitachi","hiv","hk","hkt","hm","hn","hockey","holdings","holiday","homedepot","homegoods","homes","homesense","honda","horse","hospital","host","hosting","hot","hoteles","hotels","hotmail","house","how","hr","hsbc","ht","hu","hughes","hyatt","hyundai","ibm","icbc","ice","icu","id","ie","ieee","ifm","ikano","il","im","imamat","imdb","immo","immobilien","in","inc","industries","infiniti","info","ing","ink","institute","insurance","insure","int","international","intuit","investments","io","ipiranga","iq","ir","irish","is","ismaili","ist","istanbul","it","itau","itv","jaguar","java","jcb","je","jeep","jetzt","jewelry","jio","jll","jm","jmp","jnj","jo","jobs","joburg","jot","joy","jp","jpmorgan","jprs","juegos","juniper","kaufen","kddi","ke","kerryhotels","kerrylogistics","kerryproperties","kfh","kg","kh","ki","kia","kids","kim","kinder","kindle","kitchen","kiwi","km","kn","koeln","komatsu","kosher","kp","kpmg","kpn","kr","krd","kred","kuokgroup","kw","ky","kyoto","kz","la","lacaixa","lamborghini","lamer","lancaster","lancia","land","landrover","lanxess","lasalle","lat","latino","latrobe","law","lawyer","lb","lc","lds","lease","leclerc","lefrak","legal","lego","lexus","lgbt","li","lidl","life","lifeinsurance","lifestyle","lighting","like","lilly","limited","limo","lincoln","linde","link","lipsy","live","living","lk","llc","llp","loan","loans","locker","locus","lol","london","lotte","lotto","love","lpl","lplfinancial","lr","ls","lt","ltd","ltda","lu","lundbeck","luxe","luxury","lv","ly","ma","macys","madrid","maif","maison","makeup","man","management","mango","map","market","marketing","markets","marriott","marshalls","maserati","mattel","mba","mc","mckinsey","md","me","med","media","meet","melbourne","meme","memorial","men","menu","merckmsd","mg","mh","miami","microsoft","mil","mini","mint","mit","mitsubishi","mk","ml","mlb","mls","mm","mma","mn","mo","mobi","mobile","moda","moe","moi","mom","monash","money","monster","mormon","mortgage","moscow","moto","motorcycles","mov","movie","mp","mq","mr","ms","msd","mt","mtn","mtr","mu","museum","music","mutual","mv","mw","mx","my","mz","na","nab","nagoya","name","natura","navy","nba","nc","ne","nec","net","netbank","netflix","network","neustar","new","news","next","nextdirect","nexus","nf","nfl","ng","ngo","nhk","ni","nico","nike","nikon","ninja","nissan","nissay","nl","no","nokia","northwesternmutual","norton","now","nowruz","nowtv","np","nr","nra","nrw","ntt","nu","nyc","nz","obi","observer","office","okinawa","olayan","olayangroup","oldnavy","ollo","om","omega","one","ong","onl","online","ooo","open","oracle","orange","org","organic","origins","osaka","otsuka","ott","ovh","pa","page","panasonic","paris","pars","partners","parts","party","passagens","pay","pccw","pe","pet","pf","pfizer","pg","ph","pharmacy","phd","philips","phone","photo","photography","photos","physio","pics","pictet","pictures","pid","pin","ping","pink","pioneer","pizza","pk","pl","place","play","playstation","plumbing","plus","pm","pn","pnc","pohl","poker","politie","porn","post","pr","pramerica","praxi","press","prime","pro","prod","productions","prof","progressive","promo","properties","property","protection","pru","prudential","ps","pt","pub","pw","pwc","py","qa","qpon","quebec","quest","racing","radio","re","read","realestate","realtor","realty","recipes","red","redstone","redumbrella","rehab","reise","reisen","reit","reliance","ren","rent","rentals","repair","report","republican","rest","restaurant","review","reviews","rexroth","rich","richardli","ricoh","ril","rio","rip","ro","rocher","rocks","rodeo","rogers","room","rs","rsvp","ru","rugby","ruhr","run","rw","rwe","ryukyu","sa","saarland","safe","safety","sakura","sale","salon","samsclub","samsung","sandvik","sandvikcoromant","sanofi","sap","sarl","sas","save","saxo","sb","sbi","sbs","sc","sca","scb","schaeffler","schmidt","scholarships","school","schule","schwarz","science","scot","sd","se","search","seat","secure","security","seek","select","sener","services","seven","sew","sex","sexy","sfr","sg","sh","shangrila","sharp","shaw","shell","shia","shiksha","shoes","shop","shopping","shouji","show","showtime","si","silk","sina","singles","site","sj","sk","ski","skin","sky","skype","sl","sling","sm","smart","smile","sn","sncf","so","soccer","social","softbank","software","sohu","solar","solutions","song","sony","soy","spa","space","sport","spot","sr","srl","ss","st","stada","staples","star","statebank","statefarm","stc","stcgroup","stockholm","storage","store","stream","studio","study","style","su","sucks","supplies","supply","support","surf","surgery","suzuki","sv","swatch","swiss","sx","sy","sydney","systems","sz","tab","taipei","talk","taobao","target","tatamotors","tatar","tattoo","tax","taxi","tc","tci","td","tdk","team","tech","technology","tel","temasek","tennis","teva","tf","tg","th","thd","theater","theatre","tiaa","tickets","tienda","tiffany","tips","tires","tirol","tj","tjmaxx","tjx","tk","tkmaxx","tl","tm","tmall","tn","to","today","tokyo","tools","top","toray","toshiba","total","tours","town","toyota","toys","tr","trade","trading","training","travel","travelchannel","travelers","travelersinsurance","trust","trv","tt","tube","tui","tunes","tushu","tv","tvs","tw","tz","ua","ubank","ubs","ug","uk","unicom","university","uno","uol","ups","us","uy","uz","va","vacations","vana","vanguard","vc","ve","vegas","ventures","verisign","vermgensberater","vermgensberatung","versicherung","vet","vg","vi","viajes","video","vig","viking","villas","vin","vip","virgin","visa","vision","viva","vivo","vlaanderen","vn","vodka","volkswagen","volvo","vote","voting","voto","voyage","vu","vuelos","wales","walmart","walter","wang","wanggou","watch","watches","weather","weatherchannel","webcam","weber","website","wed","wedding","weibo","weir","wf","whoswho","wien","wiki","williamhill","win","windows","wine","winners","wme","wolterskluwer","woodside","work","works","world","wow","ws","wtc","wtf","xbox","xerox","xfinity","xihuan","xin","xxx","xyz","yachts","yahoo","yamaxun","yandex","ye","yodobashi","yoga","yokohama","you","youtube","yt","yun","za","zappos","zara","zero","zip","zm","zone","zuerich","zw","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""];function wi(){return wi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},wi.apply(this,arguments)}function UM(e,t){if(e==null)return{};var r={},a=Object.keys(e),n,i;for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&(r[n]=e[n]);return r}function HM(e,t){if(e){if(typeof e=="string")return Ld(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ld(e,t)}}function Ld(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function jM(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=HM(e))||t&&e&&typeof e.length=="number"){r&&(e=r);var a=0;return function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var WM=KM().tlds(zM);function cv(e){return WM.match(e)}var qM=["decoratedText","theme","customExtractLinks","target","rel","className","component","dir","entityKey","getEditorState","offsetKey","setEditorState","contentState","blockKey","start","end"];function VM(e){var t=e.decoratedText,r=t===void 0?"":t,a=e.theme,n=a===void 0?{}:a,i=e.customExtractLinks,s=i===void 0?function(A){return cv(A)}:i,u=e.target,l=u===void 0?"_self":u,f=e.rel,p=f===void 0?"noreferrer noopener":f,v=e.className,h=e.component;e.dir,e.entityKey,e.getEditorState,e.offsetKey,e.setEditorState,e.contentState,e.blockKey,e.start,e.end;var E=UM(e,qM),y=Dr(n==null?void 0:n.link,v),_=s(r),b=_&&_[0]?_[0].url:"",C=wi({},E,{href:b,target:l,rel:p,className:y});return h?z.createElement(h,C):z.createElement("a",C)}var GM=function(t,r,a){var n=a(t.getText());if(n)for(var i=jM(n),s;!(s=i()).done;){var u=s.value;r(u.index,u.lastIndex)}},XM=GM,YM={link:"lxvs42t"},ZM=function(e){e===void 0&&(e={});var t=e,r=t.component,a=t.theme,n=a===void 0?YM:a,i=t.target,s=i===void 0?"_self":i,u=t.rel,l=u===void 0?"noreferrer noopener":u,f=t.customExtractLinks,p=f===void 0?cv:f,v=function(E){return z.createElement(VM,wi({},E,{theme:n,target:s,rel:l,component:r,customExtractLinks:p}))};return{decorators:[{strategy:function(E,y){return XM(E,y,p)},component:v}]}};const JM=X.div`
  ${({isEdit:e})=>e&&`border: 1px solid var(--border-card-neutral-highlighted) ;
    border-radius: 8px;
    cursor: text;
    `}
  div.DraftEditor-root {
    ${({isEdit:e})=>e&&`
        @media (min-width: ${bt.MOBILE_MAX}) {
          max-height: calc(100vh - 500px);
        }
        height:350px; 
        padding: 16px; 
        overflow-y:auto; 
        overflow-x:hidden;
        @media (max-width: ${bt.MOBILE_MAX}) {
          height: calc(100vh - 400px);
        }
        @media (max-width: ${bt.MOBILE_L}) {
          height: calc(100vh - 450px);
        }
        & > .DraftEditor-editorContainer{
          height:100%;
        }
      `}
    & + div[data-popper-reference-hidden="false"] {
      max-height: 200px;
      overflow: scroll;
    }
  }
`,QM=X.div`
  padding: ${({isMobile:e})=>e?"8px;":"16px;"};
  border-bottom: 1px solid var(--border-card-neutral-highlighted);
  & > div {
    box-shadow: none;
    border: none;
    display: flex;
    align-items: center;
    flex-wrap: wrap;
    & > div {
      margin: 0 12px;
      ${({isMobile:e})=>e&&"margin: 0 4px;"}
      &:first-child {
        margin-left: 0;
      }
      &:last-child {
        margin-right: 0;
      }
      & > button {
        cursor: pointer;
        background: var(--bg-card-neutral-alt-default);
        font-size: 16px;
        font-weight: bold;
        ${({isMobile:e})=>e&&"width: 32px; padding: 0px;"}
      }
    }
  }
`,eR=X(ly)`
  color: var(--text-search-highlight-brand-primary-default);
  background-color: var(--bg-search-highlight-brand-secondary-default);
  text-decoration: none;
  display: inline-block;
`,Nd=e=>{const t=Object.assign(e);return Object.keys(e.entityMap).forEach(r=>{var n,i,s;const a=e.entityMap[r];if(a!=null&&a.data["data-mention-id"]||(a==null?void 0:a.data["data-test"])==="mentionPlugin-MentionLink"){const u=(i=(n=a.data)==null?void 0:n.url)==null?void 0:i.replace(/\/noum\//,"");t.entityMap[r]={type:"mention",mutability:"IMMUTABLE",data:{mention:{name:(a==null?void 0:a.data["data-mention-id"])||((s=a==null?void 0:a.data)==null?void 0:s.title),link:u,id:u}}}}}),t};const tR="_mention_icubm_1",rR="_mentionSuggestions_icubm_6",nR="_mentionSuggestionsEntry_icubm_19",aR="_mentionSuggestionsEntryFocused_icubm_32 _mentionSuggestionsEntry_icubm_19",iR="_mentionSuggestionsEntryText_icubm_37",oR="_mentionSuggestionsEntryTitle_icubm_38",sR="_mentionSuggestionsEntryAvatar_icubm_44",uR={mention:tR,mentionSuggestions:rR,mentionSuggestionsEntry:nR,mentionSuggestionsEntryFocused:aR,mentionSuggestionsEntryText:iR,mentionSuggestionsEntryTitle:oR,mentionSuggestionsEntryAvatar:sR},lR={entityStyleFn:e=>{const t=e.getType().toLowerCase();if(t==="mention"){const r=e.getData();return{element:"a",attributes:{"data-mention-id":Ra.get(r,"mention.name"),href:Ra.get(r,"mention.link"),class:"draft-mention"},style:{}}}if(t==="#mention"){const r=e.getData();return{element:"a",attributes:{"data-mention-id":Ra.get(r,"mention.name"),href:Ra.get(r,"mention.link"),class:"draft-mention"},style:{}}}}},cR={customInlineFn:e=>{const t=e.getAttribute("style");let r;if(t)return t.indexOf("bold")>-1&&(r="BOLD"),r?{type:"STYLE",style:r}:void 0}};function fv({initialData:e,setEditorValue:t,setEditorRawValue:r,isEdit:a=!1}){const[{plugins:n,Toolbar:i,MentionSuggestions:s}]=T.useState(()=>{const P=CM(),M=ZM({target:"_blank"}),O=fM({theme:uR,entityMutability:"IMMUTABLE",mentionPrefix:"@",mentionTrigger:"@",supportWhitespace:!0,mentionComponent:K=>{const V=`/noum/${K.mention.link}`;return B(eR,{to:V,title:K.mention.name,"data-test":"mentionPlugin-MentionLink",children:K.mention.name})}}),{Toolbar:N}=P,{MentionSuggestions:U}=O;return{plugins:[P,O,M],Toolbar:N,MentionSuggestions:U}}),u=T.useCallback((P,M)=>{var G,W;const O=Fn.flattenDeep(ea(n.map(J=>J.decorators))),N=new Ce.CompositeDecorator(O==null?void 0:O.filter((J,Y)=>Y!==1));if(P!=null&&P.rawJSON&&((G=P==null?void 0:P.rawJSON)!=null&&G.blocks)&&((W=P.rawJSON)!=null&&W.entityMap))return Ce.EditorState.createWithContent(Ce.convertFromRaw(P==null?void 0:P.rawJSON),M?void 0:N);if(!P||!(P!=null&&P.text)||P.text==="")return Ce.EditorState.createEmpty();const U=bm(P);if(!U)return Ce.EditorState.createEmpty();const H=vd(U),K=Nd(Ce.convertToRaw(H)),V=Ce.convertFromRaw(K);return Ce.EditorState.moveFocusToEnd(Ce.EditorState.createWithContent(V,M?void 0:N))},[n]),{t:l}=Fr(),{isMobile:f}=Sm(),[p,v]=T.useState(1),h=T.useRef(null),[E,y]=T.useState(()=>u(e,a)),[_,b]=T.useState(!1),[C,A]=T.useState([]);T.useEffect(()=>{a===!1&&y(u(e,a))},[e,a]),T.useEffect(()=>{if(E&&!E.getDecorator()&&!a){const P=p+1;v(P)}},[E,a,p]);const w=T.useCallback(P=>{b(P)},[]),[F]=Cm(),x=T.useCallback(async({value:P})=>{const{data:M}=await F({variables:{query:P,limit:10,entityType:dp.HomeNoum}}),O=(M==null?void 0:M.globalSearch.data.map(N=>{var U;return{name:N.user.name||"",avatar:N.user.thumbnailUrl||hp,link:N.id,id:N.id,uid:(U=N==null?void 0:N.user)==null?void 0:U.id}}))||[];A(O)},[F]);T.useEffect(()=>{if(t){const P=E.getCurrentContent(),O=P.getPlainText()===""?void 0:Zk(P,lR);a&&(t(O||""),r==null||r(Ce.convertToRaw(P)))}},[E,a,r,t]);const I=(P,M,O)=>{if(!P||P==="")return"not-handled";const N=M?vd(M,cR):Ce.EditorState.createWithContent(Ce.ContentState.createFromText(P)).getCurrentContent(),U=Nd(Ce.convertToRaw(N)),H=Ce.convertFromRaw(U),K=Ce.Modifier.replaceWithFragment(O.getCurrentContent(),O.getSelection(),H.getBlockMap());return y(Ce.EditorState.push(O,K,"insert-fragment")),"handled"},R=T.useCallback(()=>{setTimeout(()=>h.current.focus(),50)},[]);return be(JM,{"data-testid":"post-rich-text-editor",isEdit:a,onClick:R,"data-test":"Container",children:[a&&B(QM,{isMobile:f,"data-test":"ToolbarContainer",children:B(i,{"data-test":"Toolbar",children:P=>be(T.Fragment,{children:[B(iv,{...P,"data-test":"BoldButton"}),B(ov,{...P,"data-test":"ItalicButton"}),B(sv,{...P,"data-test":"UnderlineButton"}),B(Td,{"data-test":"Separator"}),B(mM,{...P,"data-test":"UnorderedListButton"}),B(vM,{...P,"data-test":"OrderedListButton"}),B(Td,{"data-test":"Separator"}),B(hM,{...P,"data-test":"HeadlineOneButton"}),B(gM,{...P,"data-test":"HeadlineTwoButton"})]})})}),B(YB,{placeholder:l("noumena.create_post_placeholder"),readOnly:!a,editorKey:"editor",editorState:E,onChange:y,plugins:n,ref:h,handlePastedText:I,"data-test":"Editor"}),B(s,{open:_,onOpenChange:w,suggestions:C,onSearchChange:x,"data-test":"MentionSuggestions"})]})}const fR=e=>{const{images:t,showVisibility:r,options:a,postVisibility:n,setPostVisibility:i,text:s,setText:u,addTag:l,categories:f,handleDeleteAssetItem:p,overflow:v,onClipboard:h,post:E,setRawJson:y}=e,{flags:{postRte:_}}=Qs(),{width:b}=Fi(),C=b<Bi.TABLET;return B(Ii,{overflow:v,"data-test":"PostModalBody-ModalBody",children:be(by,{fullWidth:!0,vertical:!0,"data-testid":"post_editor_container",isRTE:_,"data-test":"PostModalBody-EditorContainer",children:[be(dr,{fullWidth:!0,justify:"space-between",align:"center",style:{marginBottom:"16px",gap:"16px"},"data-test":"PostModalBody-Stack",children:[B(q0,{"data-test":"PostModalBody-PostModalUserInfo"}),!C&&r&&be(Dp,{"data-testid":"post_visibility_selector","data-test":"PostModalBody-VisibilitySelect",children:[B(et,{font:"footnote",colorToken:"--text-input-neutral-default","data-test":"PostModalBody-TSpan",children:te("noumena.chambers.element.posts.visible_for")}),B(ki,{hideIcons:!0,placement:"bottom-start",options:a,inputValue:(n==null?void 0:n.value)||void 0,onSelectOption:A=>i(A),usePortal:!1,containerWidth:"211px",minHeight:"100px","data-test":"PostModalBody-Dropdown",children:({inputProps:A,inputRef:w,toggle:F})=>B(ru,{readOnly:!0,...A,ref:w,value:String(n.label),spellCheck:"false",rightIcon:B(st,{name:"chevron_down_m",color:"--icon-input-neutral-default",size:16,onClick:F,"data-test":"PostModalBody-Icon"}),"data-test":"PostModalBody-TextField"})})]})]}),B(wy,{"data-test":"PostModalBody-StyledTextAreaContainer",children:_?B(fv,{initialData:E,setEditorValue:u,setEditorRawValue:y,isEdit:!0,"data-test":"PostModalBody-PostRichTextEditor"}):B($p,{val:s,setVal:u,addTag:l,isTextArea:!0,isFullHeight:!0,autoFocus:!0,placeholder:te("noumena.chambers.element.posts.text_placeholder"),error:!1,textAreaHeight:300,onClipboard:h,"data-test":"PostModalBody-Mention"})}),t.length>0&&B(Cy,{"data-test":"PostModalBody-ImageContainers",children:t.map((A,w)=>B(W0,{index:w,url:A,filetype:f[w],onDelete:p,"data-test":"PostModalBody-AssetItem"},Cn()))})]})})};function dR({reset:e}){const{addToast:t}=Tr(),[r,{loading:a}]=wm(),n=T.useCallback(_=>{t("error","icon",`${_}`)},[t]),i=T.useCallback(_=>{t("success","icon",_)},[t]),s=T.useCallback(_=>{t("primary","icon",_)},[t]),u=er((_,b)=>C=>{const A=(C==null?void 0:C.createPost)||(C==null?void 0:C.createPostForChamber)||(C==null?void 0:C.updatePost);if(A){switch(A.postStatus){case Fo.Accepted:i(b?te("noumena.chambers.element.posts.success.update"):te("noumena.chambers.element.posts.success.create"));break;case Fo.Rejected:n(te("noumena.chambers.element.posts.error.creation_rejected"));break;case Fo.BeingReviewed:s(te("noumena.chambers.element.posts.status.BeingReviewed"));break}_==null||_(A),e()}}),l=T.useCallback(async(_,b)=>{await r({variables:{input:_},onError:({networkError:C=null,graphQLErrors:A=[]})=>{const[w]=A,F=te("noumena.chambers.element.posts.error.creation_failed");n(`${F}`),ko(new Error((w==null?void 0:w.message)??C),{tags:{section:"useCreatePostForChamberMutation"}})},onCompleted:u(b)})},[r,n,u]),[f,{loading:p}]=Am(),v=T.useCallback(async(_,b)=>{await f({variables:{input:_},onError:({networkError:C=null,graphQLErrors:A=[]})=>{const[w]=A,F=te("noumena.chambers.element.posts.error.creation_failed");n(`${F}`),ko(new Error((w==null?void 0:w.message)??C),{tags:{section:"useCreatePostMutation"}})},onCompleted:u(b)})},[f,n,u]),[h,{loading:E}]=Dm(),y=T.useCallback(async _=>{await h({variables:_.variables,onError:({networkError:b=null,graphQLErrors:C=[]})=>{const[A]=C,w=te("noumena.chambers.element.posts.error.update_failed");n(`${w}`),ko(new Error((A==null?void 0:A.message)??b),{tags:{section:"useUpdatePostMutation"}})},onCompleted:u(b=>b,!0)})},[h,u,n]);return{createChamberPost:l,loadingChamberPost:a,createNoumPost:v,loadingPost:p,updateNoumPost:y,updatingPost:E}}const $d=Object.values(Ds).slice(0,2)??[],pR=!1,hR=({post:e,spaceId:t,onClose:r,onEdit:a,onSuccess:n,isChamber:i=!0,isMasterNoum:s=!1,isCommunity:u=!1})=>{const{width:l}=Fi(),{isUnregistered:f,isActive:p,user:v}=pr(),{addToast:h}=Tr(),E=T.useMemo(()=>!!t||!!e,[t,e]),y=T.useMemo(()=>!!e,[e]),_=l<Bi.TABLET,[b,C]=T.useState(""),[A,w]=T.useState(),[F,x]=T.useState(Ds[ht.Connection]),[I,R]=T.useState([]),[P,M]=T.useState([]),[O,N]=T.useState([]),[U,H]=T.useState(!1),[K,V]=T.useState(yy(e==null?void 0:e.tags)),G=T.useRef(null),{setMentionIds:W,mentionIds:J}=xm(),Y=T.useCallback(()=>{R([]),M([]),C(""),w(void 0),n()},[n]),{createChamberPost:ne,loadingChamberPost:Q,createNoumPost:we,loadingPost:Le,updateNoumPost:Ee,updatingPost:ae}=dR({reset:Y}),pe=(i&&!s?Q:Le)||ae,Te=T.useMemo(()=>f?$d.filter(Fe=>Fe.value===ht.Connection):$d,[f]),ze=T.useMemo(()=>s||u?!1:i,[i,u,s]),ce=T.useMemo(()=>I.length>0?!0:_y(b).trim()===""?!1:!!b&&!!((t||y)&&F.value&&b.length>1),[y,t,F,b,I]),ge=T.useCallback(()=>{C(""),w(void 0),r()},[r]),Pe=T.useCallback((Fe,ie)=>{ie&&(ie==null?void 0:ie.type)==="video"?M([ie==null?void 0:ie.thumbnail]):M([""]),R([Fe])},[I,P]),Ue=T.useCallback(Fe=>{R(I.filter((ie,me)=>me!==Fe)),M(P.filter((ie,me)=>me!==Fe)),N(O.filter((ie,me)=>me!==Fe))},[I,O,P]),ke=Fe=>{const ie=[...K,{uid:Fe}];V(ie)},ve=T.useCallback(()=>{if(!p&&!f){h("primary","icon",te("noumena.community.userIsNotActive.posts"));return}if(!ce)return;const Fe=[];A!=null&&A.entityMap&&Object.values(A.entityMap).forEach(me=>{var De;me.type==="mention"&&(De=me.data.mention)!=null&&De.uid&&Fe.indexOf(me.data.mention.uid)===-1&&Fe.push(me.data.mention.uid)});const ie={rawJSON:A,text:b.trim(),tags:Fe.length>0?Fe.map(me=>({uid:me})):K,chamberId:i&&!s?t:void 0,visibility:!y&&!ze?ht.All:F.value,post:(I==null?void 0:I.length)>0?{category:O[0],content:I[0],thumbnail:P[0]?P[0]:null}:y?{category:null,content:null}:void 0};y&&e?Ee({variables:{_id:e._id,input:ie}}).then(()=>{r==null||r(),a==null||a()}):i&&!s?ne(ie):we(ie,me=>{i&&s&&nu("submit_post",{DeviceType:navigator.userAgent,UUID:v==null?void 0:v._id,PostId:me._id})})},[p,f,ce,A,b,K,i,s,t,y,ze,F.value,I,O,P,e,h,Ee,r,a,ne,we,v==null?void 0:v._id]),Ae=T.useCallback(Fe=>{R([]),M([]),N([]);let ie=wr.Invite;Fe.type.startsWith("image")?ie=wr.Image:Fe.type.startsWith("video")&&(ie=wr.Video),N([ie])},[O]),qe=T.useCallback((Fe,ie)=>{var me;if(Fe==="copy"){const De=[];(me=e==null?void 0:e.tags)==null||me.map(le=>{var se,fe,de,Me;const je=eu((se=le==null?void 0:le.uid)==null?void 0:se.firstName,(fe=le==null?void 0:le.uid)==null?void 0:fe.middleName,(de=le==null?void 0:le.uid)==null?void 0:de.lastName,"");ie.includes(`@${je}`)&&(De.push((Me=le==null?void 0:le.uid)==null?void 0:Me._id),ie.replace(je," "))}),W(De)}if(Fe==="paste"){const De=[];J.map(le=>{De.push({uid:le})}),V(le=>[...le,...De]),W([])}},[W,J,V,e]);return T.useEffect(()=>{var Fe,ie,me,De,le,je;(Fe=e==null?void 0:e.post)!=null&&Fe.content&&R([(ie=e.post)==null?void 0:ie.content]),(me=e==null?void 0:e.post)!=null&&me.thumbnail&&M([(De=e.post)==null?void 0:De.thumbnail]),(le=e==null?void 0:e.post)!=null&&le.category&&N([(je=e.post)==null?void 0:je.category]),e!=null&&e.text&&C(e.text),e!=null&&e.rawJSON&&w(e.rawJSON),x(Ds[(e==null?void 0:e.visibility)??ht.Connection])},[e]),be(Mi,{ref:G,open:E,testId:"create_post",onClose:ge,enableCloseButton:!0,disableBackdropClick:!0,disableEscapeKeyDown:U||pe,size:Ri.L,"data-test":"CreatePost-Modal",children:[B(Ay,{loading:pe,isValid:ce,imageUploading:U,isEdit:y,handleClose:ge,handlePosting:ve,"data-test":"CreatePost-PostModalHeader"}),B(fR,{images:I,showVisibility:ze,options:Te,postVisibility:F,setPostVisibility:x,text:b,setText:C,setRawJson:w,addTag:ke,categories:O,handleDeleteAssetItem:Ue,post:e,onClipboard:qe,"data-test":"CreatePost-PostModalBody"}),_&&B(Tm,{style:{width:"100%"},"data-test":"CreatePost-Separator"}),B(Dy,{handleSelectedImage:Pe,setImageUploading:H,onUploadFile:Ae,images:I,showVisibility:ze,options:Te,postVisibility:F,setPostVisibility:x,loading:pe,isValid:ce,multiFilesAllowed:pR,imageUploading:U,isEdit:y,handlePosting:ve,clipboard:G,"data-test":"CreatePost-PostModalFooter"})]})},gR=({postId:e,isDeleting:t,onClose:r,onDelete:a})=>{const{addToast:n}=Tr(),[i,s]=T.useState(!1),u=T.useCallback(async()=>{s(!0),await a(),n("success","icon",te("noumena.chambers.element.posts.success.delete")),r(),s(!1)},[n,a,r]);return be(Mi,{open:!0,testId:"delete_post",onClose:r,disableBackdropClick:t,disableEscapeKeyDown:t,size:Ri.S,"data-test":"DeletePost-Modal",children:[B(Ti,{"data-test":"DeletePost-ModalHeader",children:te("noumena.chambers.element.posts.delete.title")}),B(Ii,{align:"center","data-test":"DeletePost-ModalBody",children:be(et,{"data-testid":"delete_confirm_text",font:"body-l",colorToken:"--text-modal-neutral-default",textAlign:"center","data-test":"DeletePost-TSpan",children:[te("noumena.element_wrapper.delete_confirmation.message"),B("br",{}),te("noumena.chambers.element.posts.delete.confirm_text")]})}),be(Oi,{flexDirection:"column",gap:16,"data-test":"DeletePost-ModalFooter",children:[B(rr,{testId:"post_delete_btn",disabled:!e,loading:t||i,intent:"negative",size:"full",onClick:u,spinnerColor:"var(--icon-card-placeholder-neutral-default)","data-test":"DeletePost-Button",children:te("noumena.container.element_delete")}),B(rr,{tertiary:!0,onClick:r,size:"full",testId:"post_delete_cancel_btn","data-test":"DeletePost-Button",children:te("noumena.container.element_delete.cancel")})]})]})};var xr={},vR={get exports(){return xr},set exports(e){xr=e}},Lt={},Ji={},mR=0;Ji.SAME=mR;var yR=1;Ji.CAMELCASE=yR;Ji.possibleStandardNames={accept:0,acceptCharset:1,"accept-charset":"acceptCharset",accessKey:1,action:0,allowFullScreen:1,alt:0,as:0,async:0,autoCapitalize:1,autoComplete:1,autoCorrect:1,autoFocus:1,autoPlay:1,autoSave:1,capture:0,cellPadding:1,cellSpacing:1,challenge:0,charSet:1,checked:0,children:0,cite:0,class:"className",classID:1,className:1,cols:0,colSpan:1,content:0,contentEditable:1,contextMenu:1,controls:0,controlsList:1,coords:0,crossOrigin:1,dangerouslySetInnerHTML:1,data:0,dateTime:1,default:0,defaultChecked:1,defaultValue:1,defer:0,dir:0,disabled:0,disablePictureInPicture:1,disableRemotePlayback:1,download:0,draggable:0,encType:1,enterKeyHint:1,for:"htmlFor",form:0,formMethod:1,formAction:1,formEncType:1,formNoValidate:1,formTarget:1,frameBorder:1,headers:0,height:0,hidden:0,high:0,href:0,hrefLang:1,htmlFor:1,httpEquiv:1,"http-equiv":"httpEquiv",icon:0,id:0,innerHTML:1,inputMode:1,integrity:0,is:0,itemID:1,itemProp:1,itemRef:1,itemScope:1,itemType:1,keyParams:1,keyType:1,kind:0,label:0,lang:0,list:0,loop:0,low:0,manifest:0,marginWidth:1,marginHeight:1,max:0,maxLength:1,media:0,mediaGroup:1,method:0,min:0,minLength:1,multiple:0,muted:0,name:0,noModule:1,nonce:0,noValidate:1,open:0,optimum:0,pattern:0,placeholder:0,playsInline:1,poster:0,preload:0,profile:0,radioGroup:1,readOnly:1,referrerPolicy:1,rel:0,required:0,reversed:0,role:0,rows:0,rowSpan:1,sandbox:0,scope:0,scoped:0,scrolling:0,seamless:0,selected:0,shape:0,size:0,sizes:0,span:0,spellCheck:1,src:0,srcDoc:1,srcLang:1,srcSet:1,start:0,step:0,style:0,summary:0,tabIndex:1,target:0,title:0,type:0,useMap:1,value:0,width:0,wmode:0,wrap:0,about:0,accentHeight:1,"accent-height":"accentHeight",accumulate:0,additive:0,alignmentBaseline:1,"alignment-baseline":"alignmentBaseline",allowReorder:1,alphabetic:0,amplitude:0,arabicForm:1,"arabic-form":"arabicForm",ascent:0,attributeName:1,attributeType:1,autoReverse:1,azimuth:0,baseFrequency:1,baselineShift:1,"baseline-shift":"baselineShift",baseProfile:1,bbox:0,begin:0,bias:0,by:0,calcMode:1,capHeight:1,"cap-height":"capHeight",clip:0,clipPath:1,"clip-path":"clipPath",clipPathUnits:1,clipRule:1,"clip-rule":"clipRule",color:0,colorInterpolation:1,"color-interpolation":"colorInterpolation",colorInterpolationFilters:1,"color-interpolation-filters":"colorInterpolationFilters",colorProfile:1,"color-profile":"colorProfile",colorRendering:1,"color-rendering":"colorRendering",contentScriptType:1,contentStyleType:1,cursor:0,cx:0,cy:0,d:0,datatype:0,decelerate:0,descent:0,diffuseConstant:1,direction:0,display:0,divisor:0,dominantBaseline:1,"dominant-baseline":"dominantBaseline",dur:0,dx:0,dy:0,edgeMode:1,elevation:0,enableBackground:1,"enable-background":"enableBackground",end:0,exponent:0,externalResourcesRequired:1,fill:0,fillOpacity:1,"fill-opacity":"fillOpacity",fillRule:1,"fill-rule":"fillRule",filter:0,filterRes:1,filterUnits:1,floodOpacity:1,"flood-opacity":"floodOpacity",floodColor:1,"flood-color":"floodColor",focusable:0,fontFamily:1,"font-family":"fontFamily",fontSize:1,"font-size":"fontSize",fontSizeAdjust:1,"font-size-adjust":"fontSizeAdjust",fontStretch:1,"font-stretch":"fontStretch",fontStyle:1,"font-style":"fontStyle",fontVariant:1,"font-variant":"fontVariant",fontWeight:1,"font-weight":"fontWeight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:1,"glyph-name":"glyphName",glyphOrientationHorizontal:1,"glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphOrientationVertical:1,"glyph-orientation-vertical":"glyphOrientationVertical",glyphRef:1,gradientTransform:1,gradientUnits:1,hanging:0,horizAdvX:1,"horiz-adv-x":"horizAdvX",horizOriginX:1,"horiz-origin-x":"horizOriginX",ideographic:0,imageRendering:1,"image-rendering":"imageRendering",in2:0,in:0,inlist:0,intercept:0,k1:0,k2:0,k3:0,k4:0,k:0,kernelMatrix:1,kernelUnitLength:1,kerning:0,keyPoints:1,keySplines:1,keyTimes:1,lengthAdjust:1,letterSpacing:1,"letter-spacing":"letterSpacing",lightingColor:1,"lighting-color":"lightingColor",limitingConeAngle:1,local:0,markerEnd:1,"marker-end":"markerEnd",markerHeight:1,markerMid:1,"marker-mid":"markerMid",markerStart:1,"marker-start":"markerStart",markerUnits:1,markerWidth:1,mask:0,maskContentUnits:1,maskUnits:1,mathematical:0,mode:0,numOctaves:1,offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:1,"overline-position":"overlinePosition",overlineThickness:1,"overline-thickness":"overlineThickness",paintOrder:1,"paint-order":"paintOrder",panose1:0,"panose-1":"panose1",pathLength:1,patternContentUnits:1,patternTransform:1,patternUnits:1,pointerEvents:1,"pointer-events":"pointerEvents",points:0,pointsAtX:1,pointsAtY:1,pointsAtZ:1,prefix:0,preserveAlpha:1,preserveAspectRatio:1,primitiveUnits:1,property:0,r:0,radius:0,refX:1,refY:1,renderingIntent:1,"rendering-intent":"renderingIntent",repeatCount:1,repeatDur:1,requiredExtensions:1,requiredFeatures:1,resource:0,restart:0,result:0,results:0,rotate:0,rx:0,ry:0,scale:0,security:0,seed:0,shapeRendering:1,"shape-rendering":"shapeRendering",slope:0,spacing:0,specularConstant:1,specularExponent:1,speed:0,spreadMethod:1,startOffset:1,stdDeviation:1,stemh:0,stemv:0,stitchTiles:1,stopColor:1,"stop-color":"stopColor",stopOpacity:1,"stop-opacity":"stopOpacity",strikethroughPosition:1,"strikethrough-position":"strikethroughPosition",strikethroughThickness:1,"strikethrough-thickness":"strikethroughThickness",string:0,stroke:0,strokeDasharray:1,"stroke-dasharray":"strokeDasharray",strokeDashoffset:1,"stroke-dashoffset":"strokeDashoffset",strokeLinecap:1,"stroke-linecap":"strokeLinecap",strokeLinejoin:1,"stroke-linejoin":"strokeLinejoin",strokeMiterlimit:1,"stroke-miterlimit":"strokeMiterlimit",strokeWidth:1,"stroke-width":"strokeWidth",strokeOpacity:1,"stroke-opacity":"strokeOpacity",suppressContentEditableWarning:1,suppressHydrationWarning:1,surfaceScale:1,systemLanguage:1,tableValues:1,targetX:1,targetY:1,textAnchor:1,"text-anchor":"textAnchor",textDecoration:1,"text-decoration":"textDecoration",textLength:1,textRendering:1,"text-rendering":"textRendering",to:0,transform:0,typeof:0,u1:0,u2:0,underlinePosition:1,"underline-position":"underlinePosition",underlineThickness:1,"underline-thickness":"underlineThickness",unicode:0,unicodeBidi:1,"unicode-bidi":"unicodeBidi",unicodeRange:1,"unicode-range":"unicodeRange",unitsPerEm:1,"units-per-em":"unitsPerEm",unselectable:0,vAlphabetic:1,"v-alphabetic":"vAlphabetic",values:0,vectorEffect:1,"vector-effect":"vectorEffect",version:0,vertAdvY:1,"vert-adv-y":"vertAdvY",vertOriginX:1,"vert-origin-x":"vertOriginX",vertOriginY:1,"vert-origin-y":"vertOriginY",vHanging:1,"v-hanging":"vHanging",vIdeographic:1,"v-ideographic":"vIdeographic",viewBox:1,viewTarget:1,visibility:0,vMathematical:1,"v-mathematical":"vMathematical",vocab:0,widths:0,wordSpacing:1,"word-spacing":"wordSpacing",writingMode:1,"writing-mode":"writingMode",x1:0,x2:0,x:0,xChannelSelector:1,xHeight:1,"x-height":"xHeight",xlinkActuate:1,"xlink:actuate":"xlinkActuate",xlinkArcrole:1,"xlink:arcrole":"xlinkArcrole",xlinkHref:1,"xlink:href":"xlinkHref",xlinkRole:1,"xlink:role":"xlinkRole",xlinkShow:1,"xlink:show":"xlinkShow",xlinkTitle:1,"xlink:title":"xlinkTitle",xlinkType:1,"xlink:type":"xlinkType",xmlBase:1,"xml:base":"xmlBase",xmlLang:1,"xml:lang":"xmlLang",xmlns:0,"xml:space":"xmlSpace",xmlnsXlink:1,"xmlns:xlink":"xmlnsXlink",xmlSpace:1,y1:0,y2:0,y:0,yChannelSelector:1,z:0,zoomAndPan:1};Object.defineProperty(Lt,"__esModule",{value:!0});function ER(e,t){return _R(e)||bR(e,t)||SR(e,t)||CR()}function _R(e){if(Array.isArray(e))return e}function bR(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a=[],n=!0,i=!1,s,u;try{for(r=r.call(e);!(n=(s=r.next()).done)&&(a.push(s.value),!(t&&a.length===t));n=!0);}catch(l){i=!0,u=l}finally{try{!n&&r.return!=null&&r.return()}finally{if(i)throw u}}return a}}function SR(e,t){if(e){if(typeof e=="string")return Kd(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Kd(e,t)}}function Kd(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function CR(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var dv=0,kr=1,Qi=2,eo=3,Hu=4,pv=5,hv=6;function wR(e){return ft.hasOwnProperty(e)?ft[e]:null}function Et(e,t,r,a,n,i,s){this.acceptsBooleans=t===Qi||t===eo||t===Hu,this.attributeName=a,this.attributeNamespace=n,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var ft={},AR=["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"];AR.forEach(function(e){ft[e]=new Et(e,dv,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=ER(e,2),r=t[0],a=t[1];ft[r]=new Et(r,kr,!1,a,null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ft[e]=new Et(e,Qi,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ft[e]=new Et(e,Qi,!1,e,null,!1,!1)});["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach(function(e){ft[e]=new Et(e,eo,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ft[e]=new Et(e,eo,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ft[e]=new Et(e,Hu,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ft[e]=new Et(e,hv,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ft[e]=new Et(e,pv,!1,e.toLowerCase(),null,!1,!1)});var ju=/[\-\:]([a-z])/g,Wu=function(t){return t[1].toUpperCase()};["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach(function(e){var t=e.replace(ju,Wu);ft[t]=new Et(t,kr,!1,e,null,!1,!1)});["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach(function(e){var t=e.replace(ju,Wu);ft[t]=new Et(t,kr,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ju,Wu);ft[t]=new Et(t,kr,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ft[e]=new Et(e,kr,!1,e.toLowerCase(),null,!1,!1)});var DR="xlinkHref";ft[DR]=new Et("xlinkHref",kr,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ft[e]=new Et(e,kr,!1,e.toLowerCase(),null,!0,!0)});var qu=Ji,xR=qu.CAMELCASE,TR=qu.SAME,zd=qu.possibleStandardNames,FR=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",OR=FR+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",kR=RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+OR+"]*$")),BR=Object.keys(zd).reduce(function(e,t){var r=zd[t];return r===TR?e[t]=t:r===xR?e[t.toLowerCase()]=t:e[t]=r,e},{});Lt.BOOLEAN=eo;Lt.BOOLEANISH_STRING=Qi;Lt.NUMERIC=pv;Lt.OVERLOADED_BOOLEAN=Hu;Lt.POSITIVE_NUMERIC=hv;Lt.RESERVED=dv;Lt.STRING=kr;Lt.getPropertyInfo=wR;Lt.isCustomAttribute=kR;Lt.possibleStandardNames=BR;var gv={},Ud=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,IR=/\n/g,MR=/^\s*/,RR=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,PR=/^:\s*/,LR=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,NR=/^[;\s]*/,$R=/^\s+|\s+$/g,KR=`
`,Hd="/",jd="*",zr="",zR="comment",UR="declaration",HR=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var r=1,a=1;function n(y){var _=y.match(IR);_&&(r+=_.length);var b=y.lastIndexOf(KR);a=~b?y.length-b:a+y.length}function i(){var y={line:r,column:a};return function(_){return _.position=new s(y),f(),_}}function s(y){this.start=y,this.end={line:r,column:a},this.source=t.source}s.prototype.content=e;function u(y){var _=new Error(t.source+":"+r+":"+a+": "+y);if(_.reason=y,_.filename=t.source,_.line=r,_.column=a,_.source=e,!t.silent)throw _}function l(y){var _=y.exec(e);if(_){var b=_[0];return n(b),e=e.slice(b.length),_}}function f(){l(MR)}function p(y){var _;for(y=y||[];_=v();)_!==!1&&y.push(_);return y}function v(){var y=i();if(!(Hd!=e.charAt(0)||jd!=e.charAt(1))){for(var _=2;zr!=e.charAt(_)&&(jd!=e.charAt(_)||Hd!=e.charAt(_+1));)++_;if(_+=2,zr===e.charAt(_-1))return u("End of comment missing");var b=e.slice(2,_-2);return a+=2,n(b),e=e.slice(_),a+=2,y({type:zR,comment:b})}}function h(){var y=i(),_=l(RR);if(_){if(v(),!l(PR))return u("property missing ':'");var b=l(LR),C=y({type:UR,property:Wd(_[0].replace(Ud,zr)),value:b?Wd(b[0].replace(Ud,zr)):zr});return l(NR),C}}function E(){var y=[];p(y);for(var _;_=h();)_!==!1&&(y.push(_),p(y));return y}return f(),E()};function Wd(e){return e?e.replace($R,zr):zr}var jR=HR;function WR(e,t){var r=null;if(!e||typeof e!="string")return r;for(var a,n=jR(e),i=typeof t=="function",s,u,l=0,f=n.length;l<f;l++)a=n[l],s=a.property,u=a.value,i?t(s,u,a):u&&(r||(r={}),r[s]=u);return r}var qR=WR,to={};to.__esModule=!0;to.camelCase=void 0;var VR=/^--[a-zA-Z0-9-]+$/,GR=/-([a-z])/g,XR=/^[^-]+$/,YR=/^-(webkit|moz|ms|o|khtml)-/,ZR=/^-(ms)-/,JR=function(e){return!e||XR.test(e)||VR.test(e)},QR=function(e,t){return t.toUpperCase()},qd=function(e,t){return"".concat(t,"-")},eP=function(e,t){return t===void 0&&(t={}),JR(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(ZR,qd):e=e.replace(YR,qd),e.replace(GR,QR))};to.camelCase=eP;(function(e){var t=ut&&ut.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};e.__esModule=!0;var r=t(qR),a=to;function n(i,s){var u={};return!i||typeof i!="string"||(0,r.default)(i,function(l,f){l&&f&&(u[(0,a.camelCase)(l,s)]=f)}),u}e.default=n})(gv);var tP=T,rP=gv.default;function nP(e,t){if(!e||typeof e!="object")throw new TypeError("First argument must be an object");var r,a,n=typeof t=="function",i={},s={};for(r in e){if(a=e[r],n&&(i=t(r,a),i&&i.length===2)){s[i[0]]=i[1];continue}typeof a=="string"&&(s[a]=r)}return s}function aP(e,t){if(e.indexOf("-")===-1)return t&&typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var iP={reactCompat:!0};function oP(e,t){if(e!=null)try{t.style=rP(e,iP)}catch{t.style={}}}var sP=tP.version.split(".")[0]>=16,vv=new Set(["tr","tbody","thead","tfoot","colgroup","table","head","html","frameset"]);function uP(e){return!vv.has(e.name)}var mv={PRESERVE_CUSTOM_ATTRIBUTES:sP,invertObject:nP,isCustomComponent:aP,setStyleProp:oP,canTextBeChildOfNode:uP,elementsWithNoTextChildren:vv},aa=Lt,Vd=mv,yv=function(t){t=t||{};var r={reset:!0,submit:!0},a,n,i,s,u,l={},f=t.type&&r[t.type];for(a in t){if(i=t[a],aa.isCustomAttribute(a)){l[a]=i;continue}if(n=a.toLowerCase(),s=Gd(n),s){switch(u=aa.getPropertyInfo(s),(s==="checked"||s==="value")&&!f&&(s=Gd("default"+n)),l[s]=i,u&&u.type){case aa.BOOLEAN:l[s]=!0;break;case aa.OVERLOADED_BOOLEAN:i===""&&(l[s]=!0);break}continue}Vd.PRESERVE_CUSTOM_ATTRIBUTES&&(l[a]=i)}return Vd.setStyleProp(t.style,l),l};function Gd(e){return aa.possibleStandardNames[e]}var lP=T,cP=yv,Ai=mv,fP=Ai.setStyleProp,dP=Ai.canTextBeChildOfNode;function Ev(e,t){t=t||{};for(var r=t.library||lP,a=r.cloneElement,n=r.createElement,i=r.isValidElement,s=[],u,l,f=typeof t.replace=="function",p,v,h,E=t.trim,y=0,_=e.length;y<_;y++){if(u=e[y],f&&(p=t.replace(u),i(p))){_>1&&(p=a(p,{key:p.key||y})),s.push(p);continue}if(u.type==="text"){if(l=!u.data.trim().length,l&&u.parent&&!dP(u.parent)||E&&l)continue;s.push(u.data);continue}switch(v=u.attribs,pP(u)?fP(v.style,v):v&&(v=cP(v)),h=null,u.type){case"script":case"style":u.children[0]&&(v.dangerouslySetInnerHTML={__html:u.children[0].data});break;case"tag":u.name==="textarea"&&u.children[0]?v.defaultValue=u.children[0].data:u.children&&u.children.length&&(h=Ev(u.children,t));break;default:continue}_>1&&(v.key=y),s.push(n(u.name,v,h))}return s.length===1?s[0]:s}function pP(e){return Ai.PRESERVE_CUSTOM_ATTRIBUTES&&e.type==="tag"&&Ai.isCustomComponent(e.name,e.attribs)}var hP=Ev,Xd="html",Yd="head",si="body",gP=/<([a-zA-Z]+[0-9]?)/,Zd=/<head[^]*>/i,Jd=/<body[^]*>/i,Di=function(){throw new Error("This browser does not support `document.implementation.createHTMLDocument`")},Zs=function(){throw new Error("This browser does not support `DOMParser.prototype.parseFromString`")},Qd=typeof window=="object"&&window.DOMParser;if(typeof Qd=="function"){var vP=new Qd,mP="text/html";Zs=function(e,t){return t&&(e="<"+t+">"+e+"</"+t+">"),vP.parseFromString(e,mP)},Di=Zs}if(typeof document=="object"&&document.implementation){var ui=document.implementation.createHTMLDocument();Di=function(e,t){if(t){var r=ui.documentElement.querySelector(t);return r.innerHTML=e,ui}return ui.documentElement.innerHTML=e,ui}}var ys=typeof document=="object"?document.createElement("template"):{},Js;ys.content&&(Js=function(e){return ys.innerHTML=e,ys.content.childNodes});function yP(e){var t,r=e.match(gP);r&&r[1]&&(t=r[1].toLowerCase());var a,n,i;switch(t){case Xd:return a=Zs(e),Zd.test(e)||(n=a.querySelector(Yd),n&&n.parentNode.removeChild(n)),Jd.test(e)||(n=a.querySelector(si),n&&n.parentNode.removeChild(n)),a.querySelectorAll(Xd);case Yd:case si:return a=Di(e),i=a.querySelectorAll(t),Jd.test(e)&&Zd.test(e)?i[0].parentNode.childNodes:i;default:return Js?Js(e):(n=Di(e,si).querySelector(si),n.childNodes)}}var EP=yP,Vu={},Es={},_s={},ep;function _v(){return ep||(ep=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Doctype=e.CDATA=e.Tag=e.Style=e.Script=e.Comment=e.Directive=e.Text=e.Root=e.isTag=e.ElementType=void 0;var t;(function(a){a.Root="root",a.Text="text",a.Directive="directive",a.Comment="comment",a.Script="script",a.Style="style",a.Tag="tag",a.CDATA="cdata",a.Doctype="doctype"})(t=e.ElementType||(e.ElementType={}));function r(a){return a.type===t.Tag||a.type===t.Script||a.type===t.Style}e.isTag=r,e.Root=t.Root,e.Text=t.Text,e.Directive=t.Directive,e.Comment=t.Comment,e.Script=t.Script,e.Style=t.Style,e.Tag=t.Tag,e.CDATA=t.CDATA,e.Doctype=t.Doctype}(_s)),_s}var Ie={},tp;function rp(){if(tp)return Ie;tp=1;var e=ut&&ut.__extends||function(){var x=function(I,R){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,M){P.__proto__=M}||function(P,M){for(var O in M)Object.prototype.hasOwnProperty.call(M,O)&&(P[O]=M[O])},x(I,R)};return function(I,R){if(typeof R!="function"&&R!==null)throw new TypeError("Class extends value "+String(R)+" is not a constructor or null");x(I,R);function P(){this.constructor=I}I.prototype=R===null?Object.create(R):(P.prototype=R.prototype,new P)}}(),t=ut&&ut.__assign||function(){return t=Object.assign||function(x){for(var I,R=1,P=arguments.length;R<P;R++){I=arguments[R];for(var M in I)Object.prototype.hasOwnProperty.call(I,M)&&(x[M]=I[M])}return x},t.apply(this,arguments)};Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.cloneNode=Ie.hasChildren=Ie.isDocument=Ie.isDirective=Ie.isComment=Ie.isText=Ie.isCDATA=Ie.isTag=Ie.Element=Ie.Document=Ie.CDATA=Ie.NodeWithChildren=Ie.ProcessingInstruction=Ie.Comment=Ie.Text=Ie.DataNode=Ie.Node=void 0;var r=_v(),a=function(){function x(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(x.prototype,"parentNode",{get:function(){return this.parent},set:function(I){this.parent=I},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"previousSibling",{get:function(){return this.prev},set:function(I){this.prev=I},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"nextSibling",{get:function(){return this.next},set:function(I){this.next=I},enumerable:!1,configurable:!0}),x.prototype.cloneNode=function(I){return I===void 0&&(I=!1),w(this,I)},x}();Ie.Node=a;var n=function(x){e(I,x);function I(R){var P=x.call(this)||this;return P.data=R,P}return Object.defineProperty(I.prototype,"nodeValue",{get:function(){return this.data},set:function(R){this.data=R},enumerable:!1,configurable:!0}),I}(a);Ie.DataNode=n;var i=function(x){e(I,x);function I(){var R=x!==null&&x.apply(this,arguments)||this;return R.type=r.ElementType.Text,R}return Object.defineProperty(I.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),I}(n);Ie.Text=i;var s=function(x){e(I,x);function I(){var R=x!==null&&x.apply(this,arguments)||this;return R.type=r.ElementType.Comment,R}return Object.defineProperty(I.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),I}(n);Ie.Comment=s;var u=function(x){e(I,x);function I(R,P){var M=x.call(this,P)||this;return M.name=R,M.type=r.ElementType.Directive,M}return Object.defineProperty(I.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),I}(n);Ie.ProcessingInstruction=u;var l=function(x){e(I,x);function I(R){var P=x.call(this)||this;return P.children=R,P}return Object.defineProperty(I.prototype,"firstChild",{get:function(){var R;return(R=this.children[0])!==null&&R!==void 0?R:null},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"childNodes",{get:function(){return this.children},set:function(R){this.children=R},enumerable:!1,configurable:!0}),I}(a);Ie.NodeWithChildren=l;var f=function(x){e(I,x);function I(){var R=x!==null&&x.apply(this,arguments)||this;return R.type=r.ElementType.CDATA,R}return Object.defineProperty(I.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),I}(l);Ie.CDATA=f;var p=function(x){e(I,x);function I(){var R=x!==null&&x.apply(this,arguments)||this;return R.type=r.ElementType.Root,R}return Object.defineProperty(I.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),I}(l);Ie.Document=p;var v=function(x){e(I,x);function I(R,P,M,O){M===void 0&&(M=[]),O===void 0&&(O=R==="script"?r.ElementType.Script:R==="style"?r.ElementType.Style:r.ElementType.Tag);var N=x.call(this,M)||this;return N.name=R,N.attribs=P,N.type=O,N}return Object.defineProperty(I.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"tagName",{get:function(){return this.name},set:function(R){this.name=R},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"attributes",{get:function(){var R=this;return Object.keys(this.attribs).map(function(P){var M,O;return{name:P,value:R.attribs[P],namespace:(M=R["x-attribsNamespace"])===null||M===void 0?void 0:M[P],prefix:(O=R["x-attribsPrefix"])===null||O===void 0?void 0:O[P]}})},enumerable:!1,configurable:!0}),I}(l);Ie.Element=v;function h(x){return(0,r.isTag)(x)}Ie.isTag=h;function E(x){return x.type===r.ElementType.CDATA}Ie.isCDATA=E;function y(x){return x.type===r.ElementType.Text}Ie.isText=y;function _(x){return x.type===r.ElementType.Comment}Ie.isComment=_;function b(x){return x.type===r.ElementType.Directive}Ie.isDirective=b;function C(x){return x.type===r.ElementType.Root}Ie.isDocument=C;function A(x){return Object.prototype.hasOwnProperty.call(x,"children")}Ie.hasChildren=A;function w(x,I){I===void 0&&(I=!1);var R;if(y(x))R=new i(x.data);else if(_(x))R=new s(x.data);else if(h(x)){var P=I?F(x.children):[],M=new v(x.name,t({},x.attribs),P);P.forEach(function(H){return H.parent=M}),x.namespace!=null&&(M.namespace=x.namespace),x["x-attribsNamespace"]&&(M["x-attribsNamespace"]=t({},x["x-attribsNamespace"])),x["x-attribsPrefix"]&&(M["x-attribsPrefix"]=t({},x["x-attribsPrefix"])),R=M}else if(E(x)){var P=I?F(x.children):[],O=new f(P);P.forEach(function(K){return K.parent=O}),R=O}else if(C(x)){var P=I?F(x.children):[],N=new p(P);P.forEach(function(K){return K.parent=N}),x["x-mode"]&&(N["x-mode"]=x["x-mode"]),R=N}else if(b(x)){var U=new u(x.name,x.data);x["x-name"]!=null&&(U["x-name"]=x["x-name"],U["x-publicId"]=x["x-publicId"],U["x-systemId"]=x["x-systemId"]),R=U}else throw new Error("Not implemented yet: ".concat(x.type));return R.startIndex=x.startIndex,R.endIndex=x.endIndex,x.sourceCodeLocation!=null&&(R.sourceCodeLocation=x.sourceCodeLocation),R}Ie.cloneNode=w;function F(x){for(var I=x.map(function(P){return w(P,!0)}),R=1;R<I.length;R++)I[R].prev=I[R-1],I[R-1].next=I[R];return I}return Ie}var np;function bv(){return np||(np=1,function(e){var t=ut&&ut.__createBinding||(Object.create?function(u,l,f,p){p===void 0&&(p=f);var v=Object.getOwnPropertyDescriptor(l,f);(!v||("get"in v?!l.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return l[f]}}),Object.defineProperty(u,p,v)}:function(u,l,f,p){p===void 0&&(p=f),u[p]=l[f]}),r=ut&&ut.__exportStar||function(u,l){for(var f in u)f!=="default"&&!Object.prototype.hasOwnProperty.call(l,f)&&t(l,u,f)};Object.defineProperty(e,"__esModule",{value:!0}),e.DomHandler=void 0;var a=_v(),n=rp();r(rp(),e);var i={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},s=function(){function u(l,f,p){this.dom=[],this.root=new n.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof f=="function"&&(p=f,f=i),typeof l=="object"&&(f=l,l=void 0),this.callback=l??null,this.options=f??i,this.elementCB=p??null}return u.prototype.onparserinit=function(l){this.parser=l},u.prototype.onreset=function(){this.dom=[],this.root=new n.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},u.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},u.prototype.onerror=function(l){this.handleCallback(l)},u.prototype.onclosetag=function(){this.lastNode=null;var l=this.tagStack.pop();this.options.withEndIndices&&(l.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(l)},u.prototype.onopentag=function(l,f){var p=this.options.xmlMode?a.ElementType.Tag:void 0,v=new n.Element(l,f,void 0,p);this.addNode(v),this.tagStack.push(v)},u.prototype.ontext=function(l){var f=this.lastNode;if(f&&f.type===a.ElementType.Text)f.data+=l,this.options.withEndIndices&&(f.endIndex=this.parser.endIndex);else{var p=new n.Text(l);this.addNode(p),this.lastNode=p}},u.prototype.oncomment=function(l){if(this.lastNode&&this.lastNode.type===a.ElementType.Comment){this.lastNode.data+=l;return}var f=new n.Comment(l);this.addNode(f),this.lastNode=f},u.prototype.oncommentend=function(){this.lastNode=null},u.prototype.oncdatastart=function(){var l=new n.Text(""),f=new n.CDATA([l]);this.addNode(f),l.parent=f,this.lastNode=l},u.prototype.oncdataend=function(){this.lastNode=null},u.prototype.onprocessinginstruction=function(l,f){var p=new n.ProcessingInstruction(l,f);this.addNode(p)},u.prototype.handleCallback=function(l){if(typeof this.callback=="function")this.callback(l,this.dom);else if(l)throw l},u.prototype.addNode=function(l){var f=this.tagStack[this.tagStack.length-1],p=f.children[f.children.length-1];this.options.withStartIndices&&(l.startIndex=this.parser.startIndex),this.options.withEndIndices&&(l.endIndex=this.parser.endIndex),f.children.push(l),p&&(l.prev=p,p.next=l),l.parent=f,this.lastNode=null},u}();e.DomHandler=s,e.default=s}(Es)),Es}var Sv={};Sv.CASE_SENSITIVE_TAG_NAMES=["animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussainBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","linearGradient","radialGradient","textPath"];var ro=bv(),_P=Sv,ap=_P.CASE_SENSITIVE_TAG_NAMES,bP=ro.Comment,SP=ro.Element,CP=ro.ProcessingInstruction,wP=ro.Text,Cv={},bs;for(var Ss=0,AP=ap.length;Ss<AP;Ss++)bs=ap[Ss],Cv[bs.toLowerCase()]=bs;function DP(e){return Cv[e]}function wv(e){for(var t={},r,a=0,n=e.length;a<n;a++)r=e[a],t[r.name]=r.value;return t}function xP(e){e=e.toLowerCase();var t=DP(e);return t||e}function Av(e,t,r){t=t||null;for(var a=[],n=0,i=e.length;n<i;n++){var s=e[n],u;switch(s.nodeType){case 1:u=new SP(xP(s.nodeName),wv(s.attributes)),u.children=Av(s.childNodes,u);break;case 3:u=new wP(s.nodeValue);break;case 8:u=new bP(s.nodeValue);break;default:continue}var l=a[n-1]||null;l&&(l.next=u),u.parent=t,u.prev=l,u.next=null,a.push(u)}return r&&(u=new CP(r.substring(0,r.indexOf(" ")).toLowerCase(),r),u.next=a[0]||null,u.parent=t,a.unshift(u),a[1]&&(a[1].prev=a[0])),a}Vu.formatAttributes=wv;Vu.formatDOM=Av;var TP=EP,FP=Vu,OP=FP.formatDOM,kP=/<(![a-zA-Z\s]+)>/;function BP(e){if(typeof e!="string")throw new TypeError("First argument must be a string");if(e==="")return[];var t=e.match(kP),r;return t&&t[1]&&(r=t[1]),OP(TP(e),null,r)}var IP=BP,Dv=hP,MP=yv,En=IP;En=typeof En.default=="function"?En.default:En;var RP={lowerCaseAttributeNames:!1};function Bn(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");return e===""?[]:(t=t||{},Dv(En(e,t.htmlparser2||RP),t))}Bn.domToReact=Dv;Bn.htmlToDOM=En;Bn.attributesToProps=MP;Bn.Element=bv().Element;vR.exports=Bn;xr.default=Bn;xr.domToReact;xr.htmlToDOM;xr.attributesToProps;xr.Element;const xi=xr,PP=({uid:e})=>{const{data:t,loading:r}=Fm({variables:{id:(e==null?void 0:e._id)||""}});return B(pa,{children:r?B(au,{"data-test":"ReplyAvatar-Spinner"}):B(jr,{url:Ft.getProfilePicture(t==null?void 0:t.user)??"",size:"L","data-test":"ReplyAvatar-Avatar"})})};X.div`
  display: flex;
  margin: 4px 0;
  padding: 0 2px;
  position: relative;
`;X.div`
  position: absolute;
  top: 0;
  height: 100%;
  padding-bottom: 20px;
`;X.div`
  ${e=>e.isLast?"border: none;":"border-left: 1px solid var(--bg-separator-neutral-highlighted);"}
  display: flex;
  width: 12px;
  left: -29px;
  top: -12px;
  height: 100%;
  position: absolute;
`;const xv=X.div`
  margin-left: 8px;
  justify-content: space-between;
  padding: 12px;
  background-color: var(--bg-comment-neutral-default);
  border-radius: 12px;
  font-family: var(--font-family);
  flex: 1;
`;X.div`
  margin-left: 8px;
  justify-content: space-between;
  padding: 12px;
  background-color: var(--bg-comment-neutral-default);
  border-radius: 12px;
  font-family: var(--font-family);
  flex: 1;
  position: relative;
  width: 73vw;
  &:before {
    border-left: 1px solid var(--bg-separator-neutral-highlighted);
    ${e=>e.hasReplies?"content: '';":"content: none;"}
    position: absolute;
    height: calc(100% - 8px);
    left: -31px;
    top: 34px;
  }

  @media (min-width: ${bt.TABLET}) {
    width: calc(100% - 34px);
  }
`;X.div`
  margin-left: 8px;
  justify-content: space-between;
  padding: 12px;
  background-color: var(--bg-comment-neutral-default);
  border-radius: 12px;
  font-family: var(--font-family);
  flex: 1;
`;X.div`
  ${Ot};
  gap: 10px;
`;const LP=X.div`
  display: flex;
  flex: 1;
  flex-direction: row;
  justify-content: space-between;
  padding-right: ${({rightSpace:e})=>e?"48px;":"o"};
  @media (max-width: ${bt.MOBILE_XL}) {
    flex-direction: column;
  }
`;X.div`
  width: 4px;
`;X.div`
  display: grid;
  width: 100%;
`;X.div`
  display: grid;
  width: calc(100% - 4px);
`;X(et)`
  margin-left: auto;
  flex-grow: 0;
  flex-shrink: 0;
  @media (max-width: ${bt.MOBILE_XL}) {
    margin-left: 0;
  }
`;const ip=X(et)`
  white-space: pre-wrap;
  word-wrap: break-word;
  overflow-wrap: anywhere;
  .mentions {
    color: var(--text-search-highlight-brand-primary-default);
    background-color: var(--bg-search-highlight-brand-secondary-default);
  }
`;X(rr)`
  color: var(--text-button-brand-primary-default);
  cursor: pointer;
  margin-top: 8px;
`;const NP=X(et)`
  flex: 1;
  cursor: ${({disabled:e})=>e?"default":"pointer"};
`;X.div`
  display: flex;
  margin: 4px 0;
  padding: 0 2px;
  position: relative;
  margin-left: 4px;
  padding-top: 12px;
  padding-bottom: 12px;
  cursor: pointer;
`;X.div`
  width: 80vw;
  margin-left: 4px;
  margin-top: 12px;
  display: flex;
  padding: 0 2px;
  position: relative;
  &:before {
    width: 27px;
    height: 38px;
    border-radius: 0 0 0 10px;
    border-left: 1px solid var(--bg-separator-neutral-highlighted);
    border-bottom: 1px solid var(--bg-separator-neutral-highlighted);
    content: '';
    position: absolute;
    left: -27px;
    top: -17px;
  }
  @media (min-width: ${bt.TABLET}) {
    width: 100%;
  }
`;X.div`
  color: var(--text-button-brand-primary-default);
  font-size: 14px;
  font-weight: 500;
  margin-left: 12px;
  font-family: var(--font-family);
`;X.div`
  align-items: center;
  grid-template-columns: 1fr auto;
  grid-gap: 12px;
  padding: 16px;
  border-top: 1px solid var(--bg-separator-neutral-default);
  border-bottom: 1px solid var(--bg-separator-neutral-default);
  margin-bottom: 12px;
  z-index: 2;
`;X.div`
  margin-left: 4px;
  margin-top: 12px;
  width: 100%;
`;X.img`
  min-width: 40px;
  width: 40px;
  height: 40px;
  border-radius: 8px;
  z-index: 1;
  cursor: pointer;
`;const $P=X.div`
  ${Ot};
  gap: 10px;
`,KP=X.div`
  z-index: 1;
  &:before {
    border-left: 1px solid var(--bg-separator-neutral-highlighted);
    border-bottom: 1px solid var(--bg-separator-neutral-highlighted);
    border-bottom-left-radius: 20px;
    position: absolute;
    content: '';
    left: -28px;
    top: -40px;
    width: 60px;
    height: 60px;
    display: ${({isReply:e})=>e?"block":"none"};
  }
`;X.div`
  ${Ot};
  ${Tn};
  align-content: center;
  justify-items: center;
  justify-content: center;
  font-size: 14px;
`;X.div`
  ${Ot};
  ${Tn};
  align-content: center;
  justify-items: center;
  justify-content: center;
`;const zP=X(rr)`
  padding: 0;
  min-width: auto;
  background-color: transparent !important;
`,Tv=X.div`
  ${Ot};
  ${Tn};
  align-items: flex-start;
  position: relative;
`,UP=X.div`
  ${ha};
  ${Tn};
  gap: 16px;
`,HP=X(xv)`
  background-color: unset;
  padding: 0;
  cursor: pointer;
`,jP=X(xv)`
  position: relative;
  background: var(--bg-comment-neutral-default);
  &:before {
    --top: ${({isReply:e})=>e?"7px":"40px"};
    border-left: 1px solid var(--bg-separator-neutral-highlighted);
    position: absolute;
    content: '';
    left: ${({isReply:e})=>e?"-84px":"-36px"};
    top: var(--top);
    height: calc(100% - var(--top));
    display: ${({isReplies:e})=>e?"block":"none"};
  }
`,WP=X.div`
  ${ha};
  ${Tn};
  gap: 16px;
  box-sizing: border-box;
  ${({hasChild:e})=>e?"padding-top: 16px;":"padding-top: 0px;"}
  ${({isNoumEditor2CommentView:e})=>e&&"padding:16px;"}
`,qP=X.div`
  ${Ot};
  ${Tn};
  gap: 16px;
  align-items: flex-start;
  position: relative;
  &:before {
    border-left: 1px solid var(--bg-separator-neutral-highlighted);
    border-bottom: 1px solid var(--bg-separator-neutral-highlighted);
    border-bottom-left-radius: 20px;
    position: absolute;
    content: '';
    left: -28px;
    top: -23px;
    width: 35px;
    height: 35px;
    display: ${({isReply:e})=>e?"block":"none"};
  }
`;X(Tv)`
  justify-content: space-between;
`;const Fv=X.div`
  cursor: pointer;
  ${Ot};
  align-self: baseline;
  align-items: center;
  justify-content: ${({isNoumEditor2CommentView:e})=>e?"flex-end":"flex-start"};
  color: var(--text-button-brand-primary-default);
`,Ov=X.div`
  position: relative;
  width: 24px;
  height: 24px;
  justify-self: center;
  align-self: center;
`,VP=X.div`
  display: flex;
  flex-direction: row;
  width: 100%;
  gap: 12px;
  border: 1px solid var(--bg-separator-neutral-default);
  border-left: 0;
  border-right: 0;
  padding: 8px 0;
  font-size: 16px;
  z-index: 2;
`;X(Om)`
  display: flex;
  flex-direction: column;
  justify-content: end;
  align-content: flex-end;
  padding: 4px;
  position: relative;
`;X.img`
  height: 20px;
  width: 20px;
  position: relative;
  left: 50%;
`;const GP=X(et)`
  font-size: var(--font-body-medium-size);
`;X.div`
  position: absolute;
  top: 0;
  left: 0;
  height: 100%;
  padding-bottom: 20px;
`;X.div`
  border-left: 1px solid var(--bg-separator-neutral-highlighted);
  border-bottom: 1px solid var(--bg-separator-neutral-highlighted);
  border-bottom-left-radius: 20px;
  display: flex;
  width: 26px;
  left: -28px;
  top: -124px;
  height: 144px;
  position: absolute;
  ${({variant:e})=>e==="short"&&`
      top: -134px;
      height: 144px;
  `}
  ${({variant:e})=>e==="first-item"&&`
      top: -70px;
      height: 90px;
  `}
`;const XP=({uid:e,onClick:t,isReply:r=!1})=>{var a;return B(KP,{onClick:t,isReply:r,"data-test":"CommentAvatar-AvatarContainer",children:(a=e==null?void 0:e.profile)!=null&&a.profilePicture?B(jr,{url:Ft.getProfilePicture(e)??"",size:"L","data-test":"CommentAvatar-Avatar"}):B(PP,{uid:e,"data-test":"CommentAvatar-ReplyAvatar"})})},YP=T.memo(({isOpen:e,cancelCallback:t,confirmCallback:r,type:a})=>{const{t:n}=Fr();return B(cy,{positiveBtnLabel:n(a==="reply"?"noumena.reply_delete_confirm_btn":"noumena.comment_delete_confirm_btn"),negativeBtnLabel:n("noumena.comment_delete_cancel_btn"),positiveBtnType:"primary",positiveBtnIntent:"negative",title:n(a==="reply"?"noumena.container.reply_delete_title":"noumena.container.comment_delete_title"),description:n("noumena.container.comment_delete.description"),isOpen:e,cancelCallback:t,confirmCallback:r,"data-test":"DeleteCommentModal-ChamberActionModal"})}),ZP=X.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  cursor: pointer;
`,JP=X(st)`
  cursor: pointer;
`,QP=({onHandleSelect:e,type:t})=>{const{t:r}=Fr(),[a,n]=gp(!1),[i,s]=T.useState(),l=[{key:"delete-post",label:r("noumena.delete"),type:"value",value:"Delete",description:"",labelColor:"--text-tablecell-header-danger-primary-highlighted",icon:B(st,{name:"delete_m",size:24,color:"--icon-tablecell-danger-primary-default","data-test":"CommentActions-Delete-Icon"})}];return be(pa,{children:[B(ki,{"data-testid":"commentActions",closeOnSelect:!0,placement:"bottom-end",options:l,containerWidth:"121px",minHeight:`${50*l.length}px`,onSelectOption:f=>{f.value==="Delete"&&(s(f),n())},usePortal:!1,calRefTop:!1,isAnimation:!1,usePopStyle:!0,observerMinHeight:"0",padding:"0px","data-test":"CommentActions-Dropdown",children:({targetProps:f,targetRef:p,toggle:v})=>B(ZP,{ref:p,...f,onClick:v,"data-test":"CommentActions-DropdownPicker",children:B(JP,{name:"more_m",size:24,color:"--icon-card-neutral-default","data-test":"CommentActions-MoreIcon"})})}),a&&B(YP,{confirmCallback:()=>{e(i),n()},cancelCallback:n,isOpen:!0,type:t,"data-test":"CommentActions-DeleteCommentModal"})]})},e3=({item:e,isReply:t,postId:r,deleteComment:a,deleteReply:n,isPostOwner:i,isLastItem:s,isNoumEditor2CommentView:u})=>{const l=bp(),{addToast:f}=Tr(),[p,v]=T.useState(!1),[h,E]=T.useState(!1),[y,_]=T.useState(!1),b=T.useCallback(()=>{E(!0);const V=setTimeout(()=>{E(!1),clearInterval(V)},3600)},[E]),{t:C}=Fr(),{content:A,uid:w,__typename:F,_id:x}=e,I=er(()=>{if((O==null?void 0:O.userStatus)===yt.Pending){if(h)return;f("primary","none",C("noumena.community.userIsNotActive.reply")),b();return}v(!p)}),R=T.useMemo(()=>vp(e),[e]),P=T.useMemo(()=>A==null?void 0:A.includes(mp),[A]),{isUnregistered:M,user:O}=pr(),N=T.useMemo(()=>yp(e,void 0,M),[e,M]),U=T.useCallback(V=>{V.value==="Delete"&&(t?n():a(r,x))},[x,r,a,t,n]),H=T.useMemo(()=>{var G,W;const V=(G=O==null?void 0:O.roles)==null?void 0:G.find(J=>(J==null?void 0:J.roleType)==="ADMIN");return!!(((W=e==null?void 0:e.uid)==null?void 0:W._id)===(O==null?void 0:O._id)||V||i)},[O,e,i]),K=T.useCallback(()=>{var V;(V=w==null?void 0:w.chamber)!=null&&V._id&&!M&&!Ft.isUnregistered(w)&&l(`/noum/${w.chamber._id}`)},[M,l,w]);return Fn.isEmpty(e)?null:be(Tv,{"data-test":"CommentItem-CommentContainer",children:[B(XP,{uid:w,onClick:K,isReply:t,"data-test":"CommentItem-CommentAvatar"}),be(HP,{"data-test":"CommentItem-CommentsItemContainer",children:[be(jP,{isReplies:!!(e!=null&&e.replies)||t&&!s||y,isReply:t,"data-test":"CommentItem-CommentsListWrapper",children:[be($P,{"data-test":"CommentItem-HeadLine",children:[B(LP,{rightSpace:H,"data-test":"CommentItem-NameWrapper",children:B(NP,{font:"body-m-bold",colorToken:"--text-comment-header-neutral-highlighted",onClick:K,disabled:M||Ft.isUnregistered(w),"data-test":"CommentItem-StyledName",children:Ft.renderName(w)})}),H&&B(QP,{onHandleSelect:U,type:t?"reply":void 0,"data-test":"CommentItem-CommentActions"})]}),B(oa,{width:4,"data-test":"CommentItem-Spacer"}),P?B(ip,{font:"body-m",colorToken:"--text-comment-neutral-highlighted","data-test":"CommentItem-StyledText",children:R==null?void 0:R.map(V=>B(T.Fragment,{children:typeof V=="string"?xi(V):V},Cn()))}):B(ip,{font:"body-m",colorToken:"--text-comment-neutral-highlighted","data-test":"CommentItem-StyledText",children:N==null?void 0:N.map(V=>B(T.Fragment,{children:typeof V=="string"?xi(V):V},Cn()))}),F==="Comments"&&B(Fv,{onClick:I,isNoumEditor2CommentView:u,"data-test":"CommentItem-ButtonWrap",children:B(et,{font:"body-m",colorToken:"--text-button-brand-primary-default","data-test":"CommentItem-TSpan",children:C("noumena.comments.reply")})})]}),B(kv,{id:e._id,isReply:!0,replies:e.replies||void 0,parentId:r,isPostOwner:i,showInput:p,handleCreate:()=>{},setIsReplies:_,isReplies:y,level:1,"data-test":"CommentItem-CommentsList"})]})]})},t3=24,r3=8,ia=1e3,op=({setContent:e,createComment:t=()=>{},posting:r=!1,addTag:a=()=>{},isReply:n})=>{const[i,s]=T.useState(""),{t:u}=Fr(),l=T.useMemo(()=>i.length>ia||!i.trim(),[i]),f=T.useCallback(p=>{s(p.slice(0,ia)),e(p.slice(0,ia))},[e]);return be(VP,{"data-test":"CommentItemAdd-CommentInputContainer",children:[B("div",{style:{width:0,flex:1},children:B($p,{val:i,setVal:f,addTag:a,error:!1,isTextArea:!0,textAreaHeight:64,maxLength:ia,placeholder:n?u("noumena.reply.placeholder"):void 0,"data-test":"CommentItemAdd-Mention"})}),r?B(Ov,{"data-test":"CommentItemAdd-SpinnerContainer",children:B(au,{"data-test":"CommentItemAdd-Spinner"},"Spinner")}):B(zP,{"data-testid":"comment-item-add-send",neutral:!0,disabled:l,icon:B(st,{color:l?"--icon-button-neutral-disabled":"--icon-button-neutral-pressed",name:"send_m",size:t3,"data-test":"CommentItemAdd-Icon"}),onClick:t,"data-test":"CommentItemAdd-SendButton"})]})},n3=e=>{const{pictures:t}=e,r=T.useMemo(()=>[...t].length===1?jr:[...t].length>2?km:Bm,[t]);return B(r,{url:t[0],urls:t,size:"M","data-test":"LoadMoreAvatar-UserAvatar"})},a3=({handleLoadMore:e,isReplies:t,count:r,replies:a})=>{const{t:n}=Fr(),i=T.useMemo(()=>{var u;return(a==null?void 0:a.userIdList)||((u=a||[])==null?void 0:u.map(l=>({_id:l==null?void 0:l.uid})))||[]},[a]),s=T.useMemo(()=>[...new Set(i.map(u=>{var l,f;return(f=(l=u==null?void 0:u._id)==null?void 0:l.profile)==null?void 0:f.profilePicture}))].slice(0,3),[i]);return be(qP,{isReply:t,"data-test":"LoadMore-LoadMoreContainer",children:[B(n3,{pictures:s,"data-test":"LoadMore-LoadMoreAvatar"}),B(Fv,{onClick:e,"data-test":"LoadMore-ButtonWrap",children:be(GP,{font:"button-s",colorToken:"--text-button-brand-primary-default","data-test":"LoadMore-LoadMoreText",children:[`${n("noumena.load.more.Show")} ${r} ${n("noumena.load.more.earlier")} `," ",t?`${n("noumena.replies")}`:`${n("noumena.comments")}`]})})]})},kv=({isPostOwner:e,id:t,isReply:r=!1,replies:a,showInput:n=!1,handleCreate:i,handleDelete:s,isReplies:u,setIsReplies:l,parentId:f,level:p,isNoumEditor2CommentView:v})=>{var ze;const{user:h}=pr(),{userStatus:E}=h||{},y=T.useMemo(()=>r?Im:Mm,[r]),[_]=Rm(),[b]=Pm(),C=r?b:_,A=T.useMemo(()=>({limit:r?1:r3,offset:0,postId:t,commentId:t}),[t,r]),{data:w,loading:F,fetchMore:x,refetch:I}=y({variables:A,fetchPolicy:"cache-and-network",skip:!wp(t)}),R=T.useMemo(()=>r?"getRepliesByCommentId":"postComments",[r]),P=T.useCallback(ce=>{var ge;return((ge=ce==null?void 0:ce[R])==null?void 0:ge.data)||[]},[R]),[M,O]=T.useState([]),[N,U]=T.useState(!1),H=T.useMemo(()=>{var ce;return((ce=w==null?void 0:w[R])==null?void 0:ce.count)||0},[w,R]),[K,V]=T.useState(E!==yt.Pending),[G,W]=T.useState(""),[J,Y]=T.useState([]),ne=er(async({_id:ce})=>{U(!0),C({variables:{_id:ce,commentId:ce,content:G.trim(),tags:J}}).then(async()=>{var Pe,Ue;const ge=await I();i==null||i(),p===0?O([(Pe=P(ge==null?void 0:ge.data))==null?void 0:Pe[0],...M]):p===1&&O([...M,(Ue=P(ge==null?void 0:ge.data))==null?void 0:Ue[0]]),V(!1),setTimeout(()=>V(E!==yt.Pending),0)}).finally(()=>U(!1))}),Q=er(()=>{G&&(ne({_id:t,id:t,content:G.slice(0,ia),tags:J}),nu("comment_on_post",{DeviceType:navigator.userAgent,UUID:h==null?void 0:h._id,PostId:t}))}),we=async()=>{var Ue;let ce=gi.Desc,ge=M.length;p===1&&(ce=gi.Asc,ge=0);const{data:Pe}=await x({variables:{...A,sortOrder:ce,offset:ge,limit:void 0}});p===0?O(ke=>{var ve;return[...ke,...((ve=Pe==null?void 0:Pe[R])==null?void 0:ve.data)||[]]}):p===1&&O([...((Ue=Pe==null?void 0:Pe[R])==null?void 0:Ue.data)||[]])},Le=T.useCallback(ce=>{const ge=[...J,{uid:ce}];Y(ge)},[Y,J]);T.useLayoutEffect(()=>O(P(w)),[w,F,P]);const[Ee]=Lm({}),ae=T.useCallback((ce,ge)=>{Ee({variables:{_id:ce,commentId:ge}}).then(()=>{I()}).catch(()=>{I()})},[I,Ee]);T.useEffect(()=>{u!==!!M.length&&(l==null||l(!!M.length))},[u,M,l]);const[pe]=Nm(),Te=T.useCallback((ce,ge,Pe)=>{pe({variables:{commentId:ce,postId:ge,replyId:Pe}}).then(()=>{I()}).catch(()=>{I()})},[I,pe]);return be(WP,{hasChild:M.length>0,isNoumEditor2CommentView:v,"data-test":"CommentsList-CommentsListContainer",children:[K&&!r&&B(op,{setContent:W,createComment:Q,isReply:r,posting:N,addTag:Le,"data-test":"CommentsList-CommentItemAdd"}),F&&B(Ov,{"data-test":"CommentsList-SpinnerContainer",children:B(au,{"data-test":"CommentsList-Spinner"},"Spinner")}),(M==null?void 0:M.length)<H&&B(a3,{handleLoadMore:we,isReplies:r,replies:a||((ze=w==null?void 0:w.postComments)==null?void 0:ze.data)||[],count:H-M.length,"data-test":"CommentsList-LoadMore"}),M&&B(UP,{"data-test":"CommentsList-CommentsContainer",children:M==null?void 0:M.map((ce,ge)=>ce?B(e3,{deleteComment:(Pe,Ue)=>{ae(Pe,Ue),s==null||s()},deleteReply:()=>{Te(t,f||"",ce==null?void 0:ce._id)},isPostOwner:e,postId:t,isReply:r,item:ce,isLastItem:ge===M.length-1,isNoumEditor2CommentView:v,"data-test":"CommentsList-CommentItem"},ce._id):null)}),K&&r&&n&&B(op,{setContent:W,createComment:Q,isReply:r,posting:N,addTag:Le,"data-test":"CommentsList-CommentItemAdd"})]})},i3=({item:e,isPost:t=!1})=>{const r=t?e==null?void 0:e.text:e==null?void 0:e.content,{isUnregistered:a}=pr(),n=T.useMemo(()=>r==null?void 0:r.includes(mp),[r]),i=T.useMemo(()=>vp(e,t,a),[e,t,a]),s=T.useMemo(()=>yp(e,t,a),[e,t,a]);return B(Oo,{"data-test":"ParsedContent-StyledText",children:n?B(Oo,{"data-test":"ParsedContent-StyledText",children:i==null?void 0:i.map(u=>B(T.Fragment,{children:typeof u=="string"?xi(u):u},Cn()))}):B(Oo,{"data-test":"ParsedContent-StyledText",children:s==null?void 0:s.map(u=>B(T.Fragment,{children:typeof u=="string"?xi(u):u},Cn()))})})},o3={key:"report-post",label:te("noumena.report"),type:"value",value:"Report",description:"",fontFamily:"var(--font-body-medium-bold-font)",labelColor:"--text-tablecell-header-neutral-highlighted",icon:B(st,{name:"report_m",size:24,color:"--icon-tablecell-neutral-highlighted","data-test":"Report-Icon"})},s3={key:"edit-post",label:te("noumena.chamber.edit_button"),type:"value",value:"Edit",description:"",fontFamily:"var(--font-body-medium-bold-font)",labelColor:"--text-tablecell-header-neutral-highlighted",icon:B(st,{name:"edit_m",size:24,color:"--icon-tablecell-neutral-highlighted","data-test":"Edit-Icon"})},u3={key:"delete-post",label:te("noumena.delete"),type:"value",value:"Delete",description:"",fontFamily:"var(--font-body-medium-bold-font)",labelColor:"--text-tablecell-header-danger-primary-highlighted",icon:B(st,{name:"delete_m",size:24,color:"--icon-tablecell-danger-primary-default","data-test":"Delete-Icon"})},sp=[{key:"pin-post",label:te("noumena.pin"),type:"value",value:"Pin",description:"",fontFamily:"var(--font-body-medium-bold-font)",labelColor:"--text-tablecell-header-neutral-highlighted",icon:B(st,{name:"pin_m",size:24,color:"--icon-tablecell-neutral-highlighted","data-test":"pinningOptions-Icon"})},{key:"unpin-post",label:te("noumena.unpin"),type:"value",value:"Unpin",description:"",fontFamily:"var(--font-body-medium-bold-font)",labelColor:"--text-tablecell-header-neutral-highlighted",icon:B(st,{name:"unpin_m",size:24,color:"--icon-tablecell-neutral-highlighted","data-test":"pinningOptions-Icon"})}],up=[s3,o3,u3],l3=X.div`
  position: relative;
  width: 100%;
  gap: 16px;
  ${ha}
  ${$m}
  border-radius: ${({pageView:e,noumEditor2:t,isPostView:r})=>t&&!r||e?"0":"16px"};
  padding: ${({pageView:e,noumEditor2:t,isCommunity:r,isPostView:a})=>t&&!r&&!e?"16px 0 0 0":a?"16px 0 8px 0 ":"16px 16px 8px 16px"};
  align-items: flex-start;
  background: var(--bg-card-neutral-alt-default);
  border-bottom: 1px solid var(--border-card-neutral-highlighted);
  border: ${({isPinned:e,pageView:t,noumEditor2:r})=>r?"none":t?"unset":e?"1px solid var(--border-card-brand-primary-default)":"1px solid var(--border-card-neutral-highlighted)"};
  ${({noumEditor2:e})=>e&&"border-bottom:1px solid var(--border-card-neutral-highlighted)"};
  margin-top: ${({isMarginTop:e,pageView:t,noumEditor2:r})=>t||r?"0px":e?"20px":"6px"};

  @media ${Km.LAPTOP} {
    border-radius: ${({noumEditor2:e,isPostView:t})=>e&&!t?"0":"16px"};
  }
`,c3=X.div`
  ${Ot};
  width: 100%;
  gap: 12px;
  ${({noumEditor2:e})=>e&&"padding: 0 16px"};
  box-sizing: border-box;
`,f3=X.div``,d3=X.div`
  ${Ot};
  gap: 6.5px;
  align-items: center;
`,p3=X.div`
  ${ha};
  align-items: flex-start;
  flex: 1;
`,h3=X.div`
  ${Ot};
  // TODO: temporary change for NOUM-5913
  // gap: 8px;
`;X(et)`
  white-space: pre-line;
  word-break: break-word;
  width: 100%;
  align-self: flex-start;
  ${({collapsed:e})=>e&&"white-space: normal"}
`;const g3=X(et)`
  text-decoration: underline;
  cursor: pointer;
  padding-left: 8px;
`,v3=X.div`
  width: 100%;
  ${ha}
  .video-js {
    width: 100%;
    min-width: 100%;
    max-width: 100%;
    max-height: 296px;

    .vjs-big-play-button {
      margin-left: -1em;
      margin-top: -1rem;
      width: 56px;
      height: 56px;
      background-color: var(--bg-button-brand-primary-default);
      border-color: var(--border-button-brand-primary-default);
      border-radius: 8px;
      .vjs-icon-placeholder:before {
        top: 4px;
      }
    }
  }
`,m3=X.img`
  cursor: pointer;
  object-fit: cover;
  width: 100%;
  height: 100%;
  ${({noumEditor2:e})=>!e&&"max-height: 500px;"}
  object-fit: ${({noumEditor2:e})=>e?"cover":"contain"};
`,y3=X.div`
  ${Ot};
  gap: 8px;
  width: 100%;
  justify-content: flex-start;
  ${({noumEditor2:e})=>e&&"padding: 0 16px;"};
  box-sizing: border-box;
`,E3=X.div`
  ${Ot};
  box-sizing: border-box;
  padding: ${({noumEditor2:e})=>e?"8px 16px":"8px 0 8px 0"};
  width: 100%;
  ${({noumEditor2:e})=>!e&&"border-top-width: 1px"};
  border-color: var(--bg-separator-neutral-default);
  ${({noumEditor2:e})=>!e&&"border-top-style: solid"};
  gap: 4px;
  justify-content: ${({noumEditor2:e})=>e?"space-between":"flex-start"};
`,lp=X.div`
  cursor: ${({disable:e})=>e===!0?"not-allowed":"pointer"};
  ${Ot};
  display: flex;
  align-items: center;
  span {
    line-height: 100%;
  }
  ${({disable:e})=>e&&"pointer-events: none;"}
`,_3=X.div`
  position: absolute;
  top: -11px;
  flex: 1;
  background: var(--bg-card-neutral-alt-default);
`,b3=X.div`
  width: 100%;
  white-space: break-spaces;
  max-height: ${({isCollapsed:e})=>e?"150px":"500px"};
  overflow: ${({isCollapsed:e})=>e?"hidden":"auto"};
  ${({noumEditor2:e})=>e&&"padding: 0 16px;"};
  box-sizing: border-box;
`,S3=e=>{var M,O,N,U;const{data:t,options:r,userType:a,onHandleSelect:n,isPinned:i=!1,selectedCustomPreviewTab:s,size:u="M",isPostAuthor:l}=e,{isSpaceOwner:f,noumEditor2:p,isCustomPreview:v}=lu(),{isLoading:h}=zm(),{pathname:E}=Sp(),y=T.useMemo(()=>{var H,K,V;return eu((H=t.uid)==null?void 0:H.firstName,(K=t.uid)==null?void 0:K.middleName,(V=t.uid)==null?void 0:V.lastName)},[t.uid]),_=T.useMemo(()=>Ft.isUnregistered(t.uid),[t.uid]),b=T.useMemo(()=>E.startsWith("/post/")||E.startsWith("/posts/"),[E]),C=T.useMemo(()=>E.startsWith("/community"),[E]),A=T.useMemo(()=>Ft.isInactive(t.uid),[t.uid]),w=T.useMemo(()=>h||A||_,[A,h,_]),F=T.useMemo(()=>{var H,K;return w?"":`/noum/${(K=(H=t==null?void 0:t.uid)==null?void 0:H.chamber)==null?void 0:K._id}`},[(O=(M=t==null?void 0:t.uid)==null?void 0:M.chamber)==null?void 0:O._id,w]),x=T.useMemo(()=>({textDecoration:"none",cursor:w?"default":"pointer"}),[w]),I=T.useMemo(()=>(t==null?void 0:t.visibility)===ht.All?"":(t==null?void 0:t.visibility)===ht.Follower?`  ${te("noumena.chambers.element.posts.visibility_followers")}`:`  ${Fn.capitalize(t.visibility||"")}`,[t.visibility]),{addPrimaryIconToast:R}=Tr(),P=T.useCallback(()=>{(A||_)&&R(te("noumena.calendar.notification.button.inactive_user"))},[R,A,_]);return be(c3,{noumEditor2:p&&!v,"data-test":"PostItemHead-ItemHead",children:[B(Bo,{to:F,style:x,onClick:P,"data-test":"PostItemHead-NavLink",children:B(f3,{"data-test":"PostItemHead-AvatarContainer",children:B(jr,{url:Ft.getProfilePicture(t.uid)??"",size:!C&&p?"L":u,"data-test":"PostItemHead-Avatar"})})}),be(p3,{"data-test":"PostItemHead-NameWrap",children:[be(d3,{"data-test":"PostItemHead-PostDetailsWrapper",children:[B(Bo,{to:F,style:x,onClick:P,"data-test":"PostItemHead-NavLink",children:B(et,{font:"body-l-bold",colorToken:"--text-card-header-neutral-highlighted","data-test":"PostItemHead-TSpan",children:A?te("noumena.inactive_user"):y})}),b&&(t==null?void 0:t.chamber)&&be(pa,{children:[B(st,{name:"arrow_right_m",size:24,color:"--icon-button-neutral-default","data-test":"PostItemHead-Icon"}),B(Bo,{to:`/noum/${(N=t.chamber)==null?void 0:N._id}`,style:x,onClick:P,"data-test":"PostItemHead-NavLink",children:B(et,{font:"body-l-bold",colorToken:"--text-card-header-neutral-highlighted","data-test":"PostItemHead-TSpan",children:(U=t.chamber)==null?void 0:U.name})})]})]}),be(h3,{"data-test":"PostItemHead-TimeWrap",children:[_&&B(et,{font:"body-s",colorToken:"--text-timestamp-neutral-highlighted","data-test":"PostItemHead-TSpan",children:`${te("noumena.chamber_edit.modal.non_member")}  `}),B(et,{font:"body-s",colorToken:"--text-timestamp-neutral-highlighted","data-test":"PostItemHead-TSpan",children:I}),i&&be(Um,{"data-test":"PostItemHead-PinTab",children:[B(st,{name:"pin_m",size:16,color:"--icon-tag-neutral-alt-default",style:{maxHeight:"100%"},isPinned:!0,"data-test":"PostItemHead-Icon"}),B(Hm,{"data-test":"PostItemHead-PinTabText",children:te("noumena.post.pinned_post")})]})]})]}),s!==As.Preview&&B(K0,{isPostAuthor:l,isOwner:f,isInactive:A,userType:a,onHandleSelect:n,options:r,"data-test":"PostItemHead-PinDotsItem"})]})},C3=e=>{const{data:t,userId:r,userType:a,isCommentsVisible:n,commentsCount:i,handleComment:s,handleThumbUp:u}=e,{addToast:l}=Tr(),[f]=jm(),[p]=Wm(),{isSpaceOwner:v,noumEditor2:h,isCustomPreview:E}=lu(),y=a===yt.Pending,_=cu(),b=T.useMemo(()=>_("POST","COMMENT",v?"OWNER":a)||Ft.isInactive(t.uid),[t.uid,_,v,a]),C=T.useCallback(()=>{var K,V;return t.userReaction?t.userReaction===Ul.Like:(V=(K=t==null?void 0:t.reactions)==null?void 0:K.find)==null?void 0:V.call(K,G=>{var W;return((W=G==null?void 0:G.uid)==null?void 0:W._id)===(r||"")})},[t==null?void 0:t.reactions,t.userReaction,r]),[A,w]=T.useState(C()),[F,x]=T.useState(!1);T.useEffect(()=>w(C()),[C]);const I=T.useCallback(()=>{x(!0);const K=setTimeout(()=>{x(!1),clearInterval(K)},3600)},[x]),R=T.useCallback(()=>{l("primary","none",te("noumena.community.userIsNotActive.like")),I()},[l,I]),P=A?p:f,M=T.useCallback(async()=>{x(!0),w(K=>!K),u==null||u(A?"UnLike":"LIKE"),await P({variables:{_id:t._id,type:Ul.Like}}),A&&nu("liked_post",{DeviceType:navigator.userAgent,PostId:t._id}),x(!1)},[u,A,P,t._id]),O=A?"--icon-card-brand-primary-default":"--icon-card-neutral-default",N=A?"--button-card-brand-primary-default":"--button-card-neutral-default",U=n?"--icon-card-brand-primary-default":"--icon-card-neutral-default",H=n?"--button-card-brand-primary-default":"--button-card-neutral-default";return be(E3,{noumEditor2:h&&!E,"data-test":"PostItemFooter-ItemFooter",children:[be(lp,{onClick:y?R:M,disable:F||!b,"data-test":"PostItemFooter-ButtonWrap",children:[B(st,{name:"thumb_up_m",size:24,color:O,"data-test":"PostItemFooter-Icon"}),B(oa,{width:10,"data-test":"PostItemFooter-Spacer"}),B(et,{font:"body-m-bold",colorToken:N,"data-test":"PostItemFooter-TSpan",children:A?te("noumena.reaction.liked"):te("noumena.reaction.like")})]}),B(oa,{width:24,"data-test":"PostItemFooter-Spacer"}),be(lp,{onClick:s,disable:!b,"data-test":"PostItemFooter-ButtonWrap",children:[B(st,{name:"message_m",size:24,color:U,"data-test":"PostItemFooter-Icon"}),B(oa,{width:10,"data-test":"PostItemFooter-Spacer"}),B(et,{font:"body-m-bold",colorToken:H,"data-test":"PostItemFooter-TSpan",children:i||te("noumena.reaction.comment")})]})]})},w3=[{value:lr.Offensive,label:te("noumena.chambers.element.posts.report.reason.offensive.label"),description:te("noumena.chambers.element.posts.report.reason.offensive.description"),borderBottom:!0},{value:lr.Safety,label:te("noumena.chambers.element.posts.report.reason.privacy_safety.label"),description:te("noumena.chambers.element.posts.report.reason.privacy_safety.description"),borderBottom:!0},{value:lr.Jerk,label:te("noumena.chambers.element.posts.report.reason.jerk_rule.label"),description:te("noumena.chambers.element.posts.report.reason.jerk_rule.description"),borderBottom:!0},{value:lr.Other,label:te("noumena.chambers.element.posts.report.reason.other.label"),description:te("noumena.chambers.element.posts.report.reason.other.description"),borderBottom:!1}],A3=X(dr)`
  padding: 20px 16px;
  @media (max-width: ${bt.MOBILE_MAX}) {
    padding: 20px 0;
  }
`,D3=({label:e,value:t,description:r,isChecked:a,borderBottom:n,reportText:i,onSelect:s,onChangeText:u,isOtherChecked:l,error:f})=>{const p=v=>{v&&t&&s(t)};return be(A3,{"data-testid":"report_reason_container",fullWidth:!0,gap:16,borderBottom:n,align:"center","data-test":"ReportReasonItem-StyledStack",children:[be(dr,{vertical:!0,fullWidth:!0,"data-test":"ReportReasonItem-Stack",children:[B(et,{"data-testid":"report_reason_label",font:"body-l-bold",colorToken:"--text-tablecell-header-neutral-highlighted","data-test":"ReportReasonItem-TSpan",children:e}),B(et,{"data-testid":"report_reason_description",font:"body-m",colorToken:"--text-tablecell-body-neutral-default","data-test":"ReportReasonItem-TSpan",children:r}),l&&be(pa,{children:[B(oa,{height:16,"data-test":"ReportReasonItem-Spacer"}),B(ru,{"data-testid":"report_reason_text_input",value:i,disabled:!l,autoFocus:!0,onChange:u,label:te("noumena.chambers.element.posts.report.reason.other.reason_placeholder"),error:f,helperText:f?te("noumena.email_login_form.valid_email.field_empty"):"","data-test":"ReportReasonItem-TextField"})]})]}),B(dr,{"data-test":"ReportReasonItem-Stack",children:B(fy,{isChecked:a,onChange:p,icon:B(st,{name:"flag_pl_m",size:12,color:a?"--icon-radiobutton-brand-primary-default":"--icon-checkbox-neutral-alt-default","data-test":"ReportReasonItem-Icon"}),"data-test":"ReportReasonItem-Radiobox"})})]})},x3=({onClose:e})=>be(Mi,{open:!0,testId:"report_post_success",disableEscapeKeyDown:!0,disableBackdropClick:!0,onClose:e,size:Ri.S,"data-test":"ReportSuccessModal-Modal",children:[B(Ti,{"data-testid":"report_post_success_title","data-test":"ReportSuccessModal-ModalHeader",children:te("noumena.chambers.element.posts.success.report.title")}),B(Ii,{"data-test":"ReportSuccessModal-ModalBody",children:B(et,{textAlign:"center","data-testid":"report_post_success_description",font:"body-l",colorToken:"--text-modal-neutral-default","data-test":"ReportSuccessModal-TSpan",children:te("noumena.chambers.element.posts.success.report.description")})}),B(Oi,{"data-test":"ReportSuccessModal-ModalFooter",children:B(rr,{primary:!0,testId:"report_post_success_close_btn",onClick:e,size:"full","data-test":"ReportSuccessModal-Button",children:te("noumena.close")})})]}),T3=({postId:e,onClose:t})=>{const r=Fi(),{user:a}=pr(),{addToast:n}=Tr(),i=r.width<Bi.TABLET,[s,u]=gp(!1),[l,f]=T.useState(),[p,v]=T.useState(""),[h,E]=T.useState(!1),[y,{loading:_}]=qm(),b=T.useMemo(()=>l?l!==lr.Other?!0:l===lr.Other&&!!p:!1,[l,p]),C=T.useCallback(async()=>{if((a==null?void 0:a.userStatus)===yt.Pending||Ft.isInactive(a)){n("primary","none",te("noumena.community.userIsNotActive.report"));return}e?l?l===lr.Other&&!p?n("error","none",te("noumena.chambers.element.posts.error.report.report_text_required")):await y({variables:{input:{postId:e,reportType:l,reportText:p}}}).then(()=>{u(),n("success","icon",te("noumena.chambers.element.posts.success.report"))}).catch(()=>{n("error","none",te("noumena.chambers.element.posts.error.report_failed"))}):n("error","none",te("noumena.chambers.element.posts.error.report.report_type_required")):n("error","none",te("noumena.chambers.element.posts.error.report.post_id_required"))},[a,e,l,p,n,y,u]),A=T.useCallback(w=>{w.target.value?E(!1):E(!0),v(w.target.value)},[v]);return s?B(x3,{onClose:t,"data-test":"ReportPostModal-ReportSuccessModal"}):be(Mi,{open:!0,testId:"report_post",onClose:t,disableBackdropClick:_,disableEscapeKeyDown:_,enableCloseButton:!0,size:Ri.L,"data-test":"ReportPostModal-Modal",children:[B(Ti,{rightMobileContainer:B(rr,{testId:"report_submit_btn",disabled:!b,primary:!0,loading:_,size:"small",onClick:C,"data-test":"ReportPostModal-Button",children:te("noumena.report")},"report_submit_btn"),"data-testid":"report_header",justifyContent:i?"right":"center","data-test":"ReportPostModal-ModalHeader",children:te("noumena.chambers.element.posts.report.title")}),B(Ii,{"data-testid":"report_reason_wrapper","data-test":"ReportPostModal-ModalBody",children:w3.map(w=>B(D3,{value:w.value,label:w.label||"",description:w.description||"",onSelect:f,isChecked:l===w.value,reportText:p,onChangeText:A,isOtherChecked:l===lr.Other&&w.value===lr.Other,error:h,"data-test":"ReportPostModal-ReportReasonItem"},w.label))}),B(Oi,{"data-test":"ReportPostModal-ModalFooter",children:!i&&B(rr,{testId:"report_submit_btn",disabled:!b,primary:!0,loading:_,size:"full",onClick:C,"data-test":"ReportPostModal-Button",children:te("noumena.report")},"report_submit_btn")})]})};X.div`
  width: 100%;
  justify-content: center;
  align-items: center;
  text-align: left;
`;const R3=e=>{var Jr;const{data:t,collapsed:r,recent:a,refetch:n=()=>{},isPinningEnabled:i=!1,isMasterNoum:s,isMarginTop:u=!1,isCommunity:l=!1,selectedCustomPreviewTab:f,forceRender:p,setForceRender:v,pageView:h,size:E}=e,{flags:{postRte:y}}=Qs(),{isPinned:_=!1}=t,{t:b}=Fr(),{addToast:C,addSuccessIconToast:A}=Tr(),[w,F]=T.useState(void 0),[x,I]=T.useState((t==null?void 0:t.commentsCount)||0),{pathname:R}=Sp(),P=bp(),{refetchPosts:M,isSpaceOwner:O,space:N,noumEditor2:U,isCustomPreview:H,deletePost:K,isDeleting:V}=lu(),[G,{loading:W}]=fp(),[J]=Vm(),{user:Y}=pr(),ne=((Jr=t.uid)==null?void 0:Jr._id)===(Y==null?void 0:Y._id),{logError:Q}=Gm(),[we,Le]=T.useState(r),[Ee,ae]=T.useState(!1),[pe,Te]=T.useState(""),[ze,ce]=T.useState(t==null?void 0:t.reactions),ge=my(),Pe=cu(),Ue=_?sp[1]:sp[0],ke=i?[Ue,...up]:up,[ve]=Xm({fetchPolicy:"cache-and-network",onCompleted:re=>{var Qe;re.postComments&&I(((Qe=re.postComments)==null?void 0:Qe.count)??0)}}),Ae=Un({path:zn.NOUM},R),qe=Un({path:zn.HOME_NOUM},R),Fe=Un({path:zn.POSTS},R),ie=Un({path:zn.POST},R),me=Un({path:zn.COMMUNITY},R),[De,le]=T.useState(!1),je=T.useCallback(()=>{le(!0);const re=setTimeout(()=>{le(!1),clearInterval(re)},3600)},[le]),se=T.useMemo(()=>{var dt;if((Y==null?void 0:Y.userStatus)===yt.Pending)return yt.Pending;let re="GUEST";const Qe=((dt=t==null?void 0:t.uid)==null?void 0:dt._id)===(Y==null?void 0:Y._id);if(Y!=null&&Y.roles){const tt=Y.roles.find(Br=>(Br==null?void 0:Br.roleType)==="ADMIN");if(Qe&&(re="OWNER"),tt&&(re="ADMIN"),Qe&&tt&&(re="ADMINOWNER"),re!=="GUEST")return re}return O||Qe?"OWNER":ge({feature:"POST",visibility:t.visibility||ht.Follower,isConnected:(N==null?void 0:N.isConnected)??!1,isFollowing:(N==null?void 0:N.isFollowing)??!1})},[O,t,N,Y,ge]),[fe,de]=T.useState(h??!1),Me=er(()=>{if(Ae&&U&&!H)P(`/post/${t._id}?noumId=${t.chamberId}`);else if(qe&&U)P(`/post/${t._id}`);else{if(Ft.isInactive(t.uid)||!Pe("POST","COMMENT",O?"OWNER":se))return;if(!fe&&se===yt.Pending){if(De)return;C("primary","none",b("noumena.community.userIsNotActive.comment")),je()}de(re=>U&&!H?!re:h??(!fe&&!(se===yt.Pending&&!x)))}}),Se=T.useMemo(()=>(ze||[]).map(re=>Ft.getProfilePicture(re==null?void 0:re.uid)||hp).slice(0,3),[ze]),at=T.useCallback(async()=>{await(n==null?void 0:n()),await(M==null?void 0:M())},[n,M]),Ne=T.useCallback(async re=>{if(me){try{await G({variables:{_id:re}}),at()}catch(dt){Q(dt,"",!1);return}return}const Qe=await K(re);at(),Qe&&ie&&U&&P(-1)},[G,K,me,ie,Q,P,U,at]),We=re=>{F(re.value)},Be=async()=>{await Ne(t._id)},it=T.useMemo(()=>{var re,Qe;return typeof((re=t.post)==null?void 0:re.content)=="string"||typeof((Qe=t.post)==null?void 0:Qe.content)=="object"?[{...t.post,key:Cn()}]:[]},[t]),gt=T.useCallback(async()=>{F(void 0),await J({variables:{postId:t._id}}).then(async({data:re})=>{var dt;const Qe=(dt=re==null?void 0:re.pinPost)==null?void 0:dt.isPinned;A(b(`noumena.chambers.element.posts.success.${Qe?"pin":"unpin"}`)),v==null||v(!p)}).catch(()=>{C("error","none",b(`noumena.chambers.element.posts.error.${_?"pin":"unpin"}_failed`))})},[J,t._id,A,b,v,p,C,_]),Nt=er(re=>ce(re==="LIKE"?Qe=>[...Qe,{uid:Y}]:Qe=>Qe==null?void 0:Qe.filter(dt=>{var tt;return((tt=dt==null?void 0:dt.uid)==null?void 0:tt._id)!==(Y==null?void 0:Y._id)}))),Ve=T.useCallback(()=>{wp(t._id)&&ve({variables:{limit:1,offset:0,postId:t._id}})},[t._id,ve]);return T.useEffect(()=>{w&&(w==="Pin"||w==="Unpin")&&gt()},[gt,w]),T.useEffect(()=>ce(t==null?void 0:t.reactions),[t==null?void 0:t.reactions]),T.useEffect(()=>{Ve==null||Ve()},[Ve]),be(l3,{isMarginTop:u,isPinned:_,pageView:h,noumEditor2:U&&!H,isCommunity:l,isPostView:!!Fe,"data-test":"PostItem-Container",children:[w==="Delete"&&B(gR,{postId:t._id,isDeleting:me?W:V,onClose:()=>F(void 0),onDelete:Be,"data-test":"PostItem-DeletePost"}),w==="Report"&&B(T3,{postId:t._id,onClose:()=>F(void 0),"data-test":"PostItem-ReportPostModal"},t._id),w==="Edit"&&B(hR,{post:t,onClose:()=>F(void 0),onSuccess:()=>{F(void 0),at()},onEdit:()=>at==null?void 0:at(),isMasterNoum:s,isCommunity:l,"data-test":"PostItem-CreatePost"}),a&&B(_3,{"data-test":"PostItem-RecentTitle",children:B(et,{font:"body-m",colorToken:"--text-body-neutral-default","data-test":"PostItem-TSpan",children:b("noumena.recent_post_title")})}),B(S3,{data:t,isPinned:!!(_&&!h),options:ke,userType:se,onHandleSelect:We,selectedCustomPreviewTab:f,size:E,isPostAuthor:ne,"data-test":"PostItem-PostItemHead"}),(t==null?void 0:t.text)&&be(pa,{children:[B(b3,{isCollapsed:!!(a&&we),noumEditor2:U&&!H,"data-test":"PostItem-TextWrapper",children:y?B(fv,{initialData:t,isEdit:!1,"data-test":"PostItem-PostRichTextEditor"}):B(i3,{isPost:!0,item:t,"data-test":"PostItem-ParsedContent"})}),a&&we&&B(g3,{onClick:()=>{Le(!1)},colorToken:"--link-card-brand-primary-default","data-test":"PostItem-ShowMore",children:b("noumena.elements.posts.show_more")})]}),it.map(re=>be(v3,{"data-test":"PostItem-ItemImageWrap",children:[re.category===wr.Image&&B(m3,{src:re.content||"",alt:"post","data-testid":"postImage",onClick:()=>{Te(re.content??""),ae(!0)},noumEditor2:U&&!H,"data-test":"PostItem-Image"}),re.category===wr.Video&&B(pp,{url:re.content,fileType:Cs(ws((re==null?void 0:re.content)??"")),controls:!0,"data-test":"PostItem-VideoPlayer"})]},re.key)),B(Ym,{url:pe,type:Zm.IMAGE,isOpen:Ee,handleClose:()=>{ae(!1)},"data-test":"PostItem-LightBox"}),((ze==null?void 0:ze.length)||0)>0&&f!==As.Preview&&be(y3,{noumEditor2:U,"data-test":"PostItem-ItemReaction",children:[B(Jm,{size:"M",borderedImage:!0,urls:Se,"data-test":"PostItem-InlineAvatar"}),B(et,{font:"body-s",colorToken:"--text-card-neutral-default","data-test":"PostItem-TSpan",children:b("noumena.post.liked_this_post",{count:(ze==null?void 0:ze.length)||0})})]}),f!==As.Preview&&B(C3,{data:t,userType:se,isCommentsVisible:!!(fe&&!h),commentsCount:x,handleComment:Me,handleThumbUp:Nt,userId:Y==null?void 0:Y._id,"data-test":"PostItem-PostItemFooter"}),fe&&B(kv,{isPostOwner:O,id:t._id,handleCreate:()=>I(x+1),handleDelete:()=>I(x-1),level:0,isNoumEditor2CommentView:U&&(!!Fe||!!ie),"data-test":"PostItem-CommentsList"})]})};export{lp as B,hR as C,Ey as E,E3 as I,R3 as P,cu as a,M3 as b,t3 as c,lu as u};
//# sourceMappingURL=PostItem-d75f4356.js.map
