{"version":3,"file":"CustomPreviewBodyV2-ef59ffd0.js","sources":["../../src/screens/Chamber/CustomPreview/CustomPreviewElementV2.tsx","../../src/screens/Chamber/CustomPreview/CustomPreviewBodyV2.tsx"],"sourcesContent":["import { type FC } from 'react';\nimport { type ElementOutput } from '@/apollo/generated/types';\nimport { Element } from '@/screens/Chamber/components/Element';\nimport { ElementUtils } from '@/utils/element';\nimport { HoverWrapper } from '@/features/noums/components/NoumEditor2.0';\nimport { SectionToolType } from '../components/NoumSections/constants';\nimport ElementWrapper from '../components/ElementWrapper/ElementWrapper';\n\ntype CustomPreviewElementV2Props = {\n  tool: ElementOutput;\n  spaceId: string;\n  index: number;\n  totalIndex: number;\n  isEditing?: boolean;\n};\n\nconst CustomPreviewElementV2: FC<CustomPreviewElementV2Props> = ({\n  tool,\n  spaceId,\n  index,\n  totalIndex,\n  isEditing,\n}) => (\n  <HoverWrapper\n    key={tool?._id}\n    id={tool?._id!}\n    className=\"child\"\n    type={SectionToolType.TOOL_TYPE}\n    isActive={false}\n    isCustomPreview\n    currentIndex={index}\n    elementType={tool?.elementType || undefined}\n    totalIndex={totalIndex}\n    isEditing={isEditing}\n  >\n    <ElementWrapper\n      className=\"element-container\"\n      element={tool}\n      spaceId={spaceId}\n      isCustomPreview\n      isCustomPreviewVisible={ElementUtils.isCustomPreviewVisible(tool)}\n      isEditing={false}\n    >\n      <Element\n        className=\"element-container\"\n        spaceId={spaceId}\n        element={tool}\n        id={tool?._id || ''}\n        currentTitle={tool?.headerContent ?? tool?.elementType ?? 'UNKNOWN'}\n        isEditing={false}\n        columnWidth={700}\n        isNoumEditor2\n      />\n    </ElementWrapper>\n  </HoverWrapper>\n);\n\nexport default CustomPreviewElementV2;\n","import { useMemo, type FC } from 'react';\nimport { cleanList } from '@/utils/list';\nimport { Spacer, Stack } from '@/layout';\nimport { BodyContainer } from '@/screens/Chamber/ViewChamber/styles';\nimport { useNoumContext } from '@/screens/Chamber/ViewChamber/ChamberProvider';\nimport { clearSectionWithNoTools } from '@/screens/Chamber/ViewChamber/noumViewHelper';\nimport {\n  NoumSectionContainer,\n  NoumSectionLayout,\n} from '@/screens/Chamber/components/NoumSections/Styles';\nimport { useEditChamberState } from '@/screens/Chamber/EditChamber/provider';\nimport { ColumnContainer } from '@/screens/Chamber/components/SectionElementRearrange/styles';\nimport { SpaceUtils } from '@/utils/space';\nimport { useBreakpoints } from '@/hooks';\nimport CustomPreviewElementV2 from './CustomPreviewElementV2';\nimport { CustomPreviewTabEnum } from './constants';\n\ntype CustomPreviewBodyV2Props = {};\n\nconst CustomPreviewBodyV2: FC<CustomPreviewBodyV2Props> = () => {\n  const { isOwner, spaceId, space } = useNoumContext();\n  const { customPreviewElements } = useEditChamberState();\n  const { isSmallerThanLaptop } = useBreakpoints();\n  const finalSectionList = useMemo(() => {\n    const cpType = isOwner\n      ? CustomPreviewTabEnum.Edit\n      : CustomPreviewTabEnum.Preview;\n    const layout = SpaceUtils.getCustomPreviewLayoutV2(\n      space,\n      customPreviewElements,\n      cpType,\n    );\n\n    return cleanList(clearSectionWithNoTools(layout.sections));\n  }, [customPreviewElements, isOwner, space]);\n\n  return (\n    <BodyContainer>\n      <Spacer height={16} />\n      <Stack vertical gap={12} fullWidth>\n        {finalSectionList.map((section) => (\n          <NoumSectionContainer isBackground={section.background}>\n            <NoumSectionLayout\n              id={section?._id}\n              noumSectionType={section.type}\n              isSmallerThanLaptop={isSmallerThanLaptop}\n            >\n              {section?.columns.map((col) => (\n                <ColumnContainer\n                  data-testid=\"noum-section-column\"\n                  id={col._id}\n                  key={col._id}\n                  gap={12}\n                  vertical\n                  isBackground={col.background}\n                >\n                  {col.tools.map((tool, toolIndex) => (\n                    <CustomPreviewElementV2\n                      tool={tool}\n                      spaceId={spaceId || ''}\n                      index={toolIndex}\n                      totalIndex={col.tools.length - 1}\n                      isEditing={isOwner}\n                    />\n                  ))}\n                </ColumnContainer>\n              ))}\n            </NoumSectionLayout>\n          </NoumSectionContainer>\n        ))}\n      </Stack>\n    </BodyContainer>\n  );\n};\n\nexport default CustomPreviewBodyV2;\n"],"names":["CustomPreviewElementV2","tool","spaceId","index","totalIndex","isEditing","jsx","HoverWrapper","_id","SectionToolType","TOOL_TYPE","elementType","undefined","ElementWrapper","ElementUtils","isCustomPreviewVisible","Element","headerContent","CustomPreviewBodyV2","isOwner","space","useNoumContext","customPreviewElements","useEditChamberState","isSmallerThanLaptop","useBreakpoints","finalSectionList","useMemo","cpType","CustomPreviewTabEnum","Edit","Preview","layout","SpaceUtils","getCustomPreviewLayoutV2","cleanList","clearSectionWithNoTools","sections","jsxs","BodyContainer","Spacer","Stack","map","section","NoumSectionContainer","background","NoumSectionLayout","type","columns","col","ColumnContainer","tools","toolIndex","length"],"mappings":"2bAgBA,MAAMA,EAA0DA,CAAC,CAC/DC,KAAAA,EACAC,QAAAA,EACAC,MAAAA,EACAC,WAAAA,EACAC,UAAAA,CACF,IACGC,EAAAC,EAAA,CAEC,GAAIN,GAAAA,YAAAA,EAAMO,IACV,UAAU,QACV,KAAMC,EAAgBC,UACtB,SAAU,GACV,gBAAe,GACf,aAAcP,EACd,aAAaF,GAAAA,YAAAA,EAAMU,cAAeC,OAClC,WAAAR,EACA,UAAAC,EAAqB,YAAA,sCAErB,SAAAC,EAACO,EACC,CAAA,UAAU,oBACV,QAASZ,EACT,QAAAC,EACA,gBAAe,GACf,uBAAwBY,EAAaC,uBAAuBd,CAAI,EAChE,UAAW,GAAM,YAAA,wCAEjB,SAACK,EAAAU,EAAA,CACC,UAAU,oBACV,QAAAd,EACA,QAASD,EACT,IAAIA,GAAAA,YAAAA,EAAMO,MAAO,GACjB,cAAcP,GAAAA,YAAAA,EAAMgB,iBAAiBhB,GAAAA,YAAAA,EAAMU,cAAe,UAC1D,UAAW,GACX,YAAa,IACb,cAAa,GAAA,YAAA,gCAAA,CAAA,CAEjB,CAAA,CAAA,EA7BKV,GAAAA,YAAAA,EAAMO,GA8Bb,ECnCIU,EAAoDA,IAAM,CACxD,KAAA,CAAEC,QAAAA,EAASjB,QAAAA,EAASkB,MAAAA,GAAUC,EAAgB,EAC9C,CAAEC,sBAAAA,GAA0BC,EAAqB,EACjD,CAAEC,oBAAAA,GAAwBC,EAAgB,EAC1CC,EAAmBC,EAAAA,QAAQ,IAAM,CACrC,MAAMC,EAAST,EACXU,EAAqBC,KACrBD,EAAqBE,QACnBC,EAASC,EAAWC,yBACxBd,EACAE,EACAM,CAAM,EAGR,OAAOO,EAAUC,EAAwBJ,EAAOK,QAAQ,CAAC,CACxD,EAAA,CAACf,EAAuBH,EAASC,CAAK,CAAC,EAGxC,OAAAkB,EAACC,EAAa,CAAA,YAAA,oCACZ,SAAA,CAAAjC,EAACkC,EAAO,CAAA,OAAQ,GAAG,YAAA,6BAAA,IAClBC,EAAM,CAAA,SAAQ,GAAC,IAAK,GAAI,UAAS,GAAA,YAAA,4BAC/Bf,WAAiBgB,IAAKC,KACpBC,EAAqB,CAAA,aAAcD,EAAQE,WAAW,YAAA,2CACrD,SAAAvC,EAACwC,GACC,GAAIH,GAAAA,YAAAA,EAASnC,IACb,gBAAiBmC,EAAQI,KACzB,oBAAAvB,EAAyC,YAAA,wCAExCmB,SAAAA,GAAAA,YAAAA,EAASK,QAAQN,IAAKO,KACpBC,EACC,CAAA,cAAY,sBACZ,GAAID,EAAIzC,IAER,IAAK,GACL,SAAQ,GACR,aAAcyC,EAAIJ,WAAW,YAAA,sCAE5BI,SAAIE,EAAAA,MAAMT,IAAI,CAACzC,EAAMmD,IACnB9C,EAAAN,EAAA,CACC,KAAAC,EACA,QAASC,GAAW,GACpB,MAAOkD,EACP,WAAYH,EAAIE,MAAME,OAAS,EAC/B,UAAWlC,EAAQ,YAAA,6CAAA,CAEtB,GAbI8B,EAAIzC,GAcX,EAEJ,CAAA,EACF,CACD,EACH,CACF,CAAA,CAAA,CAEJ"}